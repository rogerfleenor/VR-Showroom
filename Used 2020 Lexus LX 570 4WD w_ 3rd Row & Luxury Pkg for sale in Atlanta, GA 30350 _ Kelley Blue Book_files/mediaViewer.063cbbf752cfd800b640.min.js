(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{696:function(e,i,t){e.exports=t.p+"ee5dfbe80e9113fd0716e268dd238402.png"},697:function(e,i){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAQDAwQDAwQEAwQFBAQFBgoHBgYGBg0JCggKDw0QEA8NDw4RExgUERIXEg4PFRwVFxkZGxsbEBQdHx0aHxgaGxr/2wBDAQQFBQYFBgwHBwwaEQ8RGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhr/wgARCABkAIYDAREAAhEBAxEB/8QAHAABAAEFAQEAAAAAAAAAAAAAAAcCBAUGCAMB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAA6EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABpZFhSfScjLAAAAA9yPiPSfAeZzOdGmVPEAAAyBmyDiCCMysqJIOsjczVgAAAZ4jIi800+G0miHYhflgAAAAaER0b2Ul6QwdNFyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/EAEUQAAEEAAUBAgMREQAAAAAAAAECAwQFAAYHERIhEzEwMnEIEBQVFyI0QVFSYGFigpHB0hYYIyRCVVZjhJKVoaKkwtHT/9oACAEBAAE/APgVqLqXV6cV7D9k27KlSiRGjNdFL495JPQDB1v1BtUdrl3ILpYPiLXFkSB+8njj1VNYf0Fa/hUn/phjzRV/SvIRnbJzsVBPVaA4wofMcB3+nGWcyV+baSLb0rpdiSUkp3GykEEgpUPaIPg4sORNc4RGFvr9xCSSP9Y1i1Bk6QGrTPo3Z65/PukBsNhO3eeKgSeWNLLQas6g3GbLmElDNVGZYr4q1dqlhSio8gdgCr1p89+O1KZWxKabeZcBC0LSFJUPbBHcRj7v1aE5wzPl1isNlUPSUSojXb9l2HNAPQ8VeT5mNOZkrUXJ1fmGDERFMvn+JGQkuI4rUnfrtuDtuMSIr8R0tymVsrH5K0keAo4bNhbRY0pfZtOr2Ud9iehIAPukjGYreXWy3qyuR6WxGuiUtDiVj3xVjXa9XTabW6wr8PO4REE/LPrv6ArFvojmDKeSTmZi4SHkMoelRGOSFIbPy99lEb9emE5nvEeJc2KfJLcH14Obb8997Zn9tc+1hrMF/YPNRUW9i848sNoQZiyFKJ2A8bGbtH77TevhZses4tk7DkMrfRxUeC+Q49/jp32GKya1Y10ObG6NSWW3m/iSpO4/kcUD79mzJj25L9W00pSnnepYPtFKu/f4vAAkHcdCMMZnecZDFvHZtGE9B2w2cHkV9eNdYen9xlKInNs26y9DFgjg7DaTJSHODm3IHqRiyRlzNGV2suwNeK5dYAlBbsKJ2I4UJ8VCnCeoGPUAqXvYmr2nxH6+07LH3vUNHV3VvTb5l7z/AMcZo8zrk2gyDW5pa1OrojzjR2PsliW8gkK9DqRsvxh71W2IeprGdW/SjV67tkUUZvmg00RovSXUnZIXz2HcScZMn5ehZQoRQVUt+KK+P6GVavAuBvgOPNCNklW22+J9zLsEpbfcCWE+Iy2kIbT5APBax5VnZxyJNrqZgSLAOtOsNlYRuUr6gE7AHiTjSTQ8MQbQalZeYLq3Eeheb6VqCdjy6trw5oNp+519IPomv/bwNA9PvzD/AH0j7eBozkfZrnRJfDKAhsPynnQhPuDks7DGpuhl5MzateRaBlFMWWwnhJabSFdyiUqWDiuiCBXxIqdto7KGxt3bJG3wK//EABQRAQAAAAAAAAAAAAAAAAAAAHD/2gAIAQIBAT8AXf/EABQRAQAAAAAAAAAAAAAAAAAAAHD/2gAIAQMBAT8AXf/Z"},766:function(e,i,t){"use strict";var a=t(23),n=t.n(a),s=t(7),r=t.n(s),l=t(12),o=t.n(l),c=(t(13),t(1)),d=t.n(c),A=t(3),u=t.n(A),h=t(1039),p=t(494),g=t(663),m=t(167),f=t(1038),v=t(187),b=t(585),y=t(42),S=t.n(y),w=t(33),k=t.n(w),E=t(1032),x=r()("span",{"aria-hidden":"true"},void 0,"×"),P=function(e){function i(i){var t;return(t=e.call(this,i)||this).state={isOpen:i.isOpen},t.handleBackdropClick=t.handleBackdropClick.bind(S()(t)),t.handleClose=t.handleClose.bind(S()(t)),t}k()(i,e);var t=i.prototype;return t.UNSAFE_componentWillReceiveProps=function(e){this.setState({initialSlide:e.initialSlide,isOpen:e.isOpen})},t.handleClose=function(){this.props.onHide(),this.setState({isOpen:!1})},t.handleBackdropClick=function(e){return e.target===e.currentTarget&&this.handleClose(),!1},t.renderClose=function(){return r()("button",{type:"button",className:"close",onClick:this.handleClose,"aria-label":"Close"},void 0,x)},t.renderCarousel=function(e){var i=u.a.Children.toArray(this.props.children),t=i&&1===i.length;return r()("div",{className:"lightbox-carousel-wrapper",onClick:this.handleBackdropClick},void 0,r()("div",{className:"lightbox-carousel"},void 0,t?i[0]:u.a.createElement(g.a,e,i)))},t.render=function(){var e=this.props,i=e.className,t=e.gallerySettings,a=o()(e,["className","gallerySettings"]);return delete a.onHide,delete a.isOpen,this.state.isOpen&&u.a.createElement(E.a,Object.assign({"data-cmp":"lightboxGallery",className:"lightbox-gallery-container "+i},a,{show:!0,inverse:!0,onClick:this.handleBackdropClick}),r()("div",{className:"lightbox-gallery"},void 0,this.renderClose(),this.renderCarousel(t)))},i}(A.PureComponent);P.propTypes={},P.defaultProps={className:"",onHide:function(){},isOpen:!1};var N=P,O=t(696),C=t.n(O),B=t(697),j=t.n(B),G=function(e,i){var t=[],a=[],n=[];return e.map((function(e,s){switch(e.mediaType.toLowerCase()){case"spin":i(!0),n.push(e);break;case"photo":a.push(e);break;case"video":t.push(e)}})),n=n.concat(a,t)},I=function(e){FFLoad360("179917CE-18CF-4CEE-9562-8EF99A01D423","spin",{val:d()(e,"fyu.id",null)},{preload:1})},R=function(e){var i=e.item,t=e.index,a=e.isScaled,n=e.isMediaPane,s=e.lightboxOpen,l=i.pane,c=i.fullSize,d=i.width,A=void 0===d?500:d,p=i.height,g={width:A,height:void 0===p?350:p},m=a&&l.src?l:c,f=m.src,v=o()(m,["src"]),b={"data-flickity-lazyload":f},y=r()("div",{className:"image-wrapper"},f+t,u.a.createElement("img",Object.assign({},t>0?b:null,0===t&&{src:f},s?null:g,{className:"center-block img-responsive"},v)));return"spin"===i.mediaType.toLowerCase()&&n?r()(h.a,{shrinkwrap:!1},Object.keys(i).toString(),r()(h.a.Base,{},void 0,y),r()(h.a.Anchor,{position:"center",offsetBottom:f?0:75},void 0,r()("img",{src:i.overlay?i.overlay.src:C.a}))):y},V=function(e,i){return r()("span",{className:"pager"},void 0,e+"/"+i)},F=r()("div",{className:"full-screen-text margin-right-2"},void 0,"Full Screen"),Q=r()(p.a,{glyph:"expand","aria-hidden":"true"}),D=function(e){return r()("button",{className:"full-screen-trigger padding-xs-1 padding-sm-2",onClick:e,"aria-label":"View Full Screen",type:"button"},void 0,F,Q)},L=r()("div",{},void 0,"No Image Available"),T=r()("div",{className:"filmstrip-slide-viewing"},void 0,r()("span",{},void 0,"Viewing")),z=function(e){var i=e.slidesData,t=void 0===i?[]:i,a=e.fullScreenTrigger,s=void 0===a||a,l=e.className,c=e.handleSettle,h=void 0===c?function(){}:c,p=e.hideFilmStrip,y=e.filmstripSettings,S=e.mediaPaneSettings,w=e.lightBoxSettings,k=e.filmstripSlidesToShow,E=void 0===k?4:k,x=e.mediaPaneSize,P=void 0===x?"md":x,O=e.config,C=(e.hasPlaylist,o()(e,["slidesData","fullScreenTrigger","className","handleSettle","hideFilmStrip","filmstripSettings","mediaPaneSettings","lightBoxSettings","filmstripSlidesToShow","mediaPaneSize","config","hasPlaylist"])),B=Object(A.useState)(!1),F=n()(B,2),Q=F[0],z=F[1],H=Object(A.useState)((function(){return G(t,z)})),U=n()(H,2),M=U[0],Z=U[1],J=Object(A.useState)(0),K=n()(J,2),W=K[0],Y=K[1],q=Object(A.useState)(!1),X=n()(q,2),_=X[0],$=X[1],ee=Object(A.useState)(!1),ie=n()(ee,2),te=ie[0],ae=ie[1],ne=Object(A.useState)(!0),se=n()(ne,2),re=se[0],le=se[1],oe=Object(m.usePrevious)(te),ce=Object(A.useRef)(),de={};Object(A.useEffect)((function(){t&&Z(G(t,z))}),[t]),Object(A.useEffect)((function(){te&&te!==oe&&("undefined"==typeof FFLoad360?Object(v.a)(M[0].fyu.script).then((function(){return I(M[0])})):I(M[0]))}),[oe,M,te]);var Ae,ue,he,pe,ge=function(e){de[e]&&de[e].pause()},me=function(){var e=d()(ce,["current","flkty","selectedIndex"],0);return M[e].mediaType.toLowerCase()},fe=function(e){var i=e.data,t=e.callback,a=e.isScaled,n=e.lightbox,s=e.isMediaPane,r=[];return i.map((function(e,i){var l=t({item:e,index:i,isScaled:a,lightbox:n,isMediaPane:s});r.push(l)})),r},ve=function(){$(!1),ge(d()(ce,["current","flkty","selectedIndex"],0))},be=function(){le(!1),ae(!1)},ye=function(){"spin"===me()?(te||ae(!0),re||le(!0)):_||$(!0)},Se=function(e){Y(e),h(),ge(e)},we=function(e,i,t){var a=e.videoId,n=e.height,s=e.width,l=e.src,o=e.vendorId,c=e.playlist,A=e.onPlayerReady,h=e.onPlay,p=e.onReplay,g=e.onCompleted,m=a+(t?"-lightbox":"");return i===d()(ce,["current","flkty","selectedIndex"],0)?r()("div",{className:"text-center"},void 0,u.a.createElement(f.a,{ref:function(e){de[i]=e},key:m+i,videoId:m,height:n,width:s,src:l,playlist:c,vendorId:o,className:"margin-horizontal-auto",onPlayerReady:function(){A()},onPlay:function(){h()},onReplay:function(){p()},onCompleted:function(){g()},config:O})):function(e,i){return r()(b.a,{glyph:"video",bsSize:"sm",glyphicon:"",className:"letterbox image-scaled bg-gray-darker video-placeholder",uiContext:"grey"},e+i)}(l,i)},ke=function(e){var i=e.item,t=e.index,a=e.isScaled,n=e.lightbox,s=e.isMediaPane;return"video"===i.mediaType.toLowerCase()?we(i,t,n):R({item:i,index:t,isScaled:a,isMediaPane:s,lightboxOpen:_})},Ee=function(e){var i=e.item,t=e.index;return r()("div",{className:"thumbnail-wrapper display-block margin-horizontal-1"},i+t,function(e){var i=e.mediaType,t=e.thumbnail,a=t.src,n=o()(t,["src"]);return u.a.createElement("img",Object.assign({"data-flickity-lazyload":"spin"!==i.toLowerCase()||a?a:j.a,className:"center-block"},n))}(i),T)};return delete C.hasPlaylist,delete C.width,delete C.height,u.a.createElement("div",Object.assign({"data-cmp":"mediaViewer",className:l+" media-gallery-viewer"},C),t?(void 0===(Ae=S)&&(Ae={}),void 0===(ue=y)&&(ue={}),1===M.length?r()("div",{className:"media-pane-wrapper-"+P,onClick:ye},void 0,R({item:M[0],index:0,isScaled:!0,isMediaPane:!0,lightboxOpen:_}),s&&D(ye),V(W+1,t.length)):r()("div",{},void 0,(he=Ae,pe=Object.assign({className:"media-gallery",onSettle:Se,onStaticClick:function(e){return("photo"===me()&&s||"spin"===me())&&ye(),!1},initialIndex:0,lazyLoad:1,options:{pageDots:!1,asNavFor:".media-lightbox"},ref:ce},he),r()("div",{className:"media-pane-wrapper-"+P},void 0,u.a.createElement(g.a,pe,fe({data:M,callback:ke,isScaled:!0,isMediaPane:!0})),s&&D(ye),V(W+1,t.length))),!p&&function(e){var i=Object.assign({className:"filmstrip-gallery margin-top-2",options:{contain:!0,asNavFor:".media-gallery",pageDots:!1,groupCells:E},lazyLoad:1,cellWidth:100/E+"%"},e);return u.a.createElement(g.a,i,fe({data:M,callback:Ee,isScaled:!1}))}(ue))):L,t&&function(e){var i=M.slice(),t=Object.assign({className:"media-lightbox",initialIndex:d()(ce,["current","flkty","selectedIndex"],0),onSettle:Se,lazyLoad:3,options:{pageDots:!1}},e);return r()(N,{gallerySettings:t,isOpen:_,onHide:ve},void 0,i.length>1?fe({data:i,callback:ke,isScaled:!1,lightbox:!0}):R({item:i[0],index:0,isScaled:!1,lightboxOpen:_}))}(w),t&&Q&&r()(N,{gallerySettings:{className:"media-gallery",options:{pageDots:!1}},isOpen:te,onHide:be,className:re?void 0:"invisible"},void 0,r()("div",{id:"spin",className:"fyu_container center-block text-center",style:{width:M[0].fullSize.width,height:M[0].fullSize.height}})))};z.propTypes={};i.a=z},968:function(e,i,t){"use strict";t.r(i),t.d(i,"createImageSlide",(function(){return S})),t.d(i,"createMediaSlide",(function(){return w})),t.d(i,"MediaViewerContainer",(function(){return E}));var a,n=t(3),s=t(1),r=t.n(s),l=t(19),o=t(506),c=t(585),d=t(766),A=t(68),u=t(201),h=t(172),p=t(231),g=t(522),m=t(163),f=t(617),v=t(1031);t(18);function b(e,i,t,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var s=e&&e.defaultProps,r=arguments.length-3;if(i||0===r||(i={children:void 0}),1===r)i.children=n;else if(r>1){for(var l=new Array(r),o=0;o<r;o++)l[o]=arguments[o+3];i.children=l}if(i&&s)for(var c in s)void 0===i[c]&&(i[c]=s[c]);else i||(i=s||{});return{$$typeof:a,type:e,key:void 0===t?null:""+t,ref:null,props:i,_owner:null}}var y=b(c.a,{bsSize:"md"}),S=function(e,i,t){var a;return void 0===t&&(t=""),a="xs"===i?{width:h.a.mediaViewerSm.width,height:h.a.mediaViewerSm.height}:{width:h.a.mediaViewerxLg.width,height:h.a.mediaViewerxLg.height},{mediaType:"photo",thumbnail:{src:e.src?Object(p.a)({src:e.src||"",width:h.a.inventoryThumbxLg.width,height:h.a.inventoryThumbxLg.height,bgColor:"2d363e"}):"",alt:t},pane:{src:e.src?Object(p.a)({src:e.src||"",width:a.width,height:a.height,bgColor:"2d363e"}):"",alt:t},fullSize:{src:e.src,alt:t}}},w=function(e,i,t,a,n,s,r,l){var o=r+" - "+a,c=n.map((function(e,t){return S(e,i.mediaType,o+" - "+(t+1))}));if(l.length){c=c.concat(Object(v.a)(l,{browser:i,size:"md",createVideoBirfEvent:function(){return f.a.createVideoBirfEvents({birf:e,listing:s,section:"mediaViewer"})}}))}if(t){var d;switch(i.mediaType){case"xs":d="56.25vw";break;case"sm":d=345;break;case"md":d=500;break;case"lg":d=700}var A={mediaType:"spin",fyu:{id:t,script:"//cdn.flickfusion.net/360/js/vs.js"},thumbnail:{alt:o+" - 360 View"},fullSize:{height:d,width:"auto",src:c[0]?c[0].fullSize.src:"",alt:c[0]?c[0].fullSize.alt:""},pane:{src:c[0]?c[0].pane.src:"",alt:r+" - 360 View"}};c.splice(0,0,A)}return c},k=function(e,i){return e.hasPlaylist?!(r()(i,"videos[0].playlist",!1)!==r()(e,"videos[0].playlist",!1)):!e.listing.fyuseId||!(i.browser.mediaType!==e.browser.mediaType)},E=Object(n.memo)((function(e){var i=e.actions,t=void 0===i?{}:i,a=e.birf,s=void 0===a?{}:a,l=e.hasPlaylist,o=void 0!==l&&l,c=e.images,h=void 0===c?[]:c,p=e.listing,g=void 0===p?{}:p,m=e.videos,f=void 0===m?[]:m,v=Object(A.c)().ENABLE_MOBILE_FULL_SCREEN_MEDIA,S=t.getVideoPlayList,k=g.id,E=g.fyuseId,x=g.listingTitleLong,P=g.listingType,N=g.mainImageIsStock,O=g.owner,C=Object(n.useRef)(),B=r()(O,"location.address.state","");if(C.current=function(e,i,t){return"Used"===e&&"WA"===t&&!!i}(P,N,B),C.current)return y;Object(n.useEffect)((function(){o&&S(k)}),[]);var j=Object(n.memo)((function(){var e=Object(n.useContext)(u.a),i=e.greaterThan,t=e.is,a=w(s,e,E,k,h,g,x,f),l=r()(f[0],"playlist",!1);return b(d.a,{slidesData:a,filmstripSlidesToShow:i.sm?6:4,hideFilmStrip:t.xs,fullScreenTrigger:!t.xs||t.xs&&!!v,hasPlaylist:l})}),[s,E,k,h,g,x,f]);return h.length||E?b(j,{}):y}),k),x=Object(o.a)({getVideoPlayList:g.e});i.default=Object(l.connect)((function(e){var i=e.birf,t=e.domain,a=m.vdpResultsDuck.selectors.getActiveInventory(e)[0]||{},n=r()(t,"vdp.videos.activeResults",[]),s=a.hasPlaylist;return{images:a.images.sources||[],hasPlaylist:s,videos:n,listing:a,birf:i}}),x)(E)}}]);
//# sourceMappingURL=mediaViewer.063cbbf752cfd800b640.min.js.map