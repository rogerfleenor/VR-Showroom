!function(e){function t(t){for(var r,o,l=t[0],c=t[1],s=t[2],d=0,m=[];d<l.length;d++)o=l[d],a[o]&&m.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);m.length;)m.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={6:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=a[e]=[t,r]});t.push(n[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(e){return o.p+"2.923.0/js/"+({}[e]||e)+".min.js"}(e);var c=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}a[e]=void 0}};var s=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/ds/",o.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;i.push([1238,0,1]),n()}({10:function(e,t,n){"use strict";n.d(t,"x",function(){return c}),n.d(t,"A",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"r",function(){return m}),n.d(t,"s",function(){return f}),n.d(t,"o",function(){return p}),n.d(t,"p",function(){return h}),n.d(t,"q",function(){return b}),n.d(t,"t",function(){return v}),n.d(t,"u",function(){return g}),n.d(t,"y",function(){return E}),n.d(t,"B",function(){return I}),n.d(t,"w",function(){return C}),n.d(t,"z",function(){return _}),n.d(t,"G",function(){return N}),n.d(t,"C",function(){return S}),n.d(t,"D",function(){return D}),n.d(t,"E",function(){return A}),n.d(t,"F",function(){return P}),n.d(t,"H",function(){return w}),n.d(t,"J",function(){return L}),n.d(t,"f",function(){return R}),n.d(t,"k",function(){return j}),n.d(t,"g",function(){return M}),n.d(t,"h",function(){return F}),n.d(t,"i",function(){return x}),n.d(t,"n",function(){return U}),n.d(t,"j",function(){return B}),n.d(t,"a",function(){return V}),n.d(t,"l",function(){return G}),n.d(t,"v",function(){return Y}),n.d(t,"c",function(){return H}),n.d(t,"K",function(){return z}),n.d(t,"I",function(){return W}),n.d(t,"d",function(){return q}),n.d(t,"b",function(){return X});var r=n(58),a=n.n(r),i=(n(77),n(6)),o=n(22);function l(e){return e.vehicle||{}}function c(e){return y(e).id||""}function s(e){return O(e).id||""}function u(e){return T(e).id||""}function d(e){return function(e){return e&&e.tradeIn||{}}(e)}function m(e){return e&&e.tivSource||null}function f(e){return e&&e.tivIcoStatus||null}function p(e){return e&&e.tivOfferExpirationDate||null}function h(e){return e&&e.tivOfferDate||null}function b(e){return e&&e.tivOfferId||null}function v(e){return l(e).color||null}function g(e){return l(e).condition||""}function y(e){return l(e).make||{}}function E(e){return y(e).name||""}function O(e){return l(e).model||{}}function I(e){return O(e).name||""}function T(e){return l(e).trim||{}}function C(e){return T(e).vehicleId||null}function _(e){return l(e).mileage||0}function N(e){return l(e).year||null}function S(e){var t=l(e);return t.year+" "+t.make.name+" "+t.model.name+" "+t.trim.name}function D(e){return e.vehicleOptions||{}}function A(e){return T(e).name||""}function P(e){return l(e).vin||""}function w(e){return e.zip||""}function L(e){return e.isAmountAppliedToFinancing||!1}function R(e){var t,n;return null!=(n=null===(t=e)||void 0===t?void 0:t.amountOwed)?n:0}function j(e){return e.paymentPreference||""}function k(e){return e.estimate||[]}function M(e){if(e.tivSource===o.j.SITEDRIVER)return e.TIVHigh;var t=k(e),n=a()(t,function(e){return"Excellent"===e.name});return n?n.value:0}function F(e){if(e.tivSource===o.j.SITEDRIVER)return e.TIVLow;var t=k(e),n=a()(t,function(e){return"Fair"===e.name});return n?n.value:0}function x(e){if(e.tivSource===o.j.SITEDRIVER)return e.value;var t=k(e),n=a()(t,function(e){return e.selected});return n?n.value:0}function U(e){return e&&e.value?e&&e.value||0:x(e)}function B(e){return e.tivOfferExpirationDate||""}function V(e,t){var n=U(e);if(!n)return null;var r=n-R(e),a=l(e),c=a.year+" "+a.make.name+" "+a.model.name,s=_(e),u=s?" w/ "+Object(i.e)(s):"",d=g(e),m="";switch(t){case o.j.ICO:m=Object(i.c)(r)+"\n            Kelley Blue Book "+String.fromCharCode(8480)+"\n            Instant Cash Offer\n            for "+c+" "+u;break;default:m=Object(i.c)(r)+" est.\n        Kelley Blue Book "+String.fromCharCode(174)+"\n        Trade-In Value\n        for "+c+" "+u+"\n        in "+d+" condition"}return{tradeInValue:n,tradeInDisplay:m}}function G(e){var t=U(e);if(!t)return null;var n=t-R(e),r=S(e),a=_(e),o=a?" w/"+Object(i.e)(a):"";return{tradeInValue:t,tradeInDisplay:Object(i.c)(n)+" - "+r+o}}function Y(e){var t=S(e),n=_(e);return""+t+(n?"w/"+Object(i.e)(n):"")}function H(e){return function(e){return e&&e.rememberedTradeIn||{}}(e)}function K(e){return e?{color:e.color,condition:e.condition,make:e.make,mileage:e.mileage,model:e.model,trim:e.trim,vin:e.vin,year:e.year}:null}function z(e){return!(!e||!e.year)&&(!(!e.source||!e.source.trim())||(e.value>0||!1))}function W(e){return e&&e.isRememberedTradeInApplied||!1}function q(e){return e&&e.source||""}function X(e){var t=function(e){return e&&e.value||0}(e),n=q(e);if(!t&&!n)return null;var r=t?""+Object(i.c)(t):"",a=function(e){var t=K(e);return t&&t.year||null}(e),o=function(e){var t=K(e);return t&&t.make||""}(e),l=function(e){var t=K(e);return t&&t.model||""}(e),c=function(e){var t=K(e);return t&&t.mileage||0}(e),s=c?"Mileage "+Object(i.d)(c):"";return{expirationDate:function(e){if(!e||!e.expirationDate)return"";var t="";try{t=new Date(e.expirationDate).toLocaleDateString("en-US")}catch(t){console.log("Error formatting tradeIn expiration date: "+e.expirationDate+" with error: "+t)}return t}(e),formattedValue:r,formattedMileage:s,make:o,model:l,tivSource:n,year:a}}},107:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return E});var r=n(66),a=n.n(r),i=n(49),o=n(23),l="SIDEBAR",c=function(e){return e&&"PIXALL-ANALYTICS"===e.context},s=function(e){return e&&"EXTERNAL-TRACK"===e.context},u=function(e){return e&&"ANALYTICS-RELAY"===e.context},d=function(e){return e&&"SP_REMEMBERED_TRADE"===e.context},m=function(e){0},f=function(e){console.log(e)},p=function(e){m(JSON.stringify(e));var t=document.getElementById("mmd-frame-shopperplatform").contentWindow;t?t.postMessage(function(e){return JSON.stringify(e)}(e),"*"):m()},h=0,b=!1,v=function(e,t){m(),p({sourceId:"MAIN",targetId:"SP-MAIN",context:"ANALYTICS",message:{type:"Init Analytics",description:""}}),h<=0?f("Giving up trying to establish communication for analytics relay after 9 retries."):(h--,setTimeout(function(){t&&!b&&(m(),setTimeout(function(){v(e,t)},e-100))},100))},g=function(){f("DS initializing shopper platform link for analyticsRelay");var e=Object(o.a)().enableAnalyticsRelayRetry||!1;e||f("enableAnalyticsRelayRetry is turned off - bypassing retry logic"),h=9,setTimeout(function(){v(2e3,e)},e?2e3:5e3)},y=function(e){f("DS received post message in analyticsRelay");var t=function(e){var t;try{t=JSON.parse(e)}catch(e){t=null}return t}(e.data);if(c(n=t)||s(n)||u(n)||d(n)){var n;if(m(),f("DS received valid post message in analyticsRelay"),c(t)){var r=t.message;try{a.a.sendMessageWithContext(l,i.b,r)}catch(e){console.log("pixall error (through relay)",e)}}if(s(t)){var o=t.message;try{a.a.sendMessageWithContext(l,i.a,o)}catch(e){console.log("external track error (through relay)",e)}}if(u(t))"DS-SP-INIT-ACK"===(r=t.message)?(m(),b=!0):f("Unexpected analytics relay general message received: "+r);if(d(t)){o=t.message;try{a.a.sendMessageWithContext(l,i.c,o)}catch(e){console.log("Remembered trade error (through relay)",e)}}}},E=function(){!function(e){f("DS set up event listener for analyticsRelay");var t=window.addEventListener?"addEventListener":"attachEvent";(0,window[t])("attachEvent"===t?"onmessage":"message",e),m()}(y)}},110:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c});var r=function(e){var t;return(null===(t=e)||void 0===t?void 0:t.showroom)||{}},a=function(e){return r(e).email||""},i=function(e){return r(e).pinCode||""},o=function(e){return r(e).sendPinEmailToShopperCallInProgress||!1},l=function(e){return r(e).hasPinCodeError||!1},c=function(e){return r(e).apiCallInProgress||!1}},1238:function(e,t,n){n(359),e.exports=n(1261)},124:function(e,t,n){"use strict";var r=n(77),a=n.n(r),i=n(17),o=n.n(i),l=n(20),c=n(1),s=n(7),u=n(21),d=n(10),m=function(e){return{year:d.G(e),make:d.y(e),makeId:d.x(e),model:d.B(e),modelId:d.A(e),trim:d.E(e),trimId:d.m(e),vin:d.F(e),mileage:d.z(e),condition:d.u(e),color:d.t(e),value:d.n(e),owed:d.f(e),amountOwed:d.f(e),ownershipType:d.k(e),isAmountAppliedToFinancing:d.J(e),source:d.r(e),status:d.s(e),expirationDate:d.o(e),offerDate:d.p(e),offerId:d.q(e),vehicleId:d.w(e),vehicleOptions:d.D(e)}},f=function(e){var t=d.e(e);return t&&d.G(t)?m(t):null},p=n(9),h=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.shopper)||void 0===n?void 0:n.pixallId)?r:""},b=n(5),v=n(14),g=n(19),y=n(13),E=n(41);function O(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.vehicle)||void 0===n?void 0:n.vehicleUrl)?r:void 0}function I(e){try{var t={vehicle:{},dealer:{},offer:{},financing:{},shopper:{},answers:{},context:{},payment:{}},n=v.a.services.shopperPlatform;t.context.vdpUrl=O(e)||l.browserHelper.getCurrentBrowserUrl(window,document),t.context.frameUrl=window.location.href,t.context.shopperPlatformUrl=""!==n.port?n.protocol+"://"+n.host+":"+n.port:n.protocol+"://"+n.host;var r=c.selectors.getVehicleDetails(e);t.vehicle={vin:r.vin,retailPrice:r.retailPrice,listedPrice:r.listedPrice,make:r.make,model:r.model,trim:r.trim,mileage:r.mileage,year:r.year,imageUrl:r.imageUrl,styleId:r.styleId,type:r.type,stockNumber:r.stockNumber};var a=Object(y.h)();o()(t.vehicle,a.vehicle);var i=c.selectors.getOfferSettings(e.offer),d=i.dealerId,m=i.ddcAccountId,I=Object(b.v)(Object(b.h)(e),Object(p.h)(e)),T=Object(b.q)(e.dealer);t.dealer={id:d,ddcAccountId:m,listingCode:I,dealerZip:T},t.leadReferenceId=c.selectors.getLeadReferenceId(e),t.creditAppReferenceId=c.selectors.getCreditAppReferenceId(e),t.isSinglePrice=c.selectors.isVehicleSinglePrice(e);var C=c.selectors.getCurrentOfferType(e),_=c.selectors.getOfferDetails(e,C),N=_.downPayment,S=_.offerPrice,D=_.initialOfferPrice,A=_.term,P=(C!==s.LEASE?c.selectors.getOfferDetails(e,s.FINANCE):c.selectors.getOfferDetails(e,C)).creditTier;t.payment=C===s.CASH?{}:c.selectors.getSelectedTermByOfferType(e,C)||{};var w=c.selectors.getTerm(e,A)||{},L=w.amountFinanced,R=w.apr,j=w.dealSummary,k=w.months,M=w.monthlyPayment,F=w.monthlyPaymentRounded,x=c.selectors.getSessionId(e),U=c.selectors.getDueAtSigning(e)||0,B=c.selectors.getMessage(e),V=C===s.CASH?c.selectors.findAllIncentiveTotalFromOffer(e.offer,C):c.selectors.getIncentiveTotalByOfferType(e,C),G=N||0,Y=0;t.offer={amountFinanced:L,dueAtSigning:U,type:C,price:S,initialPrice:D,downPayment:G,dealSummary:j,monthlyPayment:M,monthlyPaymentRounded:F,messageToDealer:B,sessionId:x,isTestLead:Object(p.l)(e)},t.bypassDealSummary=function(e){var t=Object(E.d)(e),n=Object(E.i)(e),r=!u.selectors.getIsPaymentDriverPreferred(e.dealer);return!!t||!(!n||!r)}(e),C===s.LEASE&&(Y=c.selectors.getAnnualMiles(e),t.bypassDealSummary&&(t.deductDueAtSigning=Object(b.l)(e))),t.financing={term:k,annualMiles:Y,apr:R},t.selectedFinanceTerm=c.selectors.getTermIdByOfferType(e.offer,s.FINANCE),t.selectedLeaseTerm=c.selectors.getTermIdByOfferType(e.offer,s.LEASE);var H=c.selectors.getShopperInfo(e),K=H.firstName,z=H.lastName,W=H.email,q=H.zip,X=H.phone,Z=c.selectors.getCreditTierById(e,P),$=Z.name,J=Z.score;t.shopper={firstName:K,lastName:z,zip:q,phone:X,emailAddress:W,creditTier:{lowScore:J.low,highScore:J.high,name:$},pixallId:h(e)},t.answers=u.selectors.getAnswers(e);var Q=c.selectors.getOfferDetails(e,s.FINANCE)||{},ee=c.selectors.getOfferDetails(e,s.LEASE)||{},te=c.selectors.getOfferDetails(e,s.CASH)||{},ne={finance:{downPayment:Q.downPayment,offerPrice:Q.offerPrice,term:Q.term},lease:{downPayment:ee.downPayment,offerPrice:ee.offerPrice,term:ee.term,annualMiles:ee.annualMiles},cash:{initialOfferPrice:te.initialOfferPrice,offerPrice:te.offerPrice,totalTax:te.totalTax,dealerFeesTotal:te.dealerFeesTotal,dealerFees:te.dealerFees,selectedIncentives:te.selectedIncentives,appliedIncentiveIds:te.appliedIncentiveIds,appliedIncentives:te.appliedIncentives,appliedIncentiveAmount:te.appliedIncentiveAmount,incentives:te.incentives,totalIncentives:te.totalIncentives}};if(Number.isInteger(te.dmvFees)&&(ne.cash.dmvFees=te.dmvFees),C===s.CASH){var re=te.totalTax,ae=te.dealerFees,ie=te.dmvFees;t.totalTax=re||0,t.fees=ae||[],t.dmvFees=ie||0}t.terms={paymentData:c.selectors.getTermsByIdForOffer(e.offer),penciledInputs:ne},t.incentives=c.selectors.getIncentives(e),t.incentives.total=V||0,t.widgetSettings={sponsor:Object(p.h)(e),isMobile:Object(p.g)(e)};var oe=f(e);return oe&&(t.tradeInVehicle=oe),t.leadCampaignData=a.campaignData,t}catch(t){throw Object(g.a)(["dealstarter","client","middleware","offerPayloadUtil"],e,"error","Error creating payload",t),new Error("Error creating payload: "+t)}}n.d(t,"a",function(){return C});var T=function(e){var t,n=e.dealer,r=e.financing,i=e.incentives||{},l=e.offer,c=e.shopper,s=e.tradeInVehicle||{},u=e.vehicle,d=e.widgetSettings,m=e.offer.messageToDealer||"",f=e.creditAppReferenceId||"",p=Math.round(l.downPayment||0),h=Math.round(l.amountFinanced||0),b=l.monthlyPayment||0,v=l.monthlyPaymentRounded||0,g=l.dealSummary||[],y=e.answers||{},E=e.context||{},O=e.terms,I=e.selectedFinanceTerm||"",T=e.selectedLeaseTerm||"",C=e.context&&e.context.vdpUrl||"",_=e.payment,N=e.leadCampaignData,S=e.isSinglePrice||!1,D=l.sessionId,A=l.isTestLead,P={connectionId:"",dealerId:n.id,ddcAccountId:n.ddcAccountId,type:l.type,offerPrice:l.price,initialOfferPrice:l.initialPrice,downPayment:p,dealSummary:g,messageToDealer:m,totalFinanced:h,monthlyPayment:b,monthlyPaymentRounded:v,totalTax:l.totalTax,context:E,creditApp:{creditAppReferenceId:f},creditScore:{description:c.creditTier.name,high:c.creditTier.highScore,low:c.creditTier.lowScore},incentives:i,shopper:{firstName:c&&c.firstName.trim(),lastName:c&&c.lastName.trim(),email:c&&c.emailAddress.trim(),phone:c&&c.phone,zip:c&&c.zip,pixallId:c&&c.pixallId},answers:y,terms:O,selectedFinanceTerm:I,selectedLeaseTerm:T,vehicle:{vin:u.vin,styleId:u.styleId,imageUrl:u.imageUrl,model:u.model,make:u.make,year:u.year,trim:u.trim,retailPrice:u.retailPrice,listedPrice:u.listedPrice,condition:u.type,mileage:u.mileage,stockNumber:u.stockNumber,interiorColor:u.interiorColor,exteriorColor:u.exteriorColor,preference:u.preference,imageTag:u.imageTag,options:u.options,vehicleId:u.uuid},metaData:N,source:{listingCode:n.listingCode,vdpUrl:C,sponsor:d.sponsor},payment:_,isSinglePrice:S,deviceType:(t=d.isMobile,t?"mobile":"desktop"),sessionId:D,isTestLead:A,deductDueAtSigning:e.deductDueAtSigning,bypassDealSummary:e.bypassDealSummary};return a()(s)||(P.tradeIn=o()({},s),P.tradeIn.isTradeCompleted=!0),"finance"===l.type?(P.financeTerms={},P.financeTerms.term=r.term||0,P.financeTerms.apr=r.apr||0):(P.leaseTerms={},P.leaseTerms.term=r.term||0,P.leaseTerms.mileage=r.annualMiles||0),"cash"===l.type&&(P.totalTax=e.totalTax||0,P.fees=e.fees||[],P.dmvFees=e.dmvFees||0),P};function C(e){var t=I(e);return T(t)}},125:function(e,t,n){"use strict";(function(e){var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=n(120),i={headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),mode:"cors"},o=function(t,n,o){var l,c=t.dispatch,s=t.getState,u=o.url,d=o.init,m=o.serializer,f=m?m(s()):void 0;void 0!==u&&(c({type:n.type+"_PENDING"}),e(u,r(r(r({},i),d),{body:JSON.stringify(f)})).then(function(e){return l=e,e.json()}).then(function(e){return function(e,t){if(e.ok)return t;throw{message:"Failed network request",connectionId:a("connectionId",t)}}(l,e)}).then(function(e){var t,r,a;c((t=n.type,r=e,a=n.payload,{type:t+"_SUCCESS",response:r,initiatingActionPayload:a})),n.fetch&&n.fetch.resolve&&n.fetch.resolve(e)}).catch(function(e){n.payload.connectionId=e.connectionId,c(function(e,t,n){return{type:e+"_FAILURE",error:t.message,initiatingActionPayload:n}}(n.type,e,n.payload)),n.fetch&&n.fetch.reject&&n.fetch.reject(e)}))};t.a=function(e){return function(t){return function(n){return function(r){var a=e[r.type];return a&&o(t,r,a),n(r)}}}}}).call(this,n(189))},1261:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(106),o=n(66),l=n.n(o),c=n(134),s=n(3),u=n(11),d=n(39),m=n(61),f=n(12),p=n(203),h=n(2),b=n(14),v=n(13),g=b.a.services,y="POST",E={"Content-Type":"application/json"},O=function(e,t){return void 0===e&&(e="bff"),void 0===t&&(t="init"),f.urlBuilder.buildFromConfig(g[e],""+t)};var I,T=n(1268),C=n(1),_=n(7),N=n(9),S=n(565),D=n(5),A=n(65),P=n(15),w=n(42),L=Object(T.a)(Object(u.connect)(function(e,t){var n=Object(D.t)(e.dealer),r=Object(D.i)(e)?C.selectors.getOfferDetails(e,"cash").offerPrice:null,a=C.selectors.getCurrentOfferType(e),i=C.selectors.getShortDisclaimerData(e),o=f.formatUtils.formatShortDisclaimer(i),l=C.selectors.getMonthlyPaymentRoundedByOfferType(e,a),c=Object(_.isPaymentInvalid)(l,a,r);return{isAccelerateBranding:N.k(e),isCompleted:e.pencil.initialization.completed,failed:e.pencil.initialization.failed,sponsor:N.h(e),isDynamicHeightForDealerEnabled:n,themeName:Object(D.z)(e),isMicroSiteVdpEnabled:Object(D.H)(e),offerType:a,disclaimerText:o,paymentNotAvailable:c}},function(e){return{onWidgetInView:function(){e(A.h())},launchRoute:function(t){e(Object(P.f)(t)),e(Object(P.e)()),e(Object(w.b)(h.m,"Dealer Site "+t+" CTA Clicked"))},onSeeMoreDetailsClick:function(t){e({type:h.Cb}),e(Object(P.b)(t))}}})(S.a)),R=function(e){return function(e){return"shopper-platform"!==Object(N.d)(e)}(e)?Object(v.j)():null},j=n(44),k=(I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.componentDidMount=function(){var e=this.props.store,t=e.getState(),n=t.dealer,r=t.vehicle,a=t.widgetSettings,i=R(t);e.dispatch(function(e,t,n,r){var a,i,o=(null===(i=Object(p.getProfile)("default"))||void 0===i?void 0:i.payment)||{},l={dealer:e,vehicle:t,widgetSettings:n,drsPreferences:r,drProfilePaymentOverrides:o},c=Object(v.i)(t.vin,e.id),s=c&&c.connectionId?"Continue deal widget displayed":"New deal widget displayed";return(a={})[m.CALL_API]={endpoint:O("bff","initApp"),method:y,headers:E,body:JSON.stringify(l),types:[{type:h.F,meta:{dealer:e,vehicle:t,widgetSettings:n,drProfilePaymentOverrides:o}},{type:h.G,meta:{middleware:{analytics:{eventName:"DR_PAYMENT_DISPLAY",eventCauseDescription:s}}}},h.E]},a}(n,r,a,i))},t.prototype.render=function(){var e=this.props.store;return a.a.createElement(u.Provider,{store:e},a.a.createElement(d.ConnectedRouter,{history:j.a},a.a.createElement(L,null)))},t}(a.a.Component),F=M;M.propTypes={store:s.object.isRequired};var x=n(46),U=n(21),B=n(52),V=n.n(B),G=n(87),Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},H={id:0,ownerId:0,name:"",phone:"",address:{},creditTiers:{},cashOfferSettings:{},financeSettings:{},incentivesEnabled:!1,leaseSettings:{},listingCode:"",vdpTrackingPhoneNumber:void 0,isTradeInBranded:!1,isTestDealer:!1};var K={vehicleUrl:"",listedPrice:0,make:"",mileage:0,model:"",retailPrice:0,trim:"",vin:"",year:0,imageUrl:"",stockNumber:"",styleId:"",type:""};var z=n(4),W=function(){return(W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},q={type:h.bb,route:"/"},X=function(e,t){switch(void 0===e&&(e=q),t.type){case h.fb:return W(W({},e),{type:t.type,route:"summary"});case h.ab:return W(W({},e),{type:t.type,route:"disclaimer"});case h.bb:return W(W({},e),{type:t.type,route:"editor"});case z.Y:return W(W({},e),{type:t.type,route:t.payload.nextNavigationRoute});case h.Y:return W(W({},e),{type:t.type,route:"editor"});default:return e}},Z=n(93),$=n.n(Z),J=n(17),Q=n.n(J),ee=function(e,t){return t?(e.amountOwed=t.amountOwed||0,e.estimate=t.estimate||[],e.isAmountAppliedToFinancing=t.isAmountAppliedToFinancing||!1,e.paymentPreference=t.ownershipType,e.tivIcoStatus=t.status,e.tivOfferExpirationDate=t.expirationDate,e.tivSource=t.source,e.value=t.value||0,e.vehicle=function(e){return{color:e.color,condition:e.condition,make:{id:e.makeId,name:e.make},mileage:e.mileage,model:{id:e.modelId,name:e.model},trim:{id:e.trimId,name:e.trim,vehicleId:e.vehicleId},vin:e.vin,year:e.year}}(t),e.vehicleOptions=t.vehicleOptions,e.zip=t.zip,t.year&&(t.source||t.value>0)&&(e.isCompleted=!0),e):e},te=function(e){if(e&&e.payload&&e.payload.offer&&e.payload.offer.tradeIn){var t=$()(e.payload.offer.tradeIn);return t.isRememberedTradeInApplied=!1,t}return null},ne={color:"",condition:"",make:{id:"",name:""},mileage:"",model:{id:"",name:""},trim:{id:"",name:"",vehicleId:""},vin:"",year:""},re={tivSource:null,amountOwed:0,estimate:[],tivOfferDate:void 0,tivOfferExpirationDate:void 0,isAmountAppliedToFinancing:!1,location:{},isLocationLoading:!1,isMakeLoading:!1,isModelLoading:!1,isTrimLoading:!1,isYearLoading:!1,lookups:{conditions:["Excellent","Very Good","Good","Fair"],makes:[],models:[],ownershipTypes:[],trims:[],years:[]},paymentPreference:"",saved:{amountOwed:0,estimate:[],location:{},offerDate:"",offerExpirationDate:"",status:"",tivSource:"",value:0,vehicle:ne,vehicleOptions:{},zip:""},tivStatus:"",tivIcoStatus:"",isIcoTradeInCompleted:!1,tivOfferId:"",value:0,vehicle:ne,vehicleClass:"",vehicleOptions:{},zip:"",conflicts:{}};var ae={amountOwed:0,color:"",condition:"",expirationDate:"",isAmountAppliedToFinancing:!1,isCompleted:!1,isSkipped:!1,isRememberedTradeInApplied:!1,isStartingNewTradeIn:!1,make:"",makeId:"",mileage:"",model:"",modelId:"",offerDate:"",offerId:"",owed:0,ownershipType:"",source:"",status:"",trim:"",trimId:"",value:0,vehicleId:"",vehicleOptions:{},vin:"",year:"",zip:""};var ie=function(){return(ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},oe={pixallId:""};var le={isSPModalOpen:!1,deepLinkRoute:void 0,checkoutRedirectUrl:void 0};var ce=function(){return(ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},se={};var ue=function(){return(ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},de={isOpen:!1};var me=n(251),fe=n.n(me),pe=function(){return(pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},he={isMobile:!1};var be=n(262),ve=n(23),ge=Object(ve.a)();var ye=function(){return(ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ee=n(120),Oe={offerSubmissionSuccess:void 0,aioSaveSuccess:void 0,shouldSubmitOffer:!1,offerCallInProgress:!1,offerSubmissionRetry:!1,isInitialPayment:!0,isNegotiationTextBoxShown:!1,leadRefId:void 0,dealRefId:void 0};var Ie={dealer:function(e,t){switch(void 0===e&&(e=H),t.type){case h.F:return V()({},e,t.meta&&t.meta.dealer);case h.G:var n=window.location.search,r=Object(G.c)(n),a=Object(G.d)(n);return Y(Y(Y({},e),t.payload.dealer),{theme:r,themeRedesign:a});case h.k:return Y(Y({},e),{theme:t.payload.theme});default:return e}},offer:C.rootReducer,payment:U.reducer,rememberedTradeIn:function(e,t){switch(void 0===e&&(e=ae),t.type){case h.G:var n=te(t);return n||ae;case z.R:return t?Q()({},e,{isRememberedTradeInApplied:!1,isStartingNewTradeIn:!1}):e;case h.h:return t?Q()({},e,{isRememberedTradeInApplied:t.payload,isStartingNewTradeIn:!1}):e;case h.vb:return t?Q()({},e,{isStartingNewTradeIn:!0}):e;default:return e}},vehicle:function(e,t){switch(void 0===e&&(e=K),t.type){case h.F:return V()({},e,t.meta&&t.meta.vehicle);default:return e}},pencil:be.a.reducer,nextRoute:X,shopper:function(e,t){switch(void 0===e&&(e=oe),t.type){case h.yb:return ie(ie({},e),t.message.shopper);case h.F:return ie(ie({},e),t.meta.shopper);case h.G:return ie(ie({},e),t.payload.shopper);default:return e}},spModal:function(e,t){var n;switch(void 0===e&&(e=le),t.type){case h.lb:return Q()({},e,{isSPModalOpen:!0,deepLinkRoute:null===(n=t.payload)||void 0===n?void 0:n.deepLinkRoute});default:return e}},tradeIn:function(e,t){switch(void 0===e&&(e=re),t.type){case h.yb:return Q()({},e,t.message.tradeIn);case h.T:return ee($()(e),t.payload);case z.R:case h.U:return re;default:return e}},widgetSettings:function(e,t){switch(void 0===e&&(e=he),t.type){case z.hb:return pe(pe({},e),t.message.widgetSettings);case z.r:return V()({},e,t.meta&&t.meta.widgetSettings);case z.I:case z.C:return t.response&&t.response.offer?Q()({},e,{dsConnectionId:fe()(t,"response.offer.connectionId")}):Q()({},e);case z.G:return Q()({},e,{dsConnectionId:fe()(t,"initiatingActionPayload.connectionId","")});case z.Z:return V()({},e,{spRoute:t.payload.spRoute});default:return e}},toggles:function(e,t){switch(void 0===e&&(e=ge),t.type){case h.G:return V()({},e,t.payload.toggles);case h.yb:return V()({},e,t.message.toggles);default:return e}},showroom:function(e,t){switch(void 0===e&&(e=se),t.type){case h.zb:return ce(ce({},e),{email:t.payload.email});case h.Ab:return ce(ce({},e),{hasPinCodeError:!1,pinCode:t.payload.pinCode});case h.rb:return ce(ce({},e),{apiCallInProgress:!1,hasPinCodeError:!1});case h.e:return ce(ce({},e),{apiCallInProgress:!0,hasPinCodeError:!1});case h.f:return ce(ce({},e),{apiCallInProgress:!1,hasPinCodeError:!1});case h.d:return ce(ce({},e),{apiCallInProgress:!1,hasPinCodeError:!0});case h.b:return ce(ce({},e),{sendPinEmailToShopperCallInProgress:!0});case h.c:case h.a:return ce(ce({},e),{sendPinEmailToShopperCallInProgress:!1});default:return e}},emailLandingModal:function(e,t){switch(void 0===e&&(e=de),t.type){case z.s:var n=t.payload.emailLanding.monthlyPaymentRounded;return ue(ue({},e),{monthlyPaymentRounded:n});case z.M:return ue(ue({},e),{isOpen:!0});case z.j:return ue(ue({},e),{isOpen:!1});default:return e}},offerInfo:function(e,t){var n,r,a,i;switch(void 0===e&&(e=Oe),t.type){case z.I:var o=Ee("response.offer.lead.id",t),l=Ee("response.offer.dealRefId",t);return n=!0,ye(ye({},e),{leadRefId:o,dealRefId:l,offerSubmissionSuccess:n});case z.G:return n=!1,r=!1,i=!1,ye(ye({},e),{offerSubmissionSuccess:n,shouldSubmitOffer:r,offerCallInProgress:i});case z.e:return a=!0,ye(ye({},e),{aioSaveSuccess:a});case z.d:return a=!1,r=!1,i=!1,ye(ye({},e),{aioSaveSuccess:a,shouldSubmitOffer:r,offerCallInProgress:i});case z.h:case z.i:return ye(ye({},e),{offerCallInProgress:!1});case z.K:return ye(ye({},e),{isInitialPayment:!1});case h.I:return r=!1,ye(ye({},e),{shouldSubmitOffer:r});case z.R:return n=void 0,ye(ye({},e),{offerSubmissionSuccess:n});case z.N:return ye(ye({},e),{shouldSubmitOffer:!0});case z.hb:return n=t.message&&t.message.offerInfo&&t.message.offerInfo.offerSubmissionSuccess,r=t.message&&t.message.offerInfo&&t.message.offerInfo.shouldSubmitOffer,""!==n&&""!==r?ye(ye({},e),{offerSubmissionSuccess:n,shouldSubmitOffer:r}):""!==n?ye(ye({},e),{offerSubmissionSuccess:n}):""!==r?ye(ye({},e),{shouldSubmitOffer:r}):e;case z.f:case z.B:case z.H:return ye(ye({},e),{offerCallInProgress:!0});case h.L:return ye(ye({},e),{isNegotiationTextBoxShown:!e.isNegotiationTextBoxShown});default:return e}}},Te=n(254),Ce=n.n(Te),_e=n(564),Ne=n(41),Se=C.selectors.getCurrentOfferType,De={getSelectedCreditTierScoreByType:C.selectors.getSelectedCreditTierScoreByType,getCurrentOfferType:Se,getTermMonthByOfferTypeFromOffer:C.selectors.getTermMonthByOfferTypeFromOffer,getAnnualMiles:C.selectors.getAnnualMiles,getDownPayment:C.selectors.getDownPayment,isDrProfileEnabled:Ne.g,getDrProfileIdentifier:function(e){return"default"}},Ae=new p.ProfileSelectors(De),Pe=new p.ProfileMiddleware(Ae).middleware,we=n(200),Le=n(197),Re=n(49),je=n(19),ke=n(40),Me=[h.yb,h.K],Fe="",xe=n(265),Ue=n(256),Be=n.n(Ue),Ve=function(e){var t=e&&e.length>0?e[0].options:[];return t&&t.length>0?t[0].displayValue:""},Ge=function(){return(Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ye=[z.Q,U.actions.UNAPPLIED_QUESTIONS_RECEIVED],He=n(202),Ke=n(196),ze=n(43),We=n(76),qe=n(259),Xe=n(261),Ze=n(37);var $e,Je,Qe=n(25),et=Qe.b,tt=Qe.a.shopperOnBoardingTest;!function(e){e.autoOpen="autoOpen"}($e||($e={})),function(e){e.VIN="VIN"}(Je||(Je={}));var nt=n(125),rt=n(16),at=n(354),it=n(124),ot=function(){return(ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},lt=n(120),ct={"Content-Type":"application/json"},st=function(e){return e&&Object.keys(e).length?{state:e.state,lenderName:e.lenderName,branchName:e.branchName,lenderLegalName:e.lenderLegalName,lenderProgram:e.lenderProgram}:null},ut=function(e){return"cash"===e.type&&e.terms&&e.terms.penciledInputs&&e.terms.penciledInputs.cash?e.terms.penciledInputs.cash.dealerFeesTotal:0},dt=function(e){return"cash"===e.type&&e.terms&&e.terms.penciledInputs&&e.terms.penciledInputs.cash?e.terms.penciledInputs.cash.dealerFeesTotal:0},mt=function(e,t){var n=[];if(!e||0===Object.keys(e).length||!t)return n;var r=e.conditionals?e.conditionals.length:0,a=e.nonConditionals?e.nonConditionals.length:0;return 0!==r&&e.conditionals.forEach(function(e){for(var r in t.conditionals)e===t.conditionals[r].id&&n.push({incentiveName:t.conditionals[r].name,incentiveCode:t.conditionals[r].pdId,incentiveDescription:t.conditionals[r].description,incentiveAmount:t.conditionals[r].amount||0,incentiveProgramNumber:t.conditionals[r].programId})}),0!==a&&e.nonConditionals.forEach(function(e){for(var r in t.nonConditionals)e===t.nonConditionals[r].id&&n.push({incentiveName:t.nonConditionals[r].name,incentiveCode:t.nonConditionals[r].pdId,incentiveDescription:t.nonConditionals[r].description,incentiveAmount:t.nonConditionals[r].amount||0,incentiveProgramNumber:t.nonConditionals[r].programId})}),n};var ft=function(e,t){if(!e)return null;var n,r,a=e.creditScore,i=e.payment,o=function(e,t,n){return{nonConditionals:C.selectors.getNonConditionalIncentivesForTermIdFromOffer(e,t,n),conditionals:C.selectors.getConditionalIncentivesForTermIdFromOffer(e,t,n)}}(t.offer,i.id,e.type),l=i.appliedIncentives||{},c=(n=e).bypassDealSummary?Object(_.createDealSummaryFromOffer)(n):n.dealSummary,s=function(e){if(!e||!Array.isArray(e))return{};var t={};return e.forEach(function(e){t[e.key]=e.value}),t}(c),u=0===s.dueAtSigning?0:s.dueAtSigning||i.dueAtSigning||0,d=0===s.downPayment?0:s.downPayment||e.downPayment;return{offerPrice:s.offerPrice||e.offerPrice,monthlyPayment:e.monthlyPayment||null,monthlyPaymentRounded:e.monthlyPaymentRounded||null,apr:s.apr||i.apr,term:(r=e,"cash"===r.type?null:"finance"===r.type?r.financeTerms.term:r.leaseTerms.term),downPayment:d,financeType:e.type,annualMiles:"lease"===e.type&&e.leaseTerms.mileage||1,totalFinanced:s.amountFinanced||e.totalFinanced,appliedIncentives:mt(l,o),appliedIncentiveAmount:i.appliedIncentiveAmount||0,dealerFeesTotal:i.dealerFeesTotal||ut(e)||0,creditScore:a&&Object.keys(a).length?{description:a.description,high:a.high,low:a.low}:void 0,totalTax:i.totalTax||e.totalTax||0,dealerFees:i.dealerFees||e.fees||[],dmvFees:i.dmvFees||dt(e)||0,firstPaymentDate:i.firstPaymentDate,isSinglePrice:e.isSinglePrice,dealSummary:c,initialOfferPrice:e.initialOfferPrice||0,dueAtSigning:u,moneyFactor:"lease"===e.type?i.sellRate||0:i.sellRate||null,securityDeposit:i.securityDeposit,residualDollar:"lease"===e.type?e.payment.residualDollar:0,residualPercentage:"lease"===e.type?e.payment.residualPercentage:0}},pt=function(e){return e&&Object.keys(e).length&&e.isTradeCompleted?{amountOwed:e.amountOwed,chromeStyleId:e.chromeStyleId||"",color:e.color,condition:e.condition,expirationDate:e.expirationDate,isAmountAppliedToFinancing:e.isAmountAppliedToFinancing,make:e.make,makeId:e.makeId,mileage:e.mileage,model:e.model,modelId:e.modelId,offerDate:e.offerDate,offerId:e.offerId,ownershipType:e.ownershipType,source:e.source,status:e.status,trim:e.trim,trimId:e.trimId,value:e.value,vehicleId:e.vehicleId||"",vehicleOptions:e.vehicleOptions,vin:e.vin,year:e.year,zip:e.zip||""}:null},ht=function(e){if(!(e&&e.lead&&Object.keys(e.lead).length))return null;var t=e.lead;return{id:t.id,url:t.url}},bt=function(e){return e&&e.dealRefId?e.dealRefId:""},vt=function(e){return""!==bt(e)||null!==ht(e)},gt=function(e){if(!e||!e.dealer||!e.dealer.crmIntegration)return!1;var t=e.dealer.crmIntegration.vinSolutionsCrmToggle;return!!t&&"off"!==t.toLowerCase()},yt=function(e){var t,n,r,a,i,o;return{action:(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.dsAction,null!=r?r:""),source:(o=null===(i=null===(a=e)||void 0===a?void 0:a.widgetSettings)||void 0===i?void 0:i.dsSource,null!=o?o:"")}},Et=function(e,t){if(void 0===t&&(t={}),!e)return"There is an issue with the payload, please check the payload";var n=Object(it.a)(e),r=function(e){if(lt("dealer.listingOverride",e))return{reviewDealUrlEnabled:!!lt("dealer.listingOverride.reviewDealUrlEnabled",e)}}(e),a=n.payment,i=n.vehicle,o=n.source,l=n.tradeIn,c=n.shopper,s=n.metaData,u=e.toggles;try{var d={sessionId:n.sessionId,type:"OFFER",payload:{createADeal:yt(e),creditApp:n.creditApp,dealRefId:bt(t),hasMenuProductsSelected:!1,isTestLead:n.isTestLead,isInitialDeal:!0,lead:ht(t),messageToDealer:n.messageToDealer,offerType:n.type,payment:st(a),dealer:{dealerId:n.dealerId,dnaAccountId:e.dealer.dnaAccountId,useFnI2:e.dealer.useFnI2||!1,isCrmIntegrationEnabled:gt(e),isDDCIntakeProcessorEnabledForDealer:u.isDDCIntakeProcessorEnabledForDealer||!1,isTCPAEnabled:e.dealer.isTCPAEnabled||!1,isTCPACheckboxDisabled:e.dealer.isTCPACheckboxDisabled||!1,reviewDealUrlEnabled:e.dealer.reviewDealUrlEnabled||!1,listingOverride:r,theme:e.dealer.theme},integrationStatus:{fni:{success:vt(t),statusCode:vt(t)?200:500,errorMessage:vt(t)?"":"An error occurred while sending to FNI",date:Date.now(),response:{}}},sessionId:n.sessionId,shopper:c,terms:ft(n,e),trade:pt(l),vehicle:{chromeStyleId:i.styleId,msrp:i.retailPrice||i.listedPrice||0,model:i.model,make:i.make,interiorColor:i.interiorColor,exteriorColor:i.exteriorColor,condition:i.condition,options:i.options,odometerMileage:i.mileage,sellingPrice:i.listedPrice,stockNumber:i.stockNumber,trim:i.trim,preference:i.preference,vehicleId:i.vehicleId,vin:i.vin,year:i.year},vdpMetaData:{campaignData:s||{},deviceType:"yes"===e.widgetSettings.isMobile?"mobile":"desktop",source:{listingCode:o.listingCode,vdpUrl:o.vdpUrl},sponsor:o.sponsor}}};return d.payload.shopper.zip=e.dealer.address.zip,d}catch(t){Object(je.a)(["dealstarter","client","formatAio"],e,"error","Error formatting payload for Aio in formatAio.ts",t)}},Ot=function(e,t,n){var r;try{var a=function(e,t,n){var r=C.selectors.getSessionId(t),a=e?at.FNI_SUCCESS:at.FNI_FAILURE,i=n.leadRefId,o=n.dealRefId,l=n.connectionId;return{sessionId:r,type:a,payload:{fni:{success:e,statusCode:e?200:500,errorMessage:e?"":"An error occurred while sending to FNI",date:Date.now(),response:ot(ot(ot({},i&&{leadRefId:i}),o&&{dealRefId:o}),{connectionId:l})}}}}(e,t,n),i={endpoint:Object(G.a)("bff","aioUpdate"),method:"POST",body:JSON.stringify(a),headers:ct,types:[{type:z.g},{type:z.i},{type:z.h}]};return(r={})[m.CALL_API]=i,r}catch(e){return console.error(e),{type:z.h}}},It=n(28),Tt=n(120),Ct=function(e){var t=function(e){return function(t){var n=e.getState(),r=t.data.eprice,a=e.dispatch,i=Object(D.m)(n),o=Object(D.k)(n),l=Object(D.i)(n);r&&a(l?i||o?!o&&i?C.actionCreators.updateFinanceAndCashOfferPrice(r):o&&!i?C.actionCreators.updateLeaseAndFinanceOfferPrice(r):C.actionCreators.updateFinanceOfferPrice(r):C.actionCreators.updateLeaseAndFinanceAndCashOfferPrice(r):i?C.actionCreators.updateFinanceOfferPrice(r):C.actionCreators.updateLeaseAndFinanceOfferPrice(r))}}(e);Object(v.a)(window,"message",t)},_t=n(201),Nt=n(195),St=n(198),Dt=n(80),At=b.a.services,Pt={v1:At.servicesGateway.payment,v2:Object(G.a)("bff","payment")},wt=Object(He.a)(b.a.analytics.dataIslandKey,b.a.analytics.propertyToTrack,function(e,t){return new we.a(e,t)}),Lt=Object(nt.a)({OFFER_SAVE:{url:At.servicesGateway.offer+"/save",init:{method:"POST"},serializer:it.a}}),Rt=Object(nt.a)({OFFER_SUBMIT:{url:""+At.servicesGateway.offer,init:{method:"POST"},serializer:it.a}}),jt=Object(nt.a)({REFRESH_SESSION_ID:{url:f.urlBuilder.buildFromConfig(At.bff,"sessionId"),init:{method:"GET"}}}),kt=[Ce.a,Nt.a,m.apiMiddleware,Object(U.paymentMiddleware)(Pt),wt,Object(_e.routerMiddleware)(j.a),xe.b,function(e){return function(t){return function(n){t(n);var r=e.getState();if(function(e,t){try{if(e.type===h.yb){var n=e.message&&e.message.widgetSettings;if(function(e){return e&&e.dsConnectionId&&e.offerId}(n)){if(!Object(v.p)("localStorage"))return void Object(je.a)(["dealstarter","client","redirect","localstorage"],t,"error","Local Storage is not available",{});var r=n.offerId,a=n.dsConnectionId,i=Object(ke.d)(t),o=Object(D.j)(t);Object(v.n)(i,r,a,o)}}}catch(e){Object(je.a)(["dealstarter","client","sync","localstorage"],{},"error","Local Storage is not available",e)}}(n,r),-1===Me.indexOf(n.type)){var a=function(e){return JSON.stringify(e)}(r);if(a!==Fe){var i={type:h.K,meta:{sendMessage:{payload:{message:a,messageContext:Re.e}}}};Fe=a,e.dispatch(i)}}}}},function(e){return function(t){return function(n){t(n),n.type===h.G&&Ct(e)}}},_t.a,w.a,Pe,Object(Ke.a)("MAIN"),Le.a,function(e){return function(t){return function(n){var r,a,i,o,l,c,s,u,d,f,p,h;t(n);var b=e.getState(),g=Object(ke.d)(b),y=Object(D.j)(b),E=e.dispatch;switch(Object(ve.a)(),n.type){case z.b:e.dispatch({type:z.f});var O=n.response&&n.response.offer;E(function(e){var t;try{var n={endpoint:Object(G.a)("bff","aio"),method:"POST",body:JSON.stringify(e),headers:ct,types:[{type:z.c},{type:z.e},{type:z.d}]};return(t={})[m.CALL_API]=n,t}catch(e){return console.error(e),{type:z.d}}}(Et(b,O))),E({type:z.a});break;case z.e:var I=Object(It.d)(b),T=Object(It.b)(b);if(Object(It.f)(b))E(Ot(!0,b,{leadRefId:I,dealRefId:T}));else if(!Object(It.f)(b)&&!Object(It.e)(b)){var C=Object(N.c)(b)||Tt("initiatingActionPayload.connectionId",n);E(Ot(!1,b,{connectionId:C}))}break;case z.I:if(!Object(v.p)("localStorage")){Object(je.a)(["dealstarter","client","redirect","localstorage"],b,"error","Local Storage is not available",{});break}if(!n.response||!n.response.success){E({type:z.G});break}rt.d("offerSentConversion"),rt.d("offerSentConversionVdpModal");var _=null===(a=null===(r=n.response)||void 0===r?void 0:r.offer)||void 0===a?void 0:a.id,S=null===(o=null===(i=n.response)||void 0===i?void 0:i.offer)||void 0===o?void 0:o.connectionId;if(Object(v.n)(g,_,S,y),E(Object(ze.d)()),I=Tt("response.offer.lead.id",n),T=Tt("response.offer.dealRefId",n),C=Tt("response.offer.connectionId",n),Object(It.a)(b)&&E(Ot(!0,b,{leadRefId:I,dealRefId:T,connectionId:C})),n.initiatingActionPayload.shouldOpenSdpOnSuccess){var A=null===(c=null===(l=b)||void 0===l?void 0:l.nextRoute)||void 0===c?void 0:c.route;E(Object(ze.a)()),E(Object(Ze.b)(A));break}break;case z.G:Object(It.a)(b)&&(C=Object(N.c)(b)||Tt("initiatingActionPayload.connectionId",n),E(Ot(!1,b,{connectionId:C})));case z.C:if(!Object(v.p)("localStorage")){Object(je.a)(["dealstarter","client","redirect","localstorage"],b,"error","Local Storage is not available",{});break}_=null===(u=null===(s=n.response)||void 0===s?void 0:s.offer)||void 0===u?void 0:u.id,S=null===(f=null===(d=n.response)||void 0===d?void 0:d.offer)||void 0===f?void 0:f.connectionId,Object(v.n)(g,_,S,y);var w=e.dispatch;A=null===(h=null===(p=b)||void 0===p?void 0:p.nestRoute)||void 0===h?void 0:h.route,w(Object(ze.a)()),w(Object(Ze.b)(A)),w(Object(ze.c)());break;case z.A:e.dispatch(Object(Ze.a)());break;case z.N:E(Object(P.e)())}}}},function(e){return function(t){return function(n){t(n);var r=e.getState(),a=Object(ke.d)(r),i=Object(D.j)(r);switch(n.type){case z.U:if(!Object(v.p)("localStorage")){Object(je.a)(["dealstarter","client","redirect","localstorage"],r,"error","Local Storage is not available",{});break}break;case h.R:e.dispatch({type:h.cb,payload:{openInNewTab:!0}});break;case h.eb:j.a.push("/editor/modal/returningUser");break;case h.G:var o=e.dispatch;if(!Object(v.p)("localStorage")){Object(je.a)(["dealstarter","client","redirect","localstorage"],r,"error","Local Storage is not available",{});break}if(Object(N.b)(r)===$e.autoOpen&&Object(N.e)(r)===Je.VIN){j.a.push("/editor/modal/returningUser"),o(Object(P.f)("paymentOptions")),o(Object(P.e)());break}var l=Object(v.i)(a,i),c="shopper-platform-certificate"===N.d(r),s=function(e){return"shopper-platform"===e.widgetSettings.dsRoute}(r)||c,u=l&&l.connectionId,d=Object(N.c)(r),m=N.h(r),f=Object(v.b)(l),p="true"===localStorage.getItem("drs:hasClosedOnboarding:"+i),b=et(tt,tt.shopperOnboardingModalVisibleOnVdp);if(p&&b)j.a.push("/editor");else if(!f&&b)j.a.push("/editor/modal/onboarding");else{if(d&&s){if(Object(v.n)(a,"",d,i),c){!function(e){e(Object(Ze.b)("shopper-platform-certificate")),e(Object(w.b)("DR_SDP_EXTERNAL_OPENED","Dealer CRM"))}(o);break}if(j.a.push("/editor/modal/returningUser"),_.validator.isValidUserSessionRecordingSponsor(m)&&Object(Xe.a)(),N.g(r)){o(Object(qe.b)());break}o(Object(Ze.b)("leadForm"));break}if(u){j.a.push("/editor/modal/returningUser");break}}break;case h.E:We.e("0px");break;case h.ub:var g=n.message;Object(v.g)(g.vin,g.connectionId,g.tradeInValuationProvider)}}}},St.a,Lt,Rt,function(e){return function(t){return function(n){if(t(n),function(e){return Be()(Ye,e.type)}(n)){var r=null,a={};(function(e){return e&&e.showQuestions})(r=n.type===U.actions.UNAPPLIED_QUESTIONS_RECEIVED?Ge({},n.payload.unappliedQuestionsReceived):Ge({},n.payload))&&(a=Ge({},function(e){return{locationId:function(e){var t=e&&e[0].options.length>0?e[0].options:[];return t&&t.length>0?t[0].displayValue:""}(e.questions.filter(function(e){return"LocationID"===e.id}))}}(r)),((a=Ge(Ge({},a),function(e){var t=e.questions,n=t.filter(function(e){return"ZipCode"===e.id}),r=n&&n.length>0?n[0].default:"",a=t.filter(function(e){return"RegistrationCityName"===e.id}),i=Ve(a),o=t.filter(function(e){return"RegistrationCountyName"===e.id});return{zip:r,city:i,county:Ve(o)}}(r))).city||a.county||a.locationId)&&e.dispatch(U.actionCreators.updatePaymentAnswers(a)))}}}},function(e){return function(t){return function(n){if(t(n),n.type===z.s){var r=e.getState();_.labels.isNotAcceptableLabelSponsor(N.h(r))?_.labels.initLabelSet(""):_.labels.initLabelSet(D.u(r))}}}},jt,function(e){return function(e){return function(t){if(e(t),t.type===h.G){var n=t.payload&&t.payload.toggles&&t.payload.toggles.enableSpServiceWorker;if("serviceWorker"in navigator&&n){var r=new CustomEvent("register_sp_service_worker");window.dispatchEvent(r)}}}}},function(e){return function(t){return function(n){t(n);var r=e.getState(),a=Object(D.j)(r);switch(n.type){case z.L:if(!Object(v.p)("localStorage")){Object(je.a)(["dealstarter","client","redirect","localstorage"],r,"error","Local Storage is not available",{});break}Object(v.o)(a)}}}},function(e){return function(t){return function(n){var r;if(n){switch(null===(r=n)||void 0===r?void 0:r.type){case h.sb:var a=n.payload,i=a.email,o=a.pinCode;e.dispatch(Object(Dt.b)(i,o));break;case h.f:e.dispatch(Object(d.push)("/showroom/myDeals"));break;case h.qb:var l=n.payload,c=l.dealerId,s=l.email;e.dispatch(Object(Dt.a)(c,s));break;case h.c:e.dispatch(Object(Dt.c)())}t(n)}}}},function(e){return function(t){return function(n){if(n)switch(t(n),n.type){case z.a:e.dispatch(Object(ze.h)(!0)),e.dispatch({type:h.J,payload:{resultsInOpeningShopperPlatform:!0}});default:return}}}}];var Mt=n(257),Ft=n.n(Mt),xt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)r[a]=i[o];return r};b.a.devToolsEnabled&&xt(kt,[Ft.a]);window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.compose;var Ut=function(e){return Object(x.createStore)(Object(d.connectRouter)(j.a)(Object(x.combineReducers)(Ie)),e,Object(x.compose)(x.applyMiddleware.apply(void 0,kt)))};var Bt=function(e,t,n,r,a){"required"===e&&!0===t[e]&&(n.objProp[n.subProp]||a.push({field:n.prop+"."+n.subProp,schemaViolation:"required",data:r}))},Vt=function(e,t,n,r,a){"type"===e&&"string"===t[e]&&"string"!=typeof n.objProp[n.subProp]&&a.push({field:n.prop+"."+n.subProp,schemaViolation:"string",data:r})},Gt=function(e,t,n,r,a){"type"===e&&"number"===t[e]&&(Number.isInteger(n.objProp[n.subProp])||a.push({field:n.prop+"."+n.subProp,schemaViolation:"number",data:r}))},Yt=function(e,t,n,r,a){"isOneOf"===e&&0!==t[e].length&&(t[e].includes(n.objProp[n.subProp])||a.push({field:n.prop+"."+n.subProp,schemaViolation:"value NOT in isOneOf",data:r}))},Ht=function(e,t,n,r,a){"hasLength"===e&&n.objProp[n.subProp].length!==t[e]&&a.push({field:n.prop+"."+n.subProp,schemaViolation:"Length was not "+t[e],data:r})},Kt=function(e,t,n,r,a){"min"===e&&n.objProp[n.subProp]<t[e]&&a.push({field:n.prop+"."+n.subProp,schemaViolation:"Minimum value is "+t[e],data:r})},zt=function(e,t,n,r,a){"isAlphanumeric"===e&&!0===t[e]&&(/^[a-zA-Z0-9\u00A7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u017F]+$/i.test(n.objProp[n.subProp])||a.push({field:n.prop+"."+n.subProp,schemaViolation:"Characters must be alphanumric",data:r}))},Wt=function(e,t,n,r,a){"allowNull"===e&&!1===t[e]&&null===n.objProp[n.subProp]&&a.push({field:n.prop+"."+n.subProp,schemaViolation:"null",data:r})},qt=function(e,t,n,r,a){"allowEmpty"===e&&!1===t[e]&&""===n.objProp[n.subProp]&&a.push({field:n.prop+"."+n.subProp,schemaViolation:"empty",data:r})},Xt=function(e,t,n,r,a){"allowZero"===e&&!1===t[e]&&0===n.objProp[n.subProp]&&a.push({field:n.prop+"."+n.subProp,schemaViolation:"non-zero",data:r})},Zt={dealer:{required:!1,id:{type:"number",allowEmpty:!0,allowNull:!1,required:!1},ownerId:{type:"number",allowEmpty:!0,allowNull:!1,required:!1},listingCode:{type:"string",allowEmpty:!0,allowNull:!0,required:!0}},vehicle:{required:!1,listedPrice:{type:"number",allowEmpty:!1,allowNull:!1,allowZero:!1,required:!0},make:{type:"string",allowEmpty:!1,allowNull:!1,required:!0},vehicleUrl:{type:"string",allowEmpty:!0,allowNull:!1,required:!1},mileage:{type:"number",allowEmpty:!1,allowNull:!1,required:!0,min:0},model:{type:"string",allowEmpty:!1,allowNull:!1,required:!0},retailPrice:{type:"number",allowEmpty:!0,allowNull:!0,allowZero:!0,required:!1},trim:{type:"string",allowEmpty:!0,allowNull:!1,required:!1},vin:{type:"string",isAlphanumeric:!0,hasLength:17,allowEmpty:!0,allowNull:!0,required:!1},year:{type:"number",allowEmpty:!1,allowNull:!1,required:!0},imageUrl:{type:"string",allowEmpty:!0,allowNull:!1},styleId:{type:"number",allowEmpty:!0,allowNull:!0,required:!1},stockNumber:{type:"string",required:!1,allowEmpty:!0,allowNull:!0},type:{type:"string",allowEmpty:!1,allowNull:!1,isOneOf:["new","used","certified"]}},widgetSettings:{required:!0,isMobile:{type:"string",allowEmpty:!1,allowNull:!1,isOneOf:["yes","no"],required:!0},sponsor:{type:"string",allowEmpty:!0,allowNull:!1,required:!1},test_name:{type:"string",allowEmpty:!0,allowNull:!0,required:!1}}};function $t(e,t){!function(e,t){var n,r,a=[],i=Object.keys(t).filter(function(n){return t[n].required&&!e.hasOwnProperty(n)});for(var o in i.forEach(function(t){a.push({field:"missingSchema",schemaViolation:""+t,data:e})}),e){var l=e[o];for(var c in l)if(null!==(n=void 0!==t[o]?t[o][c]:null))for(var s in n)Bt(s,n,r={prop:o,objProp:l,subProp:c},e,a),Vt(s,n,r,e,a),Gt(s,n,r,e,a),Yt(s,n,r,e,a),Ht(s,n,r,e,a),Kt(s,n,r,e,a),zt(s,n,r,e,a),Wt(s,n,r,e,a),qt(s,n,r,e,a),Xt(s,n,r,e,a)}a.length}(e,Zt);return 0!==Object.entries(e).length||e.constructor!==Object}var Jt=n(107),Qt=n(558),en=n(38);n.d(t,"initLibs",function(){return an}),n(296),n(297),n(298),n(299);var tn=Jt.c,nn=document.getElementById("dr-sidebar"),rn={},an=function(e){var t=e.getState();c.updateHost(window.location.origin);var n=Qe.b,r=Qe.a.sdpMobileModalTest,a=n(r,r.mobileModal),i=Object(D.H)(t),o=!a&&Object(N.g)(t),s=!i&&o;We.b(!0,i,o),l.a.initSlave(tn,"mmd-frame-frame2",s,function(t,n){if(t===Re.e){var r=JSON.parse(n);e.dispatch(function(e){return{type:h.yb,message:e}}(r))}if(t===Re.d){var a=JSON.parse(n);e.dispatch({type:a.routeType,meta:{syncInfo:{wasRelayed:!0}},payload:a.payload})}t===Re.b&&e.dispatch(Object(A.b)(n)),t===Re.a&&en.a.trigger("externalTrack",n),t===Re.c&&e.dispatch(function(e){return{type:h.ub,message:e}}(n))}),We.c()},on=-1!==["local","dev","qa"].indexOf("production");on&&(window.devHelperUtils={},Object(Qt.a)());var ln=function(e){Object(i.unmountComponentAtNode)(nn),function(e){(e.dealer||{}).dnaAccountId=b.a.dnaAccountId,e.dealer.microSiteEnabled="true"===e.dealer.microSiteEnabled;var t=Ut(e);on&&(window.devHelperUtils.getReduxState=t.getState,window.devHelperUtils.reduxDispatch=t.dispatch),rt.c(t).catch(function(){return null}).then(function(){an(t),Object(i.render)(a.a.createElement(F,{store:t}),nn)})}(e)};rn.init=function(e){$t(e)&&ln(e)},window.sidebar=rn},13:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"k",function(){return o}),n.d(t,"p",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"n",function(){return s}),n.d(t,"g",function(){return d}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return f}),n.d(t,"m",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"f",function(){return v}),n.d(t,"l",function(){return g}),n.d(t,"q",function(){return y}),n.d(t,"o",function(){return E}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return I});var r=n(19),a={opener:function(){},isOpen:!1,isDeferred:!1};function i(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function o(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}var l=function(e){var t;try{t=window[e];var n="__storage_test__"+Date.now();return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==t.length}},c=function(e){return!!(e&&e.vin&&e.offerId&&e.connectionId)},s=function(e,t,n,a){var i,o=e&&n&&a;try{if(!o)throw Error("Missing data to save in local storage");i=JSON.stringify({vin:e,offerId:t,connectionId:n}),window.localStorage.setItem("drs:"+a+":"+e,i)}catch(e){Object(r.a)(["dealstarter","client","error","localstorage"],null,"error","Error setting local storage value",e)}},u=function(e){return!(!e||""===e)},d=function(e,t,n){var a=u(e)&&u(t)&&u(n);try{if(!a)throw Error("Missing data to save preferences in local storage");var i={connectionId:t,vin:e,tradeInSource:n,tradeInExpiration:void 0};if("Kelley Blue Book"!==i.tradeInSource){var o=(new Date).getTime()+2592e5,l=new Date(o);i.tradeInExpiration=l.toUTCString()}window.localStorage.setItem("drs:preferences",JSON.stringify(i))}catch(e){Object(r.a)(["dealstarter","client","error","preferences"],null,"error","Error setting local storage value",e)}},m=function(){var e;try{e=JSON.parse(window.localStorage.getItem("drs:preferences"))}catch(e){Object(r.a)(["dealstarter","client","error","preferences"],null,"error","Error reading local storage value",e)}return e},f=function(e,t){var n=null;try{n=JSON.parse(window.localStorage.getItem("drs:"+t+":"+e))}catch(e){Object(r.a)(["dealstarter","client","error","localstorage"],null,"error","Error reading local storage value",e)}return n},p=function(e){try{var t=JSON.stringify(e);window.sessionStorage.setItem("drs-meta",t)}catch(e){Object(r.a)(["dealstarter","client","error","sessionstorage"],null,"error","Error setting session storage value",e)}},h=function(){var e,t,n,a,i,o=null;try{o=JSON.parse(window.sessionStorage.getItem("drs-meta"))}catch(e){Object(r.a)(["dealstarter","client","error","sessionstorage"],null,"error","Error reading session storage value",e)}return{vehicle:(t=null===(e=o)||void 0===e?void 0:e.vehicle,null!=t?t:{}),campaignData:(i=null===(a=null===(n=o)||void 0===n?void 0:n.additionalData)||void 0===a?void 0:a.campaignData,null!=i?i:{})}},b=function(){return a.opener},v=function(){return a.isDeferred},g=function(){var e,t;e=!1,a.isOpen=e,t=!1,a.isDeferred=t},y=function(e,t){return e?!t||(t.location.href=e,!0):(a.isOpen=!1,!!t&&t.close())},E=function(e){var t=e;try{if(!t)throw Error("Missing data to save in local storage");window.localStorage.setItem("drs:hasClosedOnboarding:"+e,"true")}catch(e){Object(r.a)(["dealstarter","client","error","localstorage"],null,"error","Error setting local storage value",e)}},O=function(e){return"true"===function(e){var t=null;try{t=window.localStorage.getItem("drs:hasClosedOnboarding:"+e)}catch(e){Object(r.a)(["dealstarter","client","error","localstorage"],null,"error","Error reading local storage value",e)}return t}(e)},I=function(){return function(e,t){void 0===t&&(t=!1);var n=document.createElement("div");return n.style.cssText=(t?"-webkit-":"")+e,0!==n.style.length&&(void 0===document.documentMode||document.documentMode>9)}("filter:blur(2px)")}},14:function(e,t,n){"use strict";t.a=window.drs__DsGlobalConfig},15:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return d});var r=n(2),a=n(4),i=n(42);function o(e){return{type:a.Y,payload:{nextNavigationRoute:e,openInNewTab:!0}}}function l(){return{type:r.R,payload:{openInNewTab:!0,deepLinkRoute:void 0}}}function c(e,t){return void 0===e&&(e=o),void 0===t&&(t=l),function(n){var a={type:r.gb,meta:{middleware:{analytics:{eventName:"DR_INCENTIVES_OPENED"}}},payload:{openInNewTab:!0}};a.payload.deepLinkRoute="incentives",n(a),n(e("incentives")),n(t()),n(Object(i.b)(r.m,"Go to conditional incentives clicked"))}}function s(){return{type:r.ib,payload:{openInNewTab:!0},meta:{middleware:{analytics:{eventName:"DR_SHOPPER_EDUCATION_OPENED"}}}}}var u=function(e){switch(e){case r.fb:return{type:e,payload:{openInNewTab:!1,internal:!0},meta:{middleware:{analytics:{eventName:"DR_DEAL_SUMMARY_OPENED"}}}};case r.ab:return{type:e,payload:{openInNewTab:!1,internal:!0}};default:return{type:r.bb,payload:{openInNewTab:!1,internal:!0}}}};function d(){return{type:r.hb,payload:{openInNewTab:!0},meta:{middleware:{analytics:{eventName:"DR_TRADEIN_OPENED"}}}}}},152:function(e,t,n){"use strict";var r=n(4),a=n(22),i={tradeInAction:r.n,next:r.T};t.a=function(e){return{CLEARED:{tradeInAction:r.p,next:e===a.j.SITEDRIVER?r.W:r.V},FR:{tradeInAction:r.o,next:r.T},INELIGIBLE:i,EXPIRED:i,INSPECTION:i,AUCTION:i,CONFIRMED:i,GROUNDED:i,PURCHASED:i,RECEIVED:i,SOLD:i,MODIFIED:i,ACTIVE:i,CHECK:i}}},154:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(2);t.a=function(e){var t,n,r,o=e.disclaimerText,l=e.notAvailable,c=e.onNextRoute,s=e.longDisclaimer,u=e.customSecondDisclaimer,d=e.offerType,m="disclaimer-footer-container";l?(t="cash"===d?"\n            Oops! We're having trouble displaying a vehicle price.\n            Try selecting a different offer type or entering a different Asking Price.\n        ":"Oops! We couldn't calculate a monthly payment for your selected terms. Try selecting a different offer type or editing your offer terms.",n=null,m+=" not-available"):(t=o,n=c?a.a.createElement("a",{id:"short-disclaimer-link",className:"disclaimer-link",onClick:function(){return c(i.ab)}},"See Details."):null,r=u?a.a.createElement("div",{className:"custom-disclaimer"},u):null);return s&&(m+=" long-disclaimer"),a.a.createElement("div",{id:"ds-short-disclaimer",className:m},t,n,r)}},16:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return d});var r=n(20),a=n(23),i=n(5),o=(r.optimizelyUtils.LOG_LEVEL,r.optimizelyUtils.getTestOverrideParams),l=-1!==["prod","production"].indexOf("production"),c=function(e,t){void 0===t&&(t=l);var n=Object(a.a)(),o=e.getState(),c=n.enableOptimizelyLogs?r.optimizelyUtils.LOG_LEVEL.DEBUG:void 0;return r.optimizelyUtils.load(Object(i.h)(o),c,t)},s=r.optimizelyUtils.track,u={};r.optimizelyUtils.getTestSuites().forEach(function(e){var t=e.testVariations.map(function(e){return e.name});u[e.testName.toLowerCase()]=t});var d=function(e){var t=Object(a.a)();if(t.disableOptimizelyTests||t.disableoptimizelytests)return"";var n=r.optimizelyUtils.getTestValue(e),i=e.toLowerCase();if(u[i]){var o=u[i].find(function(n){return t[("optimizely"+e+n).toLowerCase()]||t["optimizely"+e+n]});if(o)return o}return n}},174:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var r=n(9),a=function(e){return e&&("atc"===e.toLowerCase()||"kbb"===e.toLowerCase())},i=function(e){return e&&e.dealerSiteToggles||{}},o=function(e){if(a(Object(r.h)(e)))return!0;var t=i(e.dealer);return t&&t.isDefaultHeaderTextEnabled||!1},l=function(e){if(a(Object(r.h)(e)))return!0;var t=i(e.dealer);return t&&t.isVDPLeadFormEnabled||!1}},19:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(134),a=n(93),i=n.n(a),o=function(e,t,n,a,o){r.log(e,function(e,t,n,r){var a,o,l,c,s,u;if(!e)return{type:t,message:n,rawError:r};var d=i()(e),m=d.dealer,f=d.vehicle,p=d.widgetSettings;return{dealer:{id:null===(a=m)||void 0===a?void 0:a.id,ownerId:null===(o=m)||void 0===o?void 0:o.ownerId},vehicle:{vin:null===(l=f)||void 0===l?void 0:l.vin,vehicleUrl:null===(c=f)||void 0===c?void 0:c.vehicleUrl},widgetSettings:{connectionId:(u=null===(s=p)||void 0===s?void 0:s.dsConnectionId,null!=u?u:void 0)},type:t,message:n,rawError:r}}(t,n,a,o))}},195:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(61),a=n(23),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=function(){return function(e){return function(t){var n=t[r.CALL_API];return n&&(n.headers=i(i({},n.headers),Object(a.b)())),e(t)}}}},196:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(66),a=n.n(r),i=function(e){return function(t){return function(t){return function(n){if(t(n),n.meta&&n.meta.sendMessage){var r=n.meta.sendMessage.payload,i=r.message,o=r.messageContext;a.a.sendMessageWithContext(e,o,i)}}}}}},197:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(21),a=n(17),i=n.n(a),o=n(19),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e){return function(t){return function(n){t(n);var a,c=!1,s={},u=e.getState();switch(!0){case/FAIL/.test(n.type):c=!0,a=n.type+" error",s=n.payload||{};break;case RegExp(r.actions.PAYMENT_RECEIVED).test(n.type)&&n.type!==r.actions.UNAPPLIED_PAYMENT_RECEIVED:n.payload.finance&&!n.payload.finance.success&&(c=!0,a="Finance payment failed"),n.payload.lease&&!n.payload.lease.success&&(c=!0,a="Lease payment failed");break;case RegExp(r.actions.PAYMENT_RECEIVED).test(n.type)&&n.type!==r.actions.UNAPPLIED_PAYMENT_RECEIVED:var d=[];n.payload.lease&&d.push(l(l({},n.payload.lease),{type:"Lease"})),n.payload.cash&&d.push(l(l({},n.payload.cash),{type:"Cash"})),n.payload.finance&&d.push(l(l({},n.payload.finance),{type:"Finance"})),d.map(function(e){e.success||(c=!0,a=e.type+" payment failed")})}if(c){var m=i()({},u);Object(o.a)(["dealstarter","client",""+n.type.toLowerCase()],m,"error",a,s)}}}}},198:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(13),a=n(5),i=n(86),o=n(19),l=n(4),c=function(e){return function(t){return function(n){t(n);var c=e.getState(),s=Object(i.a)(c),u=Object(a.j)(c);switch(n.type){case l.X:if(!Object(r.p)("localStorage")){Object(o.a)(["dealstarter","client","redirect","localstorage"],c,"error","Local Storage is not available",{});break}var d=Object(r.i)(s,u);(Object(r.b)(d)||d&&!d.offerId)&&e.dispatch({type:l.U,payload:{openInNewTab:!0}}),Object(r.l)()}}}}},199:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("div",{className:"close-button-container show-close-img "+(e.isHidden?"hide-close":"")},a.a.createElement("button",{type:"button",className:"close",onClick:e.onClick,title:"Close",id:"button-close-main"},e.showFancyCloseButton?a.a.createElement("div",{className:"cross-parent"},a.a.createElement("div",{className:"cross-child"},a.a.createElement("div",{className:"cross-subchild"}))):a.a.createElement("i",{className:"fa fa-times show-close-img"})))}},2:function(e,t,n){"use strict";n.d(t,"F",function(){return r}),n.d(t,"G",function(){return a}),n.d(t,"E",function(){return i}),n.d(t,"l",function(){return o}),n.d(t,"P",function(){return l}),n.d(t,"gb",function(){return c}),n.d(t,"jb",function(){return s}),n.d(t,"U",function(){return u}),n.d(t,"T",function(){return d}),n.d(t,"vb",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"V",function(){return p}),n.d(t,"X",function(){return h}),n.d(t,"W",function(){return b}),n.d(t,"ub",function(){return v}),n.d(t,"Z",function(){return g}),n.d(t,"fb",function(){return y}),n.d(t,"bb",function(){return E}),n.d(t,"db",function(){return O}),n.d(t,"Y",function(){return I}),n.d(t,"ab",function(){return T}),n.d(t,"eb",function(){return C}),n.d(t,"cb",function(){return _}),n.d(t,"kb",function(){return N}),n.d(t,"R",function(){return S}),n.d(t,"yb",function(){return D}),n.d(t,"K",function(){return A}),n.d(t,"lb",function(){return P}),n.d(t,"S",function(){return w}),n.d(t,"pb",function(){return L}),n.d(t,"mb",function(){return R}),n.d(t,"ob",function(){return j}),n.d(t,"nb",function(){return k}),n.d(t,"s",function(){return M}),n.d(t,"w",function(){return F}),n.d(t,"zb",function(){return x}),n.d(t,"Ab",function(){return U}),n.d(t,"sb",function(){return B}),n.d(t,"rb",function(){return V}),n.d(t,"e",function(){return G}),n.d(t,"f",function(){return Y}),n.d(t,"d",function(){return H}),n.d(t,"ib",function(){return K}),n.d(t,"hb",function(){return z}),n.d(t,"k",function(){return W}),n.d(t,"Fb",function(){return q}),n.d(t,"D",function(){return X}),n.d(t,"x",function(){return Z}),n.d(t,"p",function(){return $}),n.d(t,"n",function(){return J}),n.d(t,"q",function(){return Q}),n.d(t,"o",function(){return ee}),n.d(t,"j",function(){return te}),n.d(t,"Db",function(){return ne}),n.d(t,"A",function(){return re}),n.d(t,"B",function(){return ae}),n.d(t,"t",function(){return ie}),n.d(t,"u",function(){return oe}),n.d(t,"v",function(){return le}),n.d(t,"m",function(){return ce}),n.d(t,"i",function(){return se}),n.d(t,"J",function(){return ue}),n.d(t,"I",function(){return de}),n.d(t,"H",function(){return me}),n.d(t,"N",function(){return fe}),n.d(t,"O",function(){return pe}),n.d(t,"M",function(){return he}),n.d(t,"tb",function(){return be}),n.d(t,"Cb",function(){return ve}),n.d(t,"Bb",function(){return ge}),n.d(t,"z",function(){return ye}),n.d(t,"y",function(){return Ee}),n.d(t,"C",function(){return Oe}),n.d(t,"Eb",function(){return Ie}),n.d(t,"Q",function(){return Te}),n.d(t,"r",function(){return Ce}),n.d(t,"g",function(){return _e}),n.d(t,"wb",function(){return Ne}),n.d(t,"xb",function(){return Se}),n.d(t,"L",function(){return De}),n.d(t,"qb",function(){return Ae}),n.d(t,"b",function(){return Pe}),n.d(t,"c",function(){return we}),n.d(t,"a",function(){return Le});var r="INIT_PENCIL_REQUEST",a="INIT_PENCIL_SUCCESS",i="INIT_PENCIL_FAILURE",o="DOWN_PAYMENT_BLUR",l="OFFER_PRICE_BLUR",c="ROUTE_INCENTIVES",s="ROUTE_TRADE_IN",u="REMOVE_TRADE_IN",d="PREFILL_TRADE_IN",m="STARTING_NEW_TRADE_IN",f="CHANGE_TRADE_IN_APPLY_STATUS",p="RM_ADD_TRADE",h="RM_REMOVE_TRADE",b="RM_NEW_TRADE",v="SP_REMEMBERED_TRADE",g="ROUTE_DISPLAY_CASH_DOWN_BREAKDOWN",y="ROUTE_DISPLAY_SUMMARY",E="ROUTE_DISPLAY_EDITOR",O="ROUTE_DISPLAY_RETURNING_USER_MODAL",I="ROUTE_CLOSE_CASH_DOWN_BREAKDOWN",T="ROUTE_DISPLAY_DISCLAIMER",C="ROUTE_DISPLAY_SUCCESS_LANDING",_="ROUTE_DISPLAY_MAIN_MODAL",N="ROUTE_VDP_TO_SDP",S="OPEN_MAIN_MODAL",D="SYNC_MESSAGE",A="MESSAGE_MIDDLEWARE",P="SDP_REDIRECT",w="PIXALL_ANALYTICS_FIRED_FROM_SHOPPER_PLATFORM",L="SDP_USER_CLICKS_X_BUTTON",R="SDP_USER_CLICKS_LEAVE_BUTTON",j="SDP_USER_CLICKS_STAY_BUTTON",k="SDP_USER_CLICKS_OUTSIDE_TO_CLOSE",M="DR_SDP_CLOSE_OUTSIDE_CLICKED",F="DR_SUBMIT_OFFR_BTTN_CLICKED",x="UPDATE_SHOWROOM_EMAIL",U="UPDATE_SHOWROOM_PIN_CODE",B="SHOWROOM_VALIDATE_PIN",V="SHOWROOM_RESET_PIN_VALIDATION",G="API_SHOWROOM_VALIDATE_PIN_REQUEST",Y="API_SHOWROOM_VALIDATE_PIN_SUCCESS",H="API_SHOWROOM_VALIDATE_PIN_FAILURE",K="OPEN_EDUCATION_MODAL",z="ROUTE_OPEN_INSTANT_CASH_OFFER_MODAL",W="DEV_HELPER_THEME_SWITCH",q="ZIP_EDIT_TERMS_BTN_CLICKED",X="DR_ZIP_CODE_PAYMENT_FAILED",Z="DR_TRADE_IN_PAYMENT_FAILED",$="DR_INCENTIVES_PAYMENT_FAILED",J="DR_CREDIT_TIER_PAYMENT_FAILED",Q="DR_OFFER_PRICE_PAYMENT_FAILED",ee="DR_DEALSTARTER_PAYMENT_FAILURE",te="DEALSTARTER_PAYMENT_FAILURE",ne="VDP_TEST_DRIVE_CLICKED",re="DR_VDP_TEST_DRIVE_CLICKED",ae="DR_VDP_TO_SDP_TRADE_CLICKED",ie="DR_SDP_CLOSE_X_CLICKED",oe="DR_SDP_LEAVE_BUTTON_CLICKED",le="DR_SDP_STAY_BUTTON_CLICKED",ce="DR_CONTINUE_TO_SDP_CLICKED",se="CONTINUE_TO_SDP_CLICKED",ue="LEAD_FORM_MODAL_SUBMIT_INFO_CLICKED",de="LEAD_FORM_MODAL_CONTINUE_CLICKED",me="LEAD_FORM_MODAL_CLOSE",fe="NEXT_STEPS_TEST_DRIVE_CLICKED",pe="NEXT_STEPS_TRADE_IN_CLICKED",he="NEXT_STEPS_CREDIT_APP_CLICKED",be="SKIP_NEXT_STEPS_CLICKED",ve="VDP_DISCLAIMER_SEE_DETAILS_CLICKED",ge="VDP_DISCLAIMER_HIDE_DETAILS_CLICKED",ye="DR_VDP_DISCLAIMER_SEE_DETAILS_CLICKED",Ee="DR_VDP_DISCLAIMER_HIDE_DETAILS_CLICKED",Oe="DR_WIDGET_VIEWED",Ie="WIDGET_VIEWED",Te="ONBOARDING_CTA_CLICKED",Ce="DR_ONBOARDING_CTA_CLICKED",_e="User clicked apply taxes and fees button.",Ne="User clicked Resume Monthly Payment button.",Se="User clicked Start Over button.",De="NEGOTIATION_TEXTBOX_TOGGLE_CLICKED",Ae="SEND_PIN_EMAIL_TO_SHOPPER",Pe="API_SEND_PIN_EMAIL_REQUEST",we="API_SEND_PIN_EMAIL_SUCCESS",Le="API_SEND_PIN_EMAIL_FAILURE"},200:function(e,t,n){"use strict";var r,a=n(52),i=n.n(a),o=n(17),l=n.n(o),c=n(95),s=n(137),u=n(1),d=n(19),m=n(22),f=n(9),p=n(10),h=n(5),b=n(40),v={DR_PAYMENT_DISPLAY:!0,DR_RM_NEW_TRADE:!0,DR_SDP_EXTERNAL_OPENED:!0,DR_RM_REMOVE_TRADE:!0,DR_RM_ADD_TRADE:!0,DR_OFFER_PRICE_CHANGED:!0,DR_CREDIT_TIER_CHANGED:!0,DR_PAYMENT_TERM_CHANGED:!0,DR_INCENTIVES_OPENED:!0,DR_TRADEIN_OPENED:!0,DR_DOWN_PAYMENT_CHANGED:!0,DR_LEASE_ANNUAL_MILES_CHANGED:!0,DR_CONTINUE_TO_SDP_CLICKED:!0,DR_VDP_RETURN_CONTINUE:!0,DR_LEAD_FORM_FIRSTNAME_CHANGED:!0,DR_LEAD_FORM_LASTNAME_CHANGED:!0,DR_LEAD_FORM_EMAIL_CHANGED:!0,DR_LEAD_FORM_PHONE_CHANGED:!0,DR_LEAD_FORM_MESSAGED_CHANGED:!0,DR_OFFER_SUBMISSION_CLICKED:!0,DR_SHOPPER_EDUCATION_OPENED:!0,DR_ZIP_EDIT_TERMS_BTN_CLICKED:!0,DR_ZIP_CODE_PAYMENT_FAILED:!0,DR_TRADE_IN_PAYMENT_FAILED:!0,DR_INCENTIVES_PAYMENT_FAILED:!0,DR_CREDIT_TIER_PAYMENT_FAILED:!0,DR_OFFER_PRICE_PAYMENT_FAILED:!0,DR_SHOPPER_ENTERED_ZIPCODE:!0,DR_WIDGET_VIEWED:!0,DR_VDP_RETURN_START_NEW:!0,DR_START_NEW_PURCHASE:!0,DR_SDP_CLOSE_X_CLICKED:!0,DR_SDP_STAY_BUTTON_CLICKED:!0,DR_SDP_LEAVE_BUTTON_CLICKED:!0,DR_VDP_TO_SDP_TRADE_CLICKED:!0,DR_VDP_TEST_DRIVE_CLICKED:!0,DR_NEXT_STEPS_TEST_DRIVE_CLICKED:!0,DR_NEXT_STEPS_TRADE_IN_CLICKED:!0,DR_NEXT_STEPS_CREDIT_APP_CLICKED:!0,DR_DEALSTARTER_PAYMENT_FAILURE:!0,DR_SKIP_NEXT_STEPS_CLICKED:!0,DR_ONBOARDING_CTA_CLICKED:!0,DR_ADD_TAXES_CLICKED:!0,DR_SUBMIT_OFFR_BTTN_CLICKED:!0,DR_CONTINUE_MY_PURCHASE:!0},g=n(23),y=h.h,E=h.j,O=h.v,I=h.G,T="DR_DS_DTM_COMPATIBILITY",C="analytics",_="Antenna",N=function(){return function(e,t){if(this.setData=function(e,t){var n,a,o,l,s,_,N,S,D,A;try{var P=null===(o=null===(a=null===(n=e.meta)||void 0===n?void 0:n.middleware)||void 0===a?void 0:a[C])||void 0===o?void 0:o.eventName,w=(null===(_=null===(s=null===(l=e.meta)||void 0===l?void 0:l.middleware)||void 0===s?void 0:s[C])||void 0===_?void 0:_.options)||{};r.model={actions:{type:e.type,eventName:P,causeDescription:(A=null===(D=null===(S=null===(N=e.meta)||void 0===N?void 0:N.middleware)||void 0===S?void 0:S[C])||void 0===D?void 0:D.eventCauseDescription,null!=A?A:""),uuid:c.v1()}},!Object(g.a)().enableLaunch||w.hasEvents||v[e.type]||(r.model.actions.dtmType=e.type,r.model.actions.type=T);var L=y(t),R=u.selectors.getVehicleDetails(t),j=u.selectors.getShopperInfo(t),k=b.a(t),M=u.selectors.getCurrentOfferType(t),F=u.selectors.getOfferDetails(t,M),x=f.h(t);R&&(r.model.vehicle={chromeStyleId:R.chromeStyleId||"",listedPrice:R.listedPrice,listingType:R.type,make:R.make,mileage:R.mileage,model:R.model,retailPrice:R.retailPrice,trim:R.trim,vin:R.vin,year:R.year,stock:R.stockNumber,uuid:k}),L&&(r.model.dealer={dealerId:E(t),ownerId:String(h.w(L)||""),dnaId:String(h.r(L)||""),listingCode:String(O(L,x)||"")}),j&&(r.model.shopper={antennaId:j.antennaId||"",zipCode:j.zip||""}),F&&(r.model.offer={apr:u.selectors.getFinanceTermAPR(t),creditTier:F.creditTier,dealType:M,downPayment:F.downPayment,leadRefId:u.selectors.getLeadReferenceId(t),leaseAnnualMiles:"lease"===M?u.selectors.getAnnualMiles(t):"",monthlyPayment:u.selectors.getMonthlyPaymentRoundedByOfferType(t,M),offerPrice:F.offerPrice,term:F.term,trade:{owed:p.f(t),value:p.n(t),zip:p.H(t)},isTestLead:f.l(t)}),r.model=i()(r.model,{page:{sponsor:x,dealExperience:I()?m.d:m.c,isMobile:f.g(t),test_name:f.i(t)}})}catch(e){Object(d.a)(["dealstarter","client","dataisland"],t,"error","Error parsing data to dataisland",e)}},this.setupTrackingCookie=function(){var e=s.get(_),t=window.location.hostname;if(!e){var n={expire:31536e6,domain:t.substring(t.indexOf(".")),path:"/"};s.set(_,c.v1(),n),e=s.get(_)}r.model.shopper=l()(r.model.shopper,{antennaId:e})},r||(r=this),!t)throw new ReferenceError("State cannot be null");return this.setData(e,t),this.setupTrackingCookie(),r.model}}();t.a=N},201:function(e,t,n){"use strict";var r=n(21),a=function(e,t){var n="object"==typeof window.newrelic?window.newrelic:null;n&&n.addPageAction(e,t)},i=n(4),o=n(5),l=n(40);n.d(t,"a",function(){return u});var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(e,t,n){var a=Object(o.j)(e).toString()||"no dealer id",i=t.toString()||"unknown reason",c=Object(l.d)(e).toString()||"no vin";return{dealerId:a,reason:i,isTaxCall:r.selectors.shouldIncludeTaxes(e).toString()||"unknown",vin:c,isSuccess:("PAYMENT_RECEIVED"===i||"QUESTIONS_RECEIVED"===i).toString(),clientApp:"DS",isInit:"false",drTraceId:n&&n.traceId||"N/A",actionForPayment:n&&n.actionForPayment||"N/A"}},u=function(e){return function(t){return function(n){t(n);var r=n.type,o=e.getState(),u={},d="new"===Object(l.c)(o);if(r===i.O||r===i.bb)(u=s(o,r,n.payload)).isFinanceSuccessful="false",u.isLeaseSuccessful=d?"false":"N/A",a("paymentCall",u);else if(r===i.P||r===i.cb){u=s(o,r,n.payload);var m=[];n.payload.lease&&m.push(c(c({},n.payload.lease),{type:"Lease"})),n.payload.cash&&m.push(c(c({},n.payload.cash),{type:"Cash"})),n.payload.finance&&m.push(c(c({},n.payload.finance),{type:"Finance"})),m.map(function(e){e.success||(u["is"+e.type+"Successful"]=e.success.toString())})}else r!==i.Q&&r!==i.db||((u=s(o,r,n.payload)).isFinanceSuccessful="N/A",u.isLeaseSuccessful="N/A",a("paymentCall",u))}}}},202:function(e,t,n){"use strict";var r,a=n(12),i=n(23),o=n(95),l=n(52),c=n.n(l),s=n(255),u=n.n(s),d=n(38),m=function(){return function(e,t,n){return this.setupExternalAnalytics=function(){window[r.name].triggerExternalAnalytics=function(e,t,n){void 0===n&&(n={});var r={eventName:e,eventAction:t,eventData:n};d.a.trigger("externalTrack",r)}},this.update=function(e){var t=u()(window[r.name],r.track,o.v1());window[r.name]=c()(t,e)},r||(r=this),r.name=e,r.track=t,window[r.name]=window[r.name]||{},r.setupExternalAnalytics(),r.update(n),r}}();n.d(t,"a",function(){return O});var f,p=a.dataIslandUtils.eventTimestampManager,h=a.dataIslandUtils.shouldExecute,b=a.dataIslandUtils.fireAnalyticsFromEventQueue,v=a.dataIslandUtils.fireImmediately,g=!1,y=[],E=p(),O=function(e,t,n){return function(r){return function(a){return function(o){if(a(o),h(o)){var l=r.getState(),c=n(o,l),s=Object(i.a)();if(s.enableLaunch){f?f.update(c):f=new m(e,t,c);try{if(window._satellite){var u=c.actions;s.enableAnalyticsLogging&&(u.dtmType?console.log("DealStarter::Analytics::",u.dtmType,":: RAW_EVENT"):console.log("DealStarter::Analytics::",u.type)),window._satellite.track(u.type)}}catch(e){g||(g=!0,console.error("Analytics Error: Launch was not able to load",e))}}else f?v(y,E)?(f.update(c),E.update()):y.push(c):(f=new m(e,t,c),E.update(),setInterval(b,1600,E,y,f))}}}}}},204:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(22),a=n(5),i=function(e){return e.dealer.tradeInValuationProvider===r.g&&""!==e.dealer.tradeInValuationICOProviderUrl},o=function(e){return"hertz"===Object(a.o)(e.dealer)?r.f:r.i}},22:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"j",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"i",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return m});var r="DR2020",a="dealStarter",i="ddc",o="kelley_blue_book_ico",l={ICO:"ICO",INFO_DRIVER:"INFODRIVER",SITEDRIVER:"SD"},c="hertz",s="standard",u=["local-ssl","dev","dev2"],d="x-dr-toggle-override",m="x-dr-dealer-toggle-override"},23:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return m});var r=n(132),a=n(22),i=n(14),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(){return i.a&&i.a.featureToggles?JSON.parse(i.a.featureToggles.replace(/&quot;/gi,'"')):{}},c=function(e,t){return void 0===e&&(e=[]),e.reduce(function(e,n){return e[n]=t,e},{})},s=function(e){var t=e.enableToggles,n=e.disableToggles,r={};return t&&(r=o(o({},r),c(t&&t.split(","),!0))),n&&(r=o(o({},r),c(n&&n.split(","),!1))),r},u=function(){var e,t;return(null===(t=null===(e=document)||void 0===e?void 0:e.location)||void 0===t?void 0:t.search.slice(1).replace(/%26/g,"&").replace(/%3D/g,"="))||""},d=function(){var e=u();return f("isMinified",e)},m=function(){var e,t=u(),n=f("enableToggles",t),r=f("disableToggles",t),i=f("enableDealerToggles",t),o=f("disableDealerToggles",t),l=JSON.stringify(s({enableToggles:i,disableToggles:o})),c=((e={})[a.e]=JSON.stringify(s({enableToggles:n,disableToggles:r})),e);return function(e){var t=f("dsEnv",e);return a.h.includes(t)}(t)&&(c[a.b]=l),c},f=function(e,t){var n=r.parse(t),a=n&&n[e];return a&&"string"!=typeof a?a.join():a}},25:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(16),a=n(20),i=function(e,t){return e.experiments.reduce(function(e,n){return e||Object(r.b)(n)===t},!1)},o={sdpLandingInterstitialTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.SDP_LANDING_INTERSTITIAL_DEALER,a.OPTIMIZELY_TEST_NAMES.SDP_LANDING_INTERSTITIAL_CLASSIFIED],noInterstitial:"NO_INTERSTITIAL",landingInterstitial:"LANDING_INTERSTITIAL"},monthlyPaymentRangeTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.MONTHLY_PAYMENT_RANGE_DEALER,a.OPTIMIZELY_TEST_NAMES.MONTHLY_PAYMENT_RANGE_CLASSIFIED],control:"CONTROL",dollars:"DOLLARS",percentRounded:"PERCENT_ROUNDED",percentUnrounded:"PERCENT_UNROUNDED"},vdpControlsTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.VDP_REDESIGN_CONTROLS_DEALER,a.OPTIMIZELY_TEST_NAMES.VDP_REDESIGN_CONTROLS_CLASSIFIED],existingControls:"EXISTING_CONTROLS",newControls:"NEW_CONTROLS"},vdpLeadFormTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.VDP_LEAD_CLASSIFIED_KBB_ATC,a.OPTIMIZELY_TEST_NAMES.VDP_LEAD_DEALER_DDC_OPT_IN],noLeadFormSingleCta:"NO_LEAD_FORM_SINGLE_CTA",leadFormWithTwoCtas:"VDP_LEAD_FORM_TWO_CTA"},sideBySidePricingTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.SIDE_BY_SIDE_PRICING_DEALER,a.OPTIMIZELY_TEST_NAMES.SIDE_BY_SIDE_PRICING_CLASSIFIED],tabPricing:"TAB_PRICING",sideBySidePricing:"SIDE_BY_SIDE_PRICING"},shopperOnBoardingTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.SHOPPER_ONBOARDING_ON_VDP_DDC,a.OPTIMIZELY_TEST_NAMES.SHOPPER_ONBOARDING_ON_VDP_CLASSIFIED],shopperOnboardingModalVisibleOnVdp:"SHOPPER_ONBOARDING_VISIBLE",shopperOnboardingModalHiddenOnVdp:"SHOPPER_ONBOARDING_HIDDEN"},sdpLandingInterstitialTextTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.SDP_LANDING_INTERSTITIAL_TEXT_DEALER,a.OPTIMIZELY_TEST_NAMES.SDP_LANDING_INTERSTITIAL_TEXT_CLASSIFIED],original:"ORIGINAL",variation1:"VARIATION1",variation2:"VARIATION2"},sdpLandingRecommendedStepTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.SDP_LANDING_RECOMMENDED_STEP_DEALER,a.OPTIMIZELY_TEST_NAMES.SDP_LANDING_RECOMMENDED_STEP_CLASSIFIED],noInterstitial:"NO_INTERSTITIAL",landingInterstitial:"LANDING_INTERSTITIAL",landingInterstitialRecommendedStep:"LANDING_INTERSTITIAL_RECOMMENDED_STEP"},sdpMobileModalTest:{experiments:[a.OPTIMIZELY_TEST_NAMES.SDP_MOBILE_MODAL_DEALER],control:"CONTROL",mobileModal:"MOBILE_MODAL"}}},259:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r=n(4);function a(){return{type:r.M}}function i(){return{type:r.j}}},260:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2);function a(){return{type:r.lb}}},261:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(76);function a(){Object(r.f)(),window.removeEventListener("focus",a)}},262:function(e,t,n){"use strict";var r,a=n(46),i=n(11),o=n(1268),l=n(15),c=n(9),s=n(0),u=n.n(s),d=n(54),m=n(67),f=n.n(m),p=n(5),h=n(1),b=n(7),v=n(31),g=n(34),y=n(24),E=n(175),O=n(3),I=n.n(O),T=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=u.a.Component,_={analyticsTag:I.a.string,id:I.a.string,isActive:I.a.bool,isInvalid:I.a.bool,label:I.a.string,onTabClick:I.a.func},N=function(e){function t(t){return e.call(this,t)||this}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.isActive,n=e.isInvalid,r=e.id,a=e.analyticsTag,i=e.label,o=e.onTabClick,l="tab";return l+=t?" active":" inactive",l+=n?" invalid":"",u.a.createElement("div",{id:r,className:l,"data-analytics":a,"data-isactive":t,"data-offertype":i.toLowerCase(),onClick:o},i)},t}(C);N.propTypes=_;var S,D=N,A=n(96),P=n(6),w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=u.a.Component,j=Object(g.default)(v.RadioGroup)(S||(S=w(["\nheight: ",';\ninput[type="radio"]:checked + label {\n    background-color: ',";\n    color: ",";\n    padding: 0.75rem 0.125rem;\n    :after{\n    background-color: transparent;\n    }\n    label span:first-child {\n        font-weight: bold;\n    }\n    .spinner {\n        border-left: 0.32em solid ",";\n        border-bottom: 0.32em solid ",";\n        border-right: 0.32em solid ",";\n        border-top: 0.32em solid ",";\n    }\n};\nlabel span:first-child {\n    font-size: 1.2rem;\n    font-weight: 700;\n}\nlabel span:last-child {\n    font-size: 0.8rem;\n    font-weight: 400;\n}\njustify-content: center;\n"],["\nheight: ",';\ninput[type="radio"]:checked + label {\n    background-color: ',";\n    color: ",";\n    padding: 0.75rem 0.125rem;\n    :after{\n    background-color: transparent;\n    }\n    label span:first-child {\n        font-weight: bold;\n    }\n    .spinner {\n        border-left: 0.32em solid ",";\n        border-bottom: 0.32em solid ",";\n        border-right: 0.32em solid ",";\n        border-top: 0.32em solid ",";\n    }\n};\nlabel span:first-child {\n    font-size: 1.2rem;\n    font-weight: 700;\n}\nlabel span:last-child {\n    font-size: 0.8rem;\n    font-weight: 400;\n}\njustify-content: center;\n"])),Object(y.a)(72),function(e){return e.theme.activeTabIndicatorColor},function(e){return e.theme.offerTypeToggleUiCustomRadioGroupSelectedColor},function(e){return e.theme.offerTypeToggleUiCustomRadioGroupSelectedSpinnerBorderColorLeft},function(e){return e.theme.offerTypeToggleUiCustomRadioGroupSelectedSpinnerBorderColorBottom},function(e){return e.theme.offerTypeToggleUiCustomRadioGroupSelectedSpinnerBorderColorRight},function(e){return e.theme.activeTabIndicatorColor}),k=function(e){function t(t){var n=e.call(this,t)||this;return n.handlePaymentTabClick=function(e){var t=e.currentTarget.dataset.type;return n.props.onTabClick(t)},n}return L(t,e),t.prototype.renderLegacy=function(){var e=this.props,t=e.offerType,n=e.onTabClick,r=e.isFinanceInvalid,a=e.isLeaseInvalid,i=e.shouldDisplayLeaseTab,o=e.shouldDisplayCashTab,l=e.sideBySidePricingEnabled,c=e.financePayment,s=e.leasePayment,d=e.cashOfferPriceFormatted,m=e.isLoading,f="finance"===t,p="lease"===t,h="cash"===t,b=function(e){var t=e.target.getAttribute("data-isactive"),r=e.target.getAttribute("data-offertype");"true"!==t&&n(r)},g=l?u.a.createElement(v.RadioTile,{key:"finance",id:"tab-finance",label:m?u.a.createElement(A.a,null):c?"$"+c+"/mo":"N/A",subLabel:"Finance",value:"finance","data-analytics":"tab-finance"}):u.a.createElement(D,{key:"finance",id:"tab-finance",analyticsTag:"tab-finance",label:"Finance",isInvalid:r,isActive:f,onTabClick:b}),y=l?u.a.createElement(v.RadioTile,{key:"lease",id:"tab-lease",label:m?u.a.createElement(A.a,null):s?"$"+s+"/mo":"N/A",subLabel:"Lease",value:"lease","data-analytics":"tab-lease"}):u.a.createElement(D,{key:"lease",id:"tab-lease",analyticsTag:"tab-lease",label:"Lease",isInvalid:a,isActive:p,onTabClick:b}),E=l?u.a.createElement(v.RadioTile,{key:"cash",id:"tab-cash",label:d,subLabel:"Cash",value:"cash","data-analytics":"tab-cash"}):u.a.createElement(D,{key:"cash",id:"tab-cash",analyticsTag:"tab-cash",label:"Cash",isInvalid:!1,isActive:h,onTabClick:b});return l?u.a.createElement(j,{id:"offerTypeToggle",name:"offer-type-toggle",onChangeFunction:function(e){n(e.target.value)},defaultValue:t,value:t},g,i?y:null,o?E:null):u.a.createElement("div",{className:"offer-type-container"},g,i?y:null,o?E:null)},t.prototype.render=function(){if(!Object(p.G)())return this.renderLegacy();var e=this.props,t=e.offerType,n=e.shouldDisplayLeaseTab,r=e.shouldDisplayCashTab,a=e.financePayment,i=e.leasePayment,o=e.isLoading;if(!n&&!r)return null;var l=u.a.createElement("button",{id:"tab-finance","data-type":"finance",className:"tab-finance "+("finance"===t?"active":""),onClick:this.handlePaymentTabClick},u.a.createElement("div",{className:"offer-type-text"},"Finance"),a?u.a.createElement(E.Spring,{from:{payment:a},to:{payment:a},config:{friction:40,precision:5,clamp:!0}},function(e){return u.a.createElement("div",{className:"value"},Object(P.c)(e.payment),"/mo*")}):u.a.createElement("div",{className:"value"},"N/A"),u.a.createElement("div",{className:"tab-loader "+(o?" loading":"")},u.a.createElement(A.a,null))),c=n&&u.a.createElement("button",{id:"tab-lease","data-type":"lease",className:"tab-lease "+("lease"===t?"active":""),onClick:this.handlePaymentTabClick},u.a.createElement("div",{className:"offer-type-text"},"Lease"),Object(P.j)(i)&&i>0?u.a.createElement(E.Spring,{from:{payment:i},to:{payment:i},config:{friction:40,precision:5,clamp:!0}},function(e){return u.a.createElement("div",{className:"value"},Object(P.c)(e.payment),"/mo*")}):u.a.createElement("div",{className:"value"},"N/A"),u.a.createElement("div",{className:"tab-loader "+(o?" loading":"")},u.a.createElement(A.a,null))),s=r&&u.a.createElement("button",{id:"tab-cash","data-type":"cash",className:"tab-cash "+("cash"===t?"active":""),onClick:this.handlePaymentTabClick},u.a.createElement("div",{className:"offer-type-text"},"Cash"),u.a.createElement("div",{className:"value cash-subheader"},"or Use My Bank"));return u.a.createElement("div",{className:"payment-tabs"},l,c,s)},t}(R),M=n(25),F=n(60),x=n(16),U=M.b,B=M.a.sideBySidePricingTest,V={Container:Object(i.connect)(function(e){var t=h.selectors.getCurrentOfferType(e),n=h.selectors.shouldDisplayLease(e),r=p.i(e),a="cash"!==t&&Object(F.a)(e),i=h.selectors.getMonthlyPaymentRoundedByOfferType(e,"finance"),o=Object(b.isPaymentInvalid)(i,"finance"),l=n?h.selectors.getMonthlyPaymentRoundedByOfferType(e,"lease"):null,c=n?Object(b.isPaymentInvalid)(l,"lease"):null,s="";if(r){var u=h.selectors.getOfferDetails(e,"cash").offerPrice;s=Object(P.c)(u)}return{isFinanceInvalid:o,isLeaseInvalid:c,offerType:t,shouldDisplayLeaseTab:n,shouldDisplayCashTab:r,sideBySidePricingEnabled:U(B,B.sideBySidePricing),financePayment:i,leasePayment:l,cashOfferPriceFormatted:s,isLoading:a}},function(e){return{onTabClick:function(t){x.d("pricingSelectorInteraction"),e(h.actionCreators.updatedOfferType(t))}}})(k),UI:k},G=n(258),Y=n.n(G),H=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return H(t,e),t.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.monthlyPaymentDisplay,r=e.make,a=e.model,i=e.trim,o=e.year,l=e.onClose,c=e.onSeeMyOffer,s=n+"/mo",d="";o&&(d+=o),r&&(d+=" "+r),a&&(d+=" "+a),i&&(d+=" "+i);var m=u.a.createElement("button",{id:"email-landing-primary-btn",className:"btn btn-primary btn-block",onClick:function(){c(),l()}},"Continue Progress");return u.a.createElement("div",{id:"email-landing-container",className:"email-landing-container"},u.a.createElement(Y.a,{title:"Continue Progress",show:t,showConfirm:!1,onConfirm:l,button:!1,style:{top:"5%",left:"5%",width:"90%",marginTop:"inherit",marginLeft:"inherit"},onCancel:l},u.a.createElement("div",{id:"close-button-container",className:"close-button-container"},u.a.createElement("button",{type:"button",id:"close-button",className:"close",onClick:l,title:"Close"},u.a.createElement("i",{className:"fa fa-times"}))),u.a.createElement("div",{id:"email-landing-content",className:"email-landing-content"},d?u.a.createElement("div",{id:"vehicle-details",className:"vehicle-details"},d):null,u.a.createElement("div",{id:"email-landing-offer-details",className:"offer-details"},u.a.createElement("div",{id:"primary-primary",className:"monthly-payment-primary"},s),u.a.createElement("div",{id:"payment-secondary",className:"monthly-payment-secondary"},"My Estimated Payment")),u.a.createElement("div",{id:"button-container",className:"btn-container"},m))))},t}(u.a.Component);K.defaultProps={show:!1};var z=K,W=n(259),q=n(260),X={Container:Object(i.connect)(function(e){var t=h.selectors.getVehicleDetails(e),n=t.make,r=t.model,a=t.trim,i=t.year,o=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.emailLandingModal)||void 0===n?void 0:n.isOpen}(e),l=h.selectors.getCurrentOfferType(e),c=function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.emailLandingModal)||void 0===n?void 0:n.monthlyPaymentRounded}(e);return{isOpen:o,make:n,model:r,trim:a,year:i,monthlyPaymentDisplay:Object(b.isPaymentInvalid)(c,l)?Object(P.h)():Object(P.c)(c)}},function(e){return{onClose:function(){return e(Object(W.a)())},onSeeMyOffer:function(){return e(Object(q.a)())}}})(z),UI:z},Z=n(12),$=n(14),J=n(69),Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=$.a.staticAssets,te=Z.urlBuilder.buildFromConfig(ee,"/img/warning.svg"),ne=Z.urlBuilder.buildFromConfig(ee,"/img/money-tag.svg"),re=Z.urlBuilder.buildFromConfig(ee,"/img/p202/pencil.svg"),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.paymentFailureHasBeenCalled=!1,t}return Q(t,e),t.prototype.componentDidUpdate=function(e){e.offerType!==this.props.offerType&&(this.paymentFailureHasBeenCalled=!1)},t.prototype.render=function(){var e,t=this.props,n=t.offerType,r=t.isLoading,a=t.errorText,i=t.paymentNotAvailable,o=t.onPaymentFailure,l=t.offerPrice,c=t.appliedIncentiveAmount,s=t.toggleLinkText,d=t.onToggleLinkClick,m=t.calculatedPayment,f=t.cashAnimated,p=t.canNegotiate,h=t.showNegotiationTextbox,b=null;if(i&&(b=u.a.createElement("span",{id:"dr-cash-error"},"Price not available")),i&&!r&&!1===this.paymentFailureHasBeenCalled&&(this.paymentFailureHasBeenCalled=!0,o()),a&&"cash"!==n&&(b=u.a.createElement("div",{className:"payment-per-month"},"$--/mo*")),"finance"===n||"lease"===n){var v=""+(e=n).slice(0,1).toUpperCase()+e.slice(1),g=u.a.createElement("div",{className:"est-payment"},"Est. ",v," Payment");i&&!r&&(g=u.a.createElement("div",{className:"est-payment"},u.a.createElement(J.a,{className:"dr-payment-not-available-icon",iconUrl:te}),"Est. payment not available.")),null===b&&(b=u.a.createElement("div",{className:"payment-per-month-wrapper"},u.a.createElement(E.Spring,{from:{payment:m},to:{payment:m},config:{friction:40,precision:5,clamp:!0}},function(e){return u.a.createElement("div",{className:"payment-per-month"},Object(P.c)(e.payment),"/mo*")}),u.a.createElement("div",{className:"payment-loader "+(r?"loading":"")},u.a.createElement(A.a,null))));var y=p?u.a.createElement("div",{className:"based-on-price"},"Based on Price of ",u.a.createElement("span",{className:"edit-price",onClick:h},u.a.createElement("span",{className:"clickable-price"},"$",l.toLocaleString()),u.a.createElement(J.a,{className:"pencil",iconUrl:re}))):u.a.createElement("div",{className:"based-on-price"},"Based on Price of $",l.toLocaleString());return u.a.createElement("div",{className:"payment-header"},g,b,y,c>0&&u.a.createElement("div",{className:"savings-from-manufacturer"},u.a.createElement(J.a,{className:"dr-money-tag-icon",iconUrl:ne}),"Savings of ",u.a.createElement("strong",null,Object(P.c)(c))," from the manufacturer"),u.a.createElement("div",{className:"payment-breakdown",onClick:d},s))}if("cash"===n){var O=u.a.createElement("strong",null,Object(P.c)(c));return u.a.createElement("div",{className:"payment-header"},u.a.createElement("div",{className:"est-payment"},"Est. Total Payment"),u.a.createElement(E.Spring,{from:{cashOffer:f},to:{cashOffer:f},config:{friction:40,precision:5,clamp:!0}},function(e){return u.a.createElement("div",{className:"payment-per-month"},Object(P.c)(e.cashOffer),"*")}),c>0&&u.a.createElement("div",{className:"savings-from-manufacturer"},u.a.createElement(J.a,{className:"dr-money-tag-icon",iconUrl:ne}),"Savings of ",u.a.createElement("strong",null,O)," from the manufacturer and upfront fees"),u.a.createElement("div",{className:"payment-breakdown",onClick:d},s))}},t}(s.Component),ie=n(2),oe=n(44),le=n(65),ce=n(28),se=n(27),ue=function(e){return Object(P.c)(e)},de=Object(i.connect)(function(e){var t=oe.a.location.pathname,n=p.i(e)?h.selectors.getOfferDetails(e,"cash").offerPrice:null,r=h.selectors.getCurrentOfferType(e),a=h.selectors.getOfferDetails(e,r).offerPrice,i=h.selectors.getMonthlyPaymentRoundedByOfferType(e,r),o=Object(F.a)(e),l=Object(b.isPaymentInvalid)(i,r,n),c=l?h.constants.PAYMENT_NOT_AVAILABLE_TEXT:null,s=p.i(e)?h.selectors.getCashOfferRoundedUp(e):0,u=ce.c(e),d="/summary"===t,m=h.selectors.findAllIncentiveTotalFromOffer(e.offer,r),f=d?"Back to Edit My Deal":"See Payment Breakdown",v=p.c(e)&&!["/summary","/disclaimer"].includes(t);return{payment:u?ue(i):Object(P.c)(i),cashOffer:Object(P.c)(parseInt(s,10)),calculatedPayment:i,cashAnimated:s,offerType:r,paymentNotAvailable:l,errorText:c,isLoading:o,offerPrice:a,appliedIncentiveAmount:m,toggleLinkText:f,canNegotiate:v}},function(e){return{onPaymentFailure:function(){e(Object(le.a)())},onToggleLinkClick:function(){"/summary"===oe.a.location.pathname?e(Object(se.goToEditor)()):(e(Object(l.b)(ie.fb)),oe.a.push("/summary"))},showNegotiationTextbox:function(){e({type:ie.L})}}})(ae),me=function(e){var t=e.offerType,n=e.offerPrice,r=e.cashOffer,a=e.isLoading,i=e.errorText,o=e.payment,l=e.paymentNotAvailable,c=e.onDetailedSummaryClick,s=e.onPaymentFailure,d=u.a.createElement("div",null,u.a.createElement("span",{id:"dr-monthly-pmt",className:"dr-price-header__price"},o),u.a.createElement("span",{id:"dr-monthly-mo",className:"dr-price-header__mo"},"/mo*"));return"cash"===t&&0!==n&&(d=u.a.createElement("div",null,u.a.createElement("span",{id:"dr-cash-pmt",className:"dr-price-header__price"},r),u.a.createElement("sup",{id:"dr-monthly-mo",className:"dr-price-header__mo"},"*"))),l&&(d=u.a.createElement("div",null,u.a.createElement("span",{id:"dr-cash-error"},"Price not available"))),l&&!a&&s(),i&&"cash"!==t&&(d=u.a.createElement("div",{id:"dr-pmt-error"},i)),a&&(d=u.a.createElement("div",null,u.a.createElement(A.a,null))),u.a.createElement("div",{className:"dr-price-header"},u.a.createElement("div",{className:"dr-price-header__price-line"},d),function(){var t=e.offerType,n=e.disclaimerText;return e.paymentNotAvailable?null:"cash"===t?u.a.createElement("div",{className:"dr-price-header__sub-content"},u.a.createElement("p",{className:"dr-pmt-cash-subline"},"Cash Purchase Price"),u.a.createElement("span",{className:"dr-pmt-cash-disclaimer"},n)):void 0}(),u.a.createElement("div",{className:"dr-price-header__summary-link"},u.a.createElement("a",{id:"dr-deal-summary-link",onClick:c},"Detailed Summary")))},fe=M.b,pe=M.a.monthlyPaymentRangeTest,he=function(e){var t=Object(P.c)(e);if(fe(pe,pe.dollars)){var n=e-10>0?e-10:0,r=5*Math.floor(n/5),a=e+40,i=5*Math.ceil(a/5);t=Object(P.c)(r)+" - "+Object(P.c)(i)}else if(fe(pe,pe.percentRounded)){r=5*Math.floor(e/5),a=e+.15*e,i=5*Math.ceil(a/5);t=Object(P.c)(r)+" - "+Object(P.c)(i)}else if(fe(pe,pe.percentUnrounded)){a=e+.15*e,i=Math.round(a);t=Object(P.c)(e)+" - "+Object(P.c)(i)}return t},be=Object(i.connect)(function(e){var t;p.i(e)&&(t=h.selectors.getOfferDetails(e,"cash").offerPrice);var n=h.selectors.getCurrentOfferType(e),r=h.selectors.getMonthlyPaymentRoundedByOfferType(e,n),a=Object(F.a)(e),i=Object(b.isPaymentInvalid)(r,n,t),o=i?h.constants.PAYMENT_NOT_AVAILABLE_TEXT:null,l=p.i(e)?h.selectors.getCashOfferRoundedUp(e):0,c=h.selectors.getShortDisclaimerData(e),s=Z.formatUtils.formatShortDisclaimer(c);return{payment:ce.c(e)?he(r):Object(P.c)(r),cashOffer:Object(P.c)(parseInt(l,10)),offerType:n,offerPrice:t,paymentNotAvailable:i,errorText:o,isLoading:a,disclaimerText:s}},function(e){return{onDetailedSummaryClick:function(){e(Object(l.b)(ie.fb)),oe.a.push("/summary")},onPaymentFailure:function(){e(Object(le.a)())}}})(me),ve=n(263),ge=function(e){return u.a.createElement("div",{className:"deal-lookup-container"},u.a.createElement("p",{className:"deal-lookup-text"},"Already Submitted a Deal?"),u.a.createElement("p",{className:"deal-lookup-subtext"},"Load your progress on any device."),u.a.createElement("div",{className:"deal-lookup-link"},u.a.createElement("a",{onClick:e.onDealLookupClick},"Lookup My Deal")))},ye=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=X.Container,Oe=V.Container,Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canHeaderBeShown=function(){var e=t.props,n=e.onSuccessPage,r=e.inShowroom,a=e.onSuccessLandingModal,i=e.isBlurSupported;return!n&&!r&&(!a||!!i)},t.renderHeader=function(e){return!0===e?u.a.createElement(ve.a,null):null},t}return ye(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.goToSuccessLanding;e.shopperHasSentOffer&&t()},t.prototype.render=function(){var e,t,n=this,r=this.props,a=r.blurContainer,i=r.nonBlurContainer,o=r.sideBySidePricingEnabled,l=r.onDetailedSummaryClick,c=r.inShowroom,s=r.isDealLookUpEnabled,m=u.a.createElement(Oe,{onNextRoute:this.props.onNextRoute}),h=u.a.createElement("div",{className:"pencil-header-content"}),b=this.canHeaderBeShown(),v=b?m:h,g=f()("pencil-container",{blurred:a,preventClick:i}),y=f()({nonBlurOverlay:i}),E=u.a.createElement("div",{className:"dr-price-header__summary-link",style:{textAlign:"center",marginTop:"5px"}},u.a.createElement("a",{id:"dr-deal-summary-link",onClick:l},"Detailed Summary"));return u.a.createElement("div",{className:g},u.a.createElement(Ee,null),u.a.createElement("div",{className:"pencil-header"},u.a.createElement(d.a,{query:"(max-width: 593px)"},this.renderHeader),Object(p.G)()&&s&&!c?u.a.createElement(ge,{onDealLookupClick:this.props.onDealLookupClick}):null,b&&v),(e=u.a.createElement("div",{className:"pencil-body"},b&&!o?Object(p.G)()?u.a.createElement(de,null):u.a.createElement(be,null):null,o?E:null,n.props.children),t=u.a.createElement("div",{className:"pencil-body show-arrow"},n.props.children),Object(p.G)()?u.a.createElement(d.a,{query:"(min-width: 594px)"},function(n){return n?t:e}):e),u.a.createElement("div",{className:y}))},t}(s.Component),Te=n(265),Ce=n(13),_e=n(43),Ne=n(41),Se=n(12).urlBuilder,De=M.b,Ae=M.a.sideBySidePricingTest,Pe=Object(i.connect)(function(e,t){var n=Object(c.m)(e),r=t.history.location&&"/successLanding"===t.history.location.pathname,a=t.history.location&&("/editor/modal/returningUser"===t.history.location.pathname||"/editor/modal/onboarding"===t.history.location.pathname),i=t.history.location&&t.history.location.pathname.startsWith("/showroom"),o=$.a.staticAssets,l=Se.buildFromConfig(o,o.vehicleImgPlaceholder),s=Object(Ce.e)(),u=Object(Ne.f)(e);return{shopperHasSentOffer:n,inShowroom:i,onSuccessPage:r,onSuccessLandingModal:a,vehicleImgPlaceholder:l,isBlurSupported:s,blurContainer:a&&s,nonBlurContainer:a&&!s,sideBySidePricingEnabled:De(Ae,Ae.sideBySidePricing),isDealLookUpEnabled:u}},function(e){return{onNextRoute:function(t){var n=Object(Te.a)(t);oe.a.push(n.route),e(Object(l.b)(t))},goToSuccessLanding:function(){return function(e,t){e(Object(_e.b)())}},onDetailedSummaryClick:function(){e(Object(l.b)(ie.fb))},onDealLookupClick:function(){oe.a.push("/showroom")}}})(Ie),we=Object(o.a)(Pe),Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Re={completed:!1,failed:!1};n.d(t,"a",function(){return ke});var je={initialization:function(e,t){switch(void 0===e&&(e=Re),t.type){case ie.F:return Le(Le({},e),t.payload);case ie.G:return Le(Le({},e),{completed:!0});case ie.E:return Le(Le({},e),{completed:!1,failed:!0});default:return e}}},ke={Container:we,UI:Ie,actionCreators:se,reducer:Object(a.combineReducers)(je)}},263:function(e,t,n){"use strict";var r=n(11),a=n(7),i=n(15),o=n(5),l=n(174),c=n(9),s=n(14),u=n(0),d=n.n(u),m=n(54),f=n(69),p=function(e){var t=e.useBrandedComponent,n=e.logoUrl,r=e.useAccelerateBranding,a=e.onShopperEducationClick,i=e.shopperEducationEnabled,l=e.headerText,c=Object(o.G)(),s=r?"dr-header-branded__logo-container--accelerate":"dr-header-branded__logo-container",u=d.a.createElement("div",{className:s},d.a.createElement("img",{src:n,alt:"Branded Logo"})),p=c?null:d.a.createElement("div",{className:"dr-header-default-container"},d.a.createElement("div",{className:"dr-header-default__title_text"},l)),h=d.a.createElement(m.a,{query:"(max-width: 721px)"},function(e){return e?d.a.createElement("div",{className:"dr-header-branded__text-container",onClick:a},d.a.createElement(f.a,{className:"dr-header-branded__video-icon",iconUrl:'<svg width="64px" height="64px" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 50.2 (55047) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>Icons/ui/video-play</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <path d="M57.6585,12.75525 C49.8045,11.6265 41.1245,11 32,11 C22.8755,11 14.1955,11.6265 6.3415,12.75525 C4.8365,18.64575 4,25.15575 4,32 C4,38.84425 4.83475,45.3525 6.3415,51.24475 C14.19725,52.3735 22.8755,53 32,53 C41.1245,53 49.8045,52.3735 57.6585,51.24475 C59.1635,45.35425 60,38.84425 60,32 C60,25.15575 59.16525,18.6475 57.6585,12.75525 Z M25,42.5 L25,21.5 L42.5,32 L25,42.5 Z" id="path-1"></path>\n    </defs>\n    <g id="Icons/ui/video-play" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <mask id="mask-2" fill="white">\n            <use xlink:href="#path-1"></use>\n        </mask>\n        <g id="Shape" fill-rule="nonzero"></g>\n        <g id="_extras/swatch/alpha-90-(text)" mask="url(#mask-2)" fill="#000000" fill-opacity="0.9">\n            <rect id="Rectangle-Copy-2" x="0" y="0" width="64" height="64"></rect>\n        </g>\n    </g>\n</svg>'}),d.a.createElement("a",{id:"shopper-education-link",className:"dr-header-branded__text"},"How Does This Work?")):null});return d.a.createElement("div",{className:"dr-header-container"},t?u:p,i&&!c?h:null)},h=n(12).urlBuilder,b=s.a.staticAssets,v=Object(r.connect)(function(e){var t=Object(c.k)(e),n=""!==o.e(e.dealer),r=t||n,i=t?b.accelerateLogoPath:r?b.brandingExpPath+o.e(e.dealer):"",s=r?h.buildFromConfig(b,"/"+i):"",u=["atc","kbb"].indexOf(Object(c.h)(e).toLowerCase())>-1,d=Object(l.a)(e)?"Calculate Monthly Payment":a.labels.getLabel(a.labels.DEALSTARTER_SIDEBAR_HEADER_TITLE);return{useBrandedComponent:r,logoUrl:s,useAccelerateBranding:t,shopperEducationEnabled:!0,headerText:u?"Calculate Monthly Payment Below":d}},function(e){return{onShopperEducationClick:function(){e(i.c())}}})(p);t.a=v},265:function(e,t,n){"use strict";var r=n(58),a=n.n(r),i=n(1),o=n(12),l=n(15),c=n(2),s=n(49),u=[{type:"ROUTE_INCENTIVES",route:"/incentives"},{type:"ROUTE_SHOPPER_INFO_SUCCESS",route:"shopperInfoSuccess"},{type:"ROUTE_DISPLAY_EDITOR",route:"editor"},{type:"ROUTE_CLOSE_CASH_DOWN_BREAKDOWN",route:"editor"},{type:"ROUTE_DISPLAY_MAIN_MODAL",route:"mainModal"},{type:"ROUTE_DISPLAY_SUMMARY",route:"/summary"},{type:"ROUTE_DISPLAY_DISCLAIMER",route:"/disclaimer"},{type:"ROUTE_TRADE_IN",route:"tradeIn"},{type:"ROUTE_TRADE_IN_SELECTION",route:"tradeIn"},{type:"ROUTE_DISPLAY_CASH_DOWN_BREAKDOWN",route:"cashDownBreakdown"},{type:"ROUTE_DISPLAY_ADJUSTED_CASH_DOWN_BREAKDOWN",route:"adjustedCashDownBreakdown"},{type:"ROUTE_DISPLAY_SUCCESS_LANDING",route:"successLanding"},{type:"ROUTE_DISPLAY_RETURNING_USER_MODAL",route:"editor/modal/returningUser"},{type:"ROUTE_DISPLAY_INCENTIVE_ZIP_UPDATE",route:"/incentives/zipUpdate"},{type:"ROUTE_SP_OPEN_MODAL",route:"shopperPlatformModalUI/ShopperPlatformModalUI"},{type:"ROUTE_SP_CLOSE_MODAL",route:"shopperPlatformModalUI/ShopperPlatformModalUI"},{type:"OPEN_EDUCATION_MODAL",route:"shopperEducationModal"},{type:"CLOSE_EDUCATION_MODAL",route:"shopperEducationModal"},{type:"ROUTE_OPEN_INSTANT_CASH_OFFER_MODAL",route:"instantCashOfferModal"}],d=n(14),m=n(9),f=n(13),p=n(16),h=n(44),b=n(5),v=n(25);n.d(t,"a",function(){return y}),n.d(t,"b",function(){return E});var g=d.a.services,y=function(e){return a()(u,function(t){return t.type===e})},E=function(e){return function(t){return function(n){t(n);var r,a=y(n.type),u=e.getState(),d=m.g(u),E=v.b,O=v.a.sdpMobileModalTest,I=E(O,O.mobileModal),T=d&&I,C=!Object(b.H)(u)&&!T&&((r=n.payload)&&r.openInNewTab),_=m.h(u),N=m.j(u),S=function(e,t,n,r,a){void 0===e&&(e="bff");var i="/ds/shells/"+n+"/"+t+".html",l=p.a()+"dealerId="+n+"&sponsor="+r+"&zipCode="+a,c={protocol:g[e].protocol,host:g[e].host,port:g[e].port};return o.urlBuilder.buildFromConfig(c,i,l)}("bff","main",i.selectors.getDealerSettings(u).dealerId,_,N);switch(n.type){case c.Fb:e.dispatch(Object(l.b)(c.bb));break;case c.Y:var D=i.selectors.getCurrentOfferType(u),A=i.selectors.getMinimumCashDown(u,D),P=i.selectors.getOfferDetails(u,D);P&&A>P.downPayment&&e.dispatch(i.actionCreators.updateDownPaymentImmediate(A))}if(a){if(n.payload&&n.payload.internal)return void h.a.push(a.route);if(d&&C&&(Object(f.f)()?Object(f.q)(S,Object(f.c)()):function(e,t){window.open(e,t)}(S,"_blank")),!(n.meta&&n.meta.syncInfo&&n.meta.syncInfo.wasRelayed)){var w=JSON.stringify({routeType:n.type}),L={type:c.K,meta:{sendMessage:{payload:{message:w,messageContext:s.d}}}};e.dispatch(L)}}}}}},27:function(e,t,n){"use strict";n.r(t);var r=n(61),a=n(12),i=n(2),o=n(14),l=n(77),c=n.n(l);n.d(t,"initPencil",function(){return p}),n.d(t,"onOfferPriceBlur",function(){return h}),n.d(t,"onDownPaymentBlur",function(){return b}),n.d(t,"removeTradeIn",function(){return v}),n.d(t,"prefillTradeIn",function(){return g}),n.d(t,"updateRememberMeTradeInStatus",function(){return y}),n.d(t,"goToEditor",function(){return E}),n.d(t,"closeZipUpdate",function(){return O}),n.d(t,"goToDueAtSigningBreakdown",function(){return I}),n.d(t,"closeDueAtSigningBreakdown",function(){return T}),n.d(t,"closeAdjustedCashDownBreakdown",function(){return C}),n.d(t,"goToSuccessLanding",function(){return _});var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=o.a.services,d="POST",m={"Content-Type":"application/json"},f=function(e,t){return void 0===e&&(e="bff"),void 0===t&&(t="init"),a.urlBuilder.buildFromConfig(u[e],""+t)};function p(e,t,n){var a,o=function(e,t,n){var r={};return c()(e)||c()(t)||c()(n)?r:(r.vehicle={vin:t.vin,listedPrice:t.listedPrice,retailPrice:t.retailPrice,mileage:t.mileage,year:t.year,make:t.make,model:t.model,trim:t.trim,imageUrl:t.imageUrl,stockNumber:t.stockNumber,styleId:t.styleId,type:t.type},r.dealer={id:e.id,ownerId:e.ownerId,ddcAccountId:e.ddcAccountId,listingCode:e.listingCode},r.widgetSettings={isMobile:"yes"===n.isMobile,sponsor:n.sponsor,test_name:n.test_name},JSON.stringify(r))}(e,t,n);return(a={})[r.CALL_API]={endpoint:f("bff","init"),method:d,headers:m,body:o,types:[{type:i.F,meta:{vehicle:t,dealer:e,widgetSettings:n}},{type:i.G,meta:{middleware:{analytics:{eventName:"DR_PAYMENT_DISPLAY"}}}},i.E]},a}function h(){return{type:i.P}}function b(){return{type:i.l}}function v(){return{type:i.U}}var g=function(e){return{type:i.T,payload:e}},y=function(e){return{type:i.h,payload:e}},E=function(){return{type:i.bb,payload:{openInNewTab:!1,internal:!0}}},O=function(){return s({},E())},I=function(){return{type:i.Z,payload:{openInNewTab:!1,internal:!0}}},T=function(){return{type:i.Y,payload:{openInNewTab:!1,internal:!0}}},C=function(){return{type:i.fb,payload:{openInNewTab:!1,internal:!0}}},_=function(){return{type:i.eb,payload:{openInNewTab:!1,internal:!0}}}},28:function(e,t,n){"use strict";function r(e){return e.offerInfo}function a(e){return r(e).offerSubmissionSuccess}function i(e){return r(e).shouldSubmitOffer}function o(e){return r(e).offerCallInProgress}function l(e){return r(e).isInitialPayment}function c(e){return r(e).isNegotiationTextBoxShown}function s(e){return r(e).aioSaveSuccess}function u(e){return r(e).leadRefId}function d(e){return r(e).dealRefId}n.d(t,"f",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return d})},355:function(e,t,n){"use strict";var r=n(11),a=n(1),i=n(7),o=n(12),l=n(1268),c=n(23),s=n(16),u=n(20),d=n(15),m=n(60),f=n(174),p=n(5),h=n(25),b=n(2),v=n(28),g=n(9),y=n(42),E=n(0),O=n.n(E),I=n(155),T=n.n(I),C=n(48),_=n.n(C),N=n(111),S=n(54),D=n(135),A=n.n(D),P=n(10),w=n(40),L=n(6),R=function(e,t){return void 0===t&&(t="finance"),a.selectors.getConditionalTotalByOfferType(e,t)>0},j=function(e,t){return void 0===t&&(t="finance"),a.selectors.getNonConditionalTotalByOfferType(e,t)>0};function k(e){var t=!0;0==+e?t=!1:t=RegExp("^\\d+$").test(e);return t}var M=n(27),F=n(3),x=n.n(F),U=function(e){var t,n,r=e.options,a=e.selectedOptionId,i=e.id,o=e.analyticsId,l=e.onSelectionChange,c=e.notAvailableText;r?n=(t=r.map(function(e){return O.a.createElement("option",{id:e.id,key:e.id,value:e.id},e.displayValue)})).length:(t=null,n=0);var s=l?function(e){l(e.target.options[e.target.selectedIndex].id)}:null,u=0===n&&c&&""!==c?O.a.createElement("div",{className:"overlay not-available selectui__alert-text"},c):null;return O.a.createElement("div",{className:"selectui-container"},O.a.createElement("div",{className:"control-label inline-label input-label selectui__label"},e.label),O.a.createElement("select",{className:"form-control selectui__select",id:i,value:a||"","data-analytics":o,onChange:s},t),u)},B={labelId:x.a.string,linkId:x.a.string,labelText:x.a.string,linkText:x.a.string,hasAdditionalIncentives:x.a.bool,notAvailable:x.a.bool,onLinkClick:x.a.func},V=function(e){var t,n=e.labelId,r=e.labelText,a=e.linkId,i=e.linkText,o=e.hasAdditionalIncentives,l=e.notAvailable,c=e.onLinkClick;if(l)t=null;else{var s=r?O.a.createElement("div",{id:n,key:n},r):null,u=o?O.a.createElement("div",{key:a+"wrapper",className:"incentives-link-wrapper"},O.a.createElement("p",null,O.a.createElement("a",{id:a,key:a,className:"btn btn-link link btn-incentives",onClick:c},i))):null;(t=[]).push(s),t.push(u)}var d="specials";return l&&(d+=" not-available"),O.a.createElement("div",{className:d},t)};V.propTypes=B;var G=V,Y={financeTermApr:x.a.number,hasAdditionalIncentives:x.a.bool,specialsNotAvailable:x.a.bool,onAdditionalIncentivesClick:x.a.func,offerPrice:x.a.number,manufacturerIncentiveTotal:x.a.number,selectedIncentiveTotal:x.a.number,showSpecials:x.a.bool,hasManufacturerCashIncentives:x.a.bool,vehicleMake:x.a.string,isLeaseOption:x.a.bool,isCashOption:x.a.bool},H=function(e){var t=e.financeTermApr,n=e.hasAdditionalIncentives,r=e.specialsNotAvailable,a=e.onAdditionalIncentivesClick,o=e.offerPrice,l=e.manufacturerIncentiveTotal,c=e.selectedIncentiveTotal,s=e.showSpecials,u=e.hasManufacturerCashIncentives,d=e.vehicleMake,m=e.isCashOption,f=e.isLeaseOption,p=f||m?null:O.a.createElement("div",{className:"control-label inline-label apr-label"},"Lowest payment using ",t,"% APR"),h=i.labels.getLabel(i.labels.SPECIALS_LINK),b=function(e){var t=[],n=Object(L.c)(o-(l+c)),r=O.a.createElement("div",{key:"appliedAfterDisplay",className:"price-explanation__total-applied"},O.a.createElement("div",{className:"control-label inline-label"},n," after specials"),O.a.createElement("i",{className:"fa fa-search",onClick:a})),i=function(e){return O.a.createElement("div",{key:"totalIncentives",className:"price-explanation__total-incentives"},O.a.createElement("div",{className:"control-label inline-label specials-label"},e),p)}(e);return t.push(i),t.push(r),t};return O.a.createElement("div",{className:"price-explanation"},function(){var e,t,i=[];if(s){if(u){if(c>0)e="-"+Object(L.c)(l+c)+" total applied specials";else{var o=f?"Lease Cash":"Cash";e="-"+Object(L.c)(l)+" "+d+" "+o}return b(e)}return c>0?(e="-"+Object(L.c)(l+c)+" total applied specials",b(e)):(t=function(e){return O.a.createElement("div",{key:"specialsDisplay",className:"control-label inline-label specials-row"},O.a.createElement(G,{hasAdditionalIncentives:n,linkId:"finance-specials",linkText:e,notAvailable:r,onLinkClick:a}))}(h),i.push(t),i)}return i=null}())};H.propTypes=Y;var K,z,W,q,X,Z=H,$=n(31),J=n(62),Q=n.n(J),ee=n(34),te=n(24),ne=n(108),re=(K=function(e,t){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ae=function(){return(ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ie=2e3,oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.debounceTimeout=null,t.onDebouncedInputChange=function(e){t.debounceTimeout&&clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(function(){return t.props.onDebounceChange(e)},ie)},t.onChangeFunction=function(e){t.props.onChange(e),t.onDebouncedInputChange(e)},t}return re(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this.debounceTimeout)},t.prototype.render=function(){var e=this.props,t=e.inputId,n=e.label,r=e.tooltip,a=e.name,i=e.onBlurFunction,o=e.formatValueFunction,l=e.value,c=e.validationFunction,s=e.errorMessage,u=e.forwardedRef,d=e.disabled,m=e.inputMode;return O.a.createElement(ne.Input,{inputId:t,label:n,tooltip:r,disabled:d,name:a,onBlurFunction:i,formatValueFunction:o,value:l,onChangeFunction:this.onChangeFunction,validationFunction:c,errorMessage:s,ref:u,inputmode:m})},t}(E.Component),le=Object(E.forwardRef)(function(e,t){return O.a.createElement(oe,ae({},e,{forwardedRef:t}))}),ce=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},se=ee.default.div(z||(z=ce(["\n    background-color: #fff;\n    color: ",";\n    font-size: ",";\n    line-height: 1.33;\n    text-align: left;\n    border-radius: ",";\n    padding: "," ",";\n    filter: drop-shadow(rgba(0, 0, 0, 0.5) 0 "," ",");\n\n    &:after {\n        content: '';\n        position: absolute;\n        top: 100%;\n        left: 50%;\n        margin-left: ",";\n        border-width: ",";\n        border-style: solid;\n        border-color: "," transparent transparent transparent;\n    }\n"],["\n    background-color: #fff;\n    color: ",";\n    font-size: ",";\n    line-height: 1.33;\n    text-align: left;\n    border-radius: ",";\n    padding: "," ",";\n    filter: drop-shadow(rgba(0, 0, 0, 0.5) 0 "," ",");\n\n    &:after {\n        content: '';\n        position: absolute;\n        top: 100%;\n        left: 50%;\n        margin-left: ",";\n        border-width: ",";\n        border-style: solid;\n        border-color: "," transparent transparent transparent;\n    }\n"])),function(e){return e.theme.tooltipFontColor},Object(te.a)(12),Object(te.a)(4),Object(te.a)(8),Object(te.a)(9),Object(te.a)(2),Object(te.a)(3),Object(te.a)(-5),Object(te.a)(5),function(e){return e.theme.tooltipBackgroundColor}),ue=ee.default.div(W||(W=ce(["\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n"],["\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n"]))),de=function(e){var t=e.children,n=e.showToolTip;return E.createElement(ue,null,n?E.createElement(se,null,t):null)},me=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},fe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=Object(ee.default)($.RadioGroup)(q||(q=me(["\n    height: ",';\n    input + label {\n        cursor: pointer;\n        text-align: center;\n        padding: 0.75rem 0.125rem;\n    }\n    input[type="radio"]:checked + label {\n        background-color: ',";\n        color: ",";\n        :after {\n            background-color: transparent;\n        }\n    }\n    :after {\n        background-color: transparent;\n    }\n    label > span:nth-child(1) {\n        font-size: ",";\n    }\n    label > span:nth-child(2) {\n        font-size: ",";\n        display: block;\n        white-space: nowrap;\n    }\n    justify-content: center;\n    padding-top: ",";\n"],["\n    height: ",';\n    input + label {\n        cursor: pointer;\n        text-align: center;\n        padding: 0.75rem 0.125rem;\n    }\n    input[type="radio"]:checked + label {\n        background-color: ',";\n        color: ",";\n        :after {\n            background-color: transparent;\n        }\n    }\n    :after {\n        background-color: transparent;\n    }\n    label > span:nth-child(1) {\n        font-size: ",";\n    }\n    label > span:nth-child(2) {\n        font-size: ",";\n        display: block;\n        white-space: nowrap;\n    }\n    justify-content: center;\n    padding-top: ",";\n"])),Object(te.a)(60),function(e){return e.theme.activeTabIndicatorColor},function(e){return e.theme.cashDownUiCustomRadioGroupSelectedColor},Object(te.a)(14),Object(te.a)(12),Object(te.a)(8)),he=(_.a.TooltipUI,function(e){function t(t){var n=e.call(this,t)||this;return n.handleFormatDollars=function(e){return Object(L.c)(e,"$")},n.onDebouncedInputChange=function(e){var t=n.props,r=t.minimumCashDown,a=t.downPayment,i=Object(L.l)(e.target.value),o=i<r?r:i;n.props.onDownPaymentChange(o),r>0&&a<r||Object(L.l)(n.state.userInput)<r?n.openToolTipTip():n.closeToolTip()},n.onInputChange=function(e){var t=e.target.value;n.props.onDownPaymentImmediateChange(Object(L.l)(t)),n.setState({userInput:t})},n.validate=function(){var e=n.props,t=e.minimumCashDown,r=e.downPayment;return!(t>0&&r<t)},n.openToolTipTip=function(){n.setState({showToolTip:!0})},n.closeToolTip=function(){n.setState({showToolTip:!1})},n.toggleInputAndRadio=function(){n.setState({showCustomField:!0,customDownPayment:0})},n.parseInput=function(e){var t;if(t=Object(p.G)()?e:e.target.value.replace("$","").replace(/,/g,""),o.formatUtils.isValidNumber(t))return t=Number(t)},n.handleInputChange=function(e){var t,r=n.props.onDownPaymentChange,a=e.target.value.replace("$","").replace(/,/g,"");o.formatUtils.isValidNumber(a)&&(t=Number(a),n.setState({customDownPayment:t})),r(t)},n.handlePaymentSelection=function(e){(0,n.props.onDownPaymentChange)(parseInt(e.target.value,10))},n.applyCustomDownPayment=function(){n.setState(function(e){return{showCustomField:!1,radioDownPayment:e.customDownPayment}}),n.props.onDownPaymentChange(n.state.customDownPayment)},n.renderInputField=function(){var e=n.props,t=e.id,r=e.label,a=e.tooltip,i=e.downPayment,l=(e.minimumCashDown,e.onBlur);return Object(p.G)()?O.a.createElement("div",null,O.a.createElement(le,{inputId:"cash-down-input-offer",label:r,name:t,tooltip:a,onBlurFunction:l,formatValueFunction:n.handleFormatDollars,value:i.toString(),onChange:n.onInputChange,onDebounceChange:n.onDebouncedInputChange,validationFunction:n.validate,errorMessage:"",inputMode:"numeric"})):O.a.createElement("div",null,O.a.createElement($.Input,{label:"Enter Amount",type:"text",name:"customInput",value:o.formatUtils.formatDollars(n.state.customDownPayment),onChangeFunction:n.handleInputChange,maxlength:7}),O.a.createElement("div",{className:"update-cashDown-link"},O.a.createElement("a",{id:"apply-custom-cashdown-link",onClick:n.applyCustomDownPayment}," ","Update Cash Down"," ")))},n.renderTiles=function(){var e=n.props.offerPrice,t=n.state.radioDownPayment/e,r={leftDownPayment:{label:e*(t-.05)<=0?"$--":e*(t-.05),percent:Q()(t-.05).format("0%")<"0"?"0%":Q()(t-.05).format("0%")},middleDownPayment:{label:e*t<=0?"$0":e*t,percent:Q()(t).format("0%")<"0"?"0%":Q()(t).format("0%")},rightDownPayment:{label:e*(t+.05),percent:Q()(t+.05).format("0%")}};return Object.keys(r).map(function(e,t){return O.a.createElement($.RadioTile,{key:r[e].label+"-"+t,label:Q()(r[e].label).format("$0,0"),subLabel:r[e].percent,value:""+r[e].label})})},n.renderRadioGroup=function(){return O.a.createElement(O.a.Fragment,null,O.a.createElement("label",{className:"toggleLabel",htmlFor:"finance-cash-down"},n.props.label),O.a.createElement(pe,{name:"percentToggle",onChangeFunction:n.handlePaymentSelection,defaultValue:""+n.state.radioDownPayment},n.renderTiles()),O.a.createElement("div",{className:"update-cashDown-link"},O.a.createElement("a",{id:"custom-cashdown-link",onClick:n.toggleInputAndRadio}," ","Enter Custom Amount"," ")))},n.state={showCustomField:!1,customDownPayment:0,radioDownPayment:n.props.downPayment,showToolTip:!1,userInput:""},n}return fe(t,e),t.prototype.render=function(){var e=this.state.showCustomField;return O.a.createElement("div",null,O.a.createElement(de,{showToolTip:this.state.showToolTip},O.a.createElement("p",null,"Certain fees or payments are required to be paid at signing per state laws, the lender or the dealership"),O.a.createElement("a",{onClick:this.closeToolTip},"Okay, Got it")),e||Object(p.G)()?this.renderInputField():this.renderRadioGroup())},t}(E.Component)),be=Object(r.connect)(function(e,t){var n=a.selectors.getCurrentOfferType(e),r=a.selectors.getMinimumCashDown(e,n),o=a.selectors.getOfferDetails(e,n);return{offerPrice:o.offerPrice,minimumCashDown:r,downPayment:o.downPayment,label:"lease"===n&&Object(p.l)(e)?i.labels.getLabel(i.labels.DUE_AT_SIGNING_LABEL_DS):i.labels.getLabel(i.labels.CASH_DOWN_LABEL_DS),tooltip:t.tooltip}},function(e){return{onDownPaymentChange:function(t){e(a.actionCreators.updateDownPaymentDebounced(t,void 0))},onDownPaymentImmediateChange:function(t){e(a.actionCreators.updateDownPaymentImmediate(t))}}})(he),ve=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ge=Object(ee.default)($.RadioGroup)(X||(X=ve(["\n    height: ",";\n    input + label {\n        cursor: pointer;\n        text-align: center;\n        padding: 0.75rem 0.125rem;\n    }\n    input[type='radio']:checked + label {\n        background-color: ",";\n        color: white;\n        :after {\n            background-color: transparent;\n        }\n    }\n    label > span:nth-child(1) {\n        font-size: ",";\n    }\n    label > span:nth-child(2) {\n        font-size: ",";\n        display: block;\n        white-space: nowrap;\n    }\n    justify-content: center;\n    padding-top: ",";\n"],["\n    height: ",";\n    input + label {\n        cursor: pointer;\n        text-align: center;\n        padding: 0.75rem 0.125rem;\n    }\n    input[type='radio']:checked + label {\n        background-color: ",";\n        color: white;\n        :after {\n            background-color: transparent;\n        }\n    }\n    label > span:nth-child(1) {\n        font-size: ",";\n    }\n    label > span:nth-child(2) {\n        font-size: ",";\n        display: block;\n        white-space: nowrap;\n    }\n    justify-content: center;\n    padding-top: ",";\n"])),Object(te.a)(60),function(e){return e.theme.activeTabIndicatorColor},Object(te.a)(14),Object(te.a)(10),Object(te.a)(8)),ye=function(e){var t=e.termOptions,n=e.currentTerm,r=e.paymentIsNotAvailable,a=e.notAvailableText,i=e.showNewVdpControls,o=e.onTermChange,l=e.label,c=e.offerType;return i&&t.length<=4?O.a.createElement("div",{className:"form-row"},O.a.createElement("div",{className:"loan-term-ui-container"},O.a.createElement("label",{className:"toggleLabel",htmlFor:c+"-terms"},l),O.a.createElement(ge,{name:"changeLoanTerm",onChangeFunction:function(e){return o(e.target.value)},value:n},function(){var t=e.termOptions,n=e.paymentIsNotAvailable,r=e.notAvailableText;return 0!==t.length?t.map(function(e){var t;return O.a.createElement($.RadioTile,{key:e.id,label:(t=e,t.displayValue.split(".")[0]+"s"),subLabel:function(e){return e.displayValue.split("at")[1]}(e),value:e.id})}):O.a.createElement("div",{className:"not-available loan-term-ui-alert"},n?"Retrieving terms...":r)}()))):O.a.createElement("div",{className:"form-row form-group"},O.a.createElement("div",null,O.a.createElement("div",{className:"loan-term-ui-container"},O.a.createElement(U,{id:c+"-terms",options:t,selectedOptionId:n,analyticsId:"select-financing",notAvailableText:r?"Retrieving terms...":a,onSelectionChange:o,label:l}))))},Ee=n(4),Oe=h.b,Ie=h.a.vdpControlsTest,Te=Object(r.connect)(function(e,t){var n=a.selectors.getCurrentOfferType(e),r=a.selectors.getOfferDetails(e,"finance").term,i=a.selectors.getOfferDetails(e,"lease").term,o=Object(m.a)(e),l=a.selectors.getAvailableFinanceTermsOptions(e),c=a.selectors.getAvailableLeaseTermsOptions(e),s=l.map(function(e){return{displayValue:e.name,id:e.id}}),u=c.map(function(e){return{displayValue:e.name,id:e.id}});return{offerType:n,id:t.id,analyticsId:t.analyticsId,label:t.label,paymentIsNotAvailable:o,notAvailableText:"Terms not available",termOptions:"finance"===n?s:u,currentTerm:"finance"===n?r:i,showNewVdpControls:Oe(Ie,Ie.newControls)}},function(e){return{onTermChange:function(t){s.d("LOAN_TERM_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.selectedTerm(t)),e({type:Ee.K})}}})(ye),Ce=function(e,t,n){return Math.max(e,Math.min(t,n))},_e=function(e,t){var n,r;return e.some(function(e){var a=Math.abs(t-e);if(a>=r)return!0;n=e,r=a}),n},Ne=function(e){var t=e.min,n=e.max;return(e.value-t)/(n+t)},Se=function(){return(Se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},De=function(e){return function(t){return e(Se(Se({},t),{type:"START"}))}},Ae=function(e){return function(t){switch(t.preventDefault(),t.keyCode){case 37:case 40:e({type:"STEPS",direction:-1});break;case 38:case 39:e({type:"STEPS",direction:1});break;default:return}}},Pe=function(e){return function(t){var n=t.deltaX<0||t.deltaY>0?1:t.deltaX>0||t.deltaY<0?-1:0;t.preventDefault(),e({type:"STEPS",direction:n})}},we=function(e,t){return document.body.addEventListener(e,t)},Le=function(e,t){return document.body.removeEventListener(e,t)},Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},je=function(e){return Re(Re(Re({},e),{isActive:!0}),(n=(t=e).container,r=t.widthSize,{startX:Math.floor(n.current.offsetLeft)+r/2,startY:Math.floor(n.current.offsetTop)+r/2}));var t,n,r},ke=function(e){var t=e.state,n=e.action,r=e.onChange,a=function(e){var t=e.startX,n=e.startY,r=e.pageX,a=e.pageY,i=e.angleOffset,o=e.angleRange,l=t-r,c=n-a,s=180*Math.atan2(-c,-l)/Math.PI+90-i,u=s<0?s+360:s%360;return u<=o?Ce(0,1,u/o):u-o<(360-o)/2?1:0}(Re(Re({},t),n)),i=function(e){var t=e.min;return t+(e.max-t)*e.percentage}(Re(Re({},t),{percentage:a}));return r(i),Re(Re({},t),{percentage:a,value:i})},Me=function(e){return function(t,n){switch(n.type){case"START":return je(t);case"MOVE":return ke({state:t,action:n,onChange:e});case"STEPS":return function(e){var t=e.state,n=e.action,r=e.onChange,a=Ce(t.min,t.max,t.value+1*n.direction);return r(a),Re(Re({},t),{value:a,percentage:Ne(Re(Re({},t),{value:a}))})}({state:t,action:n,onChange:e});default:return Re(Re({},t),{isActive:!1,value:t.value})}}},Fe=function(e){var t=e.min,n=e.max,r=e.initialValue,a=e.angleOffset,i=void 0===a?0:a,o=e.angleRange,l=void 0===o?360:o,c=e.widthSize,s=e.heightSize,u=e.steps,d=e.onChange,m=e.readonly,f=Object(E.useRef)(),p=Object(E.useRef)(),h=r?(r-t)/(n-t):0,b=Object(E.useReducer)(Me(d),{isActive:!1,min:t,max:n,angleOffset:i,angleRange:l,percentage:h,value:r||0,svg:f,container:p,widthSize:c,heightSize:s}),v=b[0],g=v.value,y=v.angle,O=v.isActive,I=b[1],T=m?function(){}:function(e){var t=e.dispatch,n=e.isActive;return function(){var e=function(e){var n=e.pageX,r=e.pageY;return t({pageX:n,pageY:r,type:"MOVE"})},r=function(){return t({type:"STOP"})};if(n)return we("mousemove",e),we("mouseup",r),function(){Le("mousemove",e),Le("mouseup",r)}}}({dispatch:I,isActive:O});return Object(E.useEffect)(T,[O]),{svg:f,container:p,percentage:u?_e(u,h):h,value:g,angle:y,onStart:De(I),onKeyDown:Ae(I),onScroll:Pe(I)}},xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ue=function(e,t,n){return{x:e+t*Math.cos(n),y:e+t*Math.sin(n)}},Be=function(e){return Math.PI*e/180},Ve=function(e){var t=e.percentage,n=e.angleOffset,r=e.angleRange,a=e.arcWidth,i=e.radius,o=e.center,l=e.backgroundWidth,c=l?i-a/2-l/2:i,s=r*t,u=n-90,d=l?i-a/2+l/2:c-a+l,m=Be(u),f=Be(u+s),p=s<180?0:1,h=Ue(o,c,f),b=Ue(o,c,m),v=Ue(o,d,m),g=Ue(o,d,f);return"M"+h.x+","+h.y+" A"+c+","+c+" 0 "+p+" 0 "+b.x+","+b.y+"L"+v.x+","+v.y+" A"+d+","+d+" 0 "+p+" 1 "+g.x+","+g.y+" L"+h.x+","+h.y},Ge=function(e){var t=e.color,n=e.className,r=e.background,a=e.arcPathClassName,i=e.backgroundClassName;return O.a.createElement("g",{className:n},(r||i)&&O.a.createElement("path",{className:i,d:Ve(xe(xe({},e),{percentage:1})),style:i?null:{fill:r}}),O.a.createElement("path",{className:a,d:Ve(xe(xe({},e),{backgroundWidth:0})),style:{fill:t}}))},Ye=function(e){var t=e.children,n=e.width,r=e.height,a=void 0===r?n:r,i=e.angleOffset,o=e.angleRange,l=e.percentage,c=e.radius,s=e.center,u=e.type,d=e.color,m=e.className;return O.a.createElement("g",{transform:"\n            rotate("+(i+o*l)+" "+s+" "+s+")\n            translate( "+s+" "+(s-c-a)+")\n            "},t&&O.a.Children.map(t,function(e){return O.a.cloneElement(e,{width:n,height:a,percentage:l})}),"rect"===u&&O.a.createElement("rect",{width:n,height:a,fill:d,className:m}),"circle"===u&&O.a.createElement("circle",{r:n,fill:d,className:m}))},He=function(e){var t=e.value,n=e.decimalPlace,r=void 0===n?0:n,a=e.valueSelector,i=e.className,o=e.heightSize,l=e.marginBottom,c=void 0===l?0:l;return null==t?null:O.a.createElement("text",{style:{userSelect:"none"},x:"50%",textAnchor:"middle",className:i,y:o-c},a?a(t):t.toFixed(r))},Ke=function(){return(Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ze=function(e,t){return e&&t?Array.from({length:e+1},function(t,n){return 1/e*n}):void 0},We=function(e){var t=e.min,n=e.max,r=e.value,a=e.angleOffset,i=void 0===a?0:a,o=e.angleRange,l=void 0===o?360:o,c=e.widthSize,s=e.heightSize,u=void 0===s?c:s,d=e.onChange,m=e.children,f=e.steps,p=e.grip,h=void 0!==p&&p,b=e.ariaValueText,v=e.ariaLabelledBy,g=e.className,y=e.scrollable,I=void 0!==y&&y,T=e.readonly,C=void 0===T||T,_=Fe({min:t,max:n,initialValue:r,angleOffset:i,angleRange:l,widthSize:c,heightSize:u,steps:ze(f,h),onChange:d,readonly:C}),N=_.percentage,S=_.value,D=_.onStart,A=_.svg,P=_.container,w=_.onKeyDown,L=_.onScroll;return O.a.createElement("div",{ref:P,tabIndex:0,style:{outline:"none",width:c,height:u},"aria-valuemax":n,"aria-valuemin":t,"aria-valuenow":S,"aria-valuetext":b,"aria-labelledby":v,onKeyDown:C?null:w,onWheel:I?L:null,className:g},O.a.createElement("svg",{onMouseDown:D,width:c,height:u,ref:A},E.Children.map(m,function(e){return t=e.type,[Ge,Ye,He].includes(t)?Object(E.cloneElement)(e,Ke({percentage:N,heightSize:u,widthSize:c,value:S,angleOffset:i,angleRange:l,radius:c/2,center:c/2,steps:f,readonly:C},e.props)):e;var t})))},qe=function(e){var t,n,r,a=function(t,n){var r;0===t&&(r=e.creditTierToggleInfo[0]);var a=e.selectedCreditTier,i=a||r;return i&&n?i[n]:0===t?0:t.toFixed(0)};return O.a.createElement(We,{heightSize:95,widthSize:160,angleOffset:270,angleRange:180,min:0,max:100,value:(t=e.selectedCreditTier,n=e.creditTierToggleInfo.findIndex(function(e){return t.id===e.id}),r=100/e.creditTierToggleInfo.length,n*r+r/(n+1)),className:"gauge"},O.a.createElement(Ge,{arcWidth:6,radius:70,className:"arc",backgroundClassName:"arc-background",backgroundWidth:5}),O.a.createElement(Ye,{width:2.5,radius:64.5,type:"circle",className:"pointer"}),O.a.createElement(He,{marginBottom:40,className:"value-range-label",valueSelector:function(e){return a(e,"label")}}),O.a.createElement(He,{marginBottom:20,className:"value-name",valueSelector:function(e){return a(e,"name")}}))},Xe=n(67),Ze=n.n(Xe),$e=n(177),Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Qe={position:"relative",width:"100%"},et=function(e){var t=e.creditTierToggleInfo.length,n=[0,t-1],r=function(t){return e.creditTierToggleInfo.findIndex(function(e){return e.id===t})||0},a=r(e.selectedCreditTier.id),i=Object(E.useState)({updates:[a],value:e.selectedCreditTier.id,isSliding:!1}),o=i[0],l=i[1];Object(E.useEffect)(function(){if(o.value!==e.selectedCreditTier.id&&!o.isSliding){var t=e.creditTierToggleInfo.findIndex(function(t){return t.id===e.selectedCreditTier.id});l(function(n){return Je(Je({},n),{updates:[t],value:e.selectedCreditTier.id})})}},[e.selectedCreditTier]);var c=function(t){var n=t.target.getAttribute("data-id");l(function(e){return Je(Je({},e),{updates:[r(n)],value:n})}),e.creditTierToggleClick(n)},s=[r(e.selectedCreditTier.id)];return O.a.createElement("div",{className:"slider-bar"},O.a.createElement($e.c,{disabled:!1,step:1,domain:n,rootStyle:Qe,onUpdate:function(t){isNaN(t[0])||(l({updates:t,value:e.creditTierToggleInfo[t[0]].id,isSliding:!0}),e.onValueUpdate(e.creditTierToggleInfo[t[0]]))},onChange:function(t){l(function(e){return Je(Je({},e),{isSliding:!1})}),isNaN(t[0])||e.creditTierToggleClick(e.creditTierToggleInfo[t[0]].id)},values:s},O.a.createElement($e.b,null,function(e){var t=e.getRailProps;return O.a.createElement("div",Je({className:"side-rail"},t()))}),O.a.createElement($e.a,null,function(e){var t=e.handles,n=e.getHandleProps;return O.a.createElement("div",{className:"slider-handles"},t.map(function(e){return O.a.createElement("div",Je({key:"handle.id",className:"handle",style:{left:e.percent+"%"}},n(e.id)))}))}),O.a.createElement($e.e,{right:!1},function(e){var t=e.tracks,n=e.getTrackProps;return O.a.createElement("div",{className:"slider-tracks"},t.map(function(e){e.id;var t=e.source,r=e.target;return O.a.createElement("div",Je({key:"id",className:"track",style:{left:t.percent+"%",width:r.percent-t.percent+"%"}},n()))}))}),O.a.createElement($e.d,{count:t},function(n){var r=n.ticks;return O.a.createElement("div",{className:"slider-ticks"},r.map(function(n,r){var a=n.id,i=n.percent;return O.a.createElement("div",{key:a,className:"tick","data-id":e.creditTierToggleInfo[r].id,style:{left:i-4*r/(t-1)+"%",display:o.updates[0]===r?"none":"inline"},onClick:c})}))})))},tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(){return(nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setCurrentTier=function(e,n){t.incrementTimeout&&(clearTimeout(t.incrementTimeout),t.incrementTimeout=void 0),t.nextIncrementId=void 0,(n||e!==t.props.selectedCreditTier.id)&&t.props.creditTierToggleClick(t.props.creditTierToggleInfo[t.getTierIndex(e)].id)},t.handleSelectPrevious=function(){t.incrementSelection(-1)},t.handleSelectNext=function(){t.incrementSelection(1)},t}return tt(t,e),t.prototype.componentWillUnmount=function(){this.incrementTimeout&&clearTimeout(this.incrementTimeout)},t.prototype.getTierIndex=function(e){var t=0;return this.props.creditTierToggleInfo.forEach(function(n,r){var a=n.id;e===a&&(t=r)}),t},t.prototype.incrementSelection=function(e){var t=this,n=this.getTierIndex(void 0!==this.nextIncrementId?this.nextIncrementId:this.props.selectedCreditTier.id);(n+=e)<0||n>=this.props.creditTierToggleInfo.length||(this.nextIncrementId=this.props.creditTierToggleInfo[n].id,this.incrementTimeout&&clearTimeout(this.incrementTimeout),this.incrementTimeout=setTimeout(function(){return t.setCurrentTier(t.nextIncrementId,!0)},50))},t.prototype.render=function(){var e=this.getTierIndex(this.props.selectedCreditTier.id),t=0===e,n=e>=this.props.creditTierToggleInfo.length-1;return O.a.createElement("div",{className:"credit-bar-area"},O.a.createElement("div",{className:Ze()("credit-bar-stepper div-minus",{disabled:t}),role:"button",onClick:this.handleSelectPrevious},String.fromCharCode(65293)),O.a.createElement("div",{className:"credit-bar"},O.a.createElement(et,nt({},this.props))),O.a.createElement("div",{className:Ze()("credit-bar-stepper div-plus",{disabled:n}),role:"button",onClick:this.handleSelectNext},String.fromCharCode(65291)))},t}(E.Component),at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},it=function(e){var t=Object(E.useState)(e.selectedCreditTier),n=t[0],r=t[1],a=Object(E.useState)(e.selectedIndex),i=a[0],o=a[1];Object(E.useEffect)(function(){r(e.selectedCreditTier),o(e.selectedIndex)},[e.selectedCreditTier]);var l=Object(p.G)();return O.a.createElement(O.a.Fragment,null,O.a.createElement("label",{className:"credit-tier-slider-label"},"Credit ",l?"Rating":"Score"),O.a.createElement(qe,at({},at(at({},e),{selectedCreditTier:n}))),l?O.a.createElement(ne.Slider,{minValue:0,maxValue:e.creditTierToggleInfo.length-1,onChange:function(t){var n=e.creditTierToggleInfo[t];e.creditTierToggleClick(n.id),r(n),o(t)},step:1,value:i,showStepMarkers:!0}):O.a.createElement(rt,at({},at(at({},e),{creditTierToggleClick:function(t){e.creditTierToggleClick(t)},onValueUpdate:function(e){r(e),o(0)}}))))},ot=_.a.CurrencyInputUI,lt={cashIncentivesLabel:x.a.string,conditionalIncentiveLabel:x.a.string,creditTierRanges:x.a.arrayOf(x.a.shape({displayValue:x.a.string,id:x.a.string})),creditTierToggleInfo:x.a.arrayOf(x.a.object),downPayment:x.a.number.isRequired,financeTermRanges:x.a.arrayOf(x.a.shape({displayValue:x.a.string,id:x.a.string})),hasAdditionalIncentives:x.a.bool,hasManufacturerCashIncentives:x.a.bool,isVehicleSinglePrice:x.a.bool,minimumCashDown:x.a.number,instantCashOfferEnabled:x.a.bool,offerPrice:x.a.number,offerPriceLabel:x.a.string,onAdditionalIncentivesClick:x.a.func,onOfferPriceBlur:x.a.func,onDownPaymentBlur:x.a.func,onCreditTierChange:x.a.func,onCurrencyInputBlurValidation:x.a.func,onDownPaymentChange:x.a.func,onDueAtSigningInfoClick:x.a.func,onOfferChange:x.a.func,onOfferImmediateChange:x.a.func,onTermChange:x.a.func,selectedCreditTierId:x.a.string,selectedTermId:x.a.string,shopperZip:x.a.string,showSpecials:x.a.bool,specialsNotAvailable:x.a.bool,tradeInDisplay:x.a.string,selectedIncentiveTotal:x.a.number,manufacturerIncentiveTotal:x.a.number,financeTermApr:x.a.number,vehicleMake:x.a.string,showSoftPullButton:x.a.bool},ct=function(e){var t="form-row form-group";t=e.cashIncentivesLabel?t+" specials-row":t;var n=e.specialsNotAvailable?null:O.a.createElement(Z,{financeTermApr:e.financeTermApr,hasAdditionalIncentives:e.hasAdditionalIncentives,specialsNotAvailable:e.specialsNotAvailable,onAdditionalIncentivesClick:e.onAdditionalIncentivesClick,offerPrice:e.offerPrice,manufacturerIncentiveTotal:e.manufacturerIncentiveTotal,selectedIncentiveTotal:e.selectedIncentiveTotal,showSpecials:e.showSpecials,hasManufacturerCashIncentives:e.hasManufacturerCashIncentives,vehicleMake:e.vehicleMake,conditionalIncentiveLabel:e.conditionalIncentiveLabel,isLeaseOption:!1}),r=O.a.createElement("div",{className:"form-row form-group"},O.a.createElement("div",null,O.a.createElement(U,{options:e.creditTierRanges,selectedOptionId:e.selectedCreditTierId,id:"finance-credit-tier",analyticsId:"select-credit-tier",onSelectionChange:e.onCreditTierChange,label:"Credit Score"})));return O.a.createElement("div",{className:"finance-editor-container"},O.a.createElement("div",{className:"flex-editor"},O.a.createElement("div",{className:"form-row form-group"},O.a.createElement("div",null,O.a.createElement(ot,{analyticsId:"input-offer",id:"finance-input-offer",isReadOnly:e.isVehicleSinglePrice,onBlur:e.onOfferPriceBlur,onBlurValidation:e.onCurrencyInputBlurValidation,currencyValue:e.offerPrice,onUpdateValue:e.onOfferChange,onImmediateUpdateValue:e.onOfferImmediateChange,label:e.offerPriceLabel,forceCursorToEnd:!0}))),n,function(){var t=e.onDownPaymentBlur,n=e.downPayment,r=e.onDownPaymentChange,a=e.onDownPaymentImmediateChange,o=e.onDueAtSigningInfoClick,l=e.showNewVdpControls,c=e.minimumCashDown;if(l)return O.a.createElement(O.a.Fragment,null,O.a.createElement("hr",null),O.a.createElement(be,null));var s=i.labels.getLabel(i.labels.CASH_DOWN_LABEL_DS),u=c>0&&n<c,d=u?" show-alert":"";return O.a.createElement("div",{className:"form-row form-group cash-down "+d},O.a.createElement("div",{className:"cash-down-input"},O.a.createElement(ot,{analyticsId:"input-cash-down",id:"finance-cash-down",onBlur:t,currencyValue:n,onUpdateValue:r,onImmediateUpdateValue:a,label:s,showAlert:u,onAlertClick:o,forceCursorToEnd:!0})))}(),e.showNewVdpControls?O.a.createElement(O.a.Fragment,null,O.a.createElement("hr",null),O.a.createElement(it,{creditTierToggleInfo:e.creditTierToggleInfo,selectedCreditTier:e.creditTierToggleInfo.find(function(t){var n=t.id;return e.selectedCreditTierId===n}),creditTierToggleClick:e.onCreditTierChange}),O.a.createElement("hr",null)):r,O.a.createElement(Te,{id:"finance-terms",analyticsId:"select-financing",label:"Loan Term"})))};ct.propTypes=lt;var st,ut,dt=ct,mt=n(86),ft=h.b,pt=h.a.vdpControlsTest,ht=function(e){var t=Object(P.l)(e.tradeIn);return t&&t.tradeInValue?t.tradeInDisplay:null},bt=Object(r.connect)(function(e){var t=a.selectors.getOfferDetails(e,"finance"),n=t.creditTier,r=t.downPayment,i=t.offerPrice,o=t.term,l=a.selectors.getMinimumCashDown(e,"finance"),c=a.selectors.getCreditTiers(e).map(function(e){return{displayValue:e.name,id:e.id}}),s=a.selectors.getFinanceCreditTiers(e).map(function(e){return{id:e.id,name:e.name,label:e.score.low+"-"+e.score.high,range:[e.score.low,e.score.high]}}),u=A()(s,["label"],["asc"]),d=a.selectors.getAvailableFinanceTermsOptions(e).map(function(e){return{displayValue:e.name,id:e.id}}),m=a.selectors.getFinanceOfferPriceLabel(e),f=a.selectors.isVehicleSinglePrice(e),p=function(e,t){void 0===t&&(t="finance");var n={total:a.selectors.getNonConditionalTotalByOfferType(e,t),name:"Manufacturer Offer"};return n}(e),h=p.total,b=p.name,v="";Object(L.i)(h)&&h>0&&(v=Object(L.c)(h)+" "+b);var g=R(e),y=j(e),E=Object(w.b)(e),O=a.selectors.getSelectedConditionalTotalByOfferType(e,"finance"),I=g?"Search For Specials":"";Object(L.i)(O)&&O>0&&(I="Search For Specials");var T=a.selectors.getNonConditionalTotalByOfferType(e,"finance"),C=!R(e),_=a.selectors.getShopperZip(e),N=Object(mt.b)(e),S=a.selectors.getFinanceTermAPR(e);return{cashIncentivesLabel:v,conditionalIncentiveLabel:I,creditTierRanges:c,creditTierToggleInfo:u,downPayment:r,financeTermRanges:d,hasAdditionalIncentives:g,isVehicleSinglePrice:f,minimumCashDown:l,offerPrice:parseInt(i,10),offerPriceLabel:m,onCurrencyInputBlurValidation:k,selectedCreditTierId:n,selectedTermId:o,shopperZip:_,showSpecials:N,specialsNotAvailable:C,tradeInDisplay:ht(e),hasManufacturerCashIncentives:y,manufacturerIncentiveTotal:T,vehicleMake:E,selectedIncentiveTotal:O,financeTermApr:S,showNewVdpControls:ft(pt,pt.newControls)}},function(e){return{onOfferPriceBlur:function(t){e(M.onOfferPriceBlur())},onDownPaymentBlur:function(t){s.d("CASH_DOWN_UPDATED"),s.d("vdpFormControlInteraction"),e(M.onDownPaymentBlur())},onOfferChange:function(t){e(a.actionCreators.updateOfferPriceDebounced(t)),e({type:Ee.K})},onOfferImmediateChange:function(t){e(a.actionCreators.updateOfferPriceImmediate(t))},onDownPaymentChange:function(t){s.d("CASH_DOWN_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.updateDownPaymentDebounced(t,void 0)),e({type:Ee.K})},onDownPaymentImmediateChange:function(t){s.d("CASH_DOWN_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.updateDownPaymentImmediate(t))},onCreditTierChange:function(t){s.d("CREDIT_SCORE_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.selectedCreditTier(t)),e({type:Ee.K})},onTermChange:function(t){e(a.actionCreators.selectedTerm(t)),e({type:Ee.K})},onAdditionalIncentivesClick:function(){e(d.a())},onDueAtSigningInfoClick:function(){e(M.goToDueAtSigningBreakdown())}}})(dt),vt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},gt=Object(ee.default)($.RadioGroup)(st||(st=vt(["\n    height: ",";\n    input + label {\n        cursor: pointer;\n        text-align: center;\n        padding: 0.75rem 0.125rem;\n    }\n    input[type='radio']:checked + label {\n        background-color: ",";\n        color: ",";\n        :after {\n            background-color: transparent;\n        }\n    }\n    label > span:nth-child(1) {\n        font-size: ",";\n    }\n    label > span:nth-child(2) {\n        font-size: ",";\n        display: block;\n        white-space: nowrap;\n    }\n    justify-content: center;\n    padding-top: ",";\n"],["\n    height: ",";\n    input + label {\n        cursor: pointer;\n        text-align: center;\n        padding: 0.75rem 0.125rem;\n    }\n    input[type='radio']:checked + label {\n        background-color: ",";\n        color: ",";\n        :after {\n            background-color: transparent;\n        }\n    }\n    label > span:nth-child(1) {\n        font-size: ",";\n    }\n    label > span:nth-child(2) {\n        font-size: ",";\n        display: block;\n        white-space: nowrap;\n    }\n    justify-content: center;\n    padding-top: ",";\n"])),Object(te.a)(60),function(e){return e.theme.activeTabIndicatorColor},function(e){return e.theme.loanTermUiCustomRadioGroupSelectedColor},Object(te.a)(14),Object(te.a)(10),Object(te.a)(8)),yt=function(e){var t=e.termOptions,n=e.currentTerm,r=e.onTermChange,a=e.label,i=e.offerType,o=e.paymentIsNotAvailable,l=e.notAvailableText;if(Object(p.G)()&&t.length<=4)return O.a.createElement("div",{className:"form-row"},O.a.createElement("div",{className:"loan-term-ui-container"},O.a.createElement("label",{className:"toggleLabel",htmlFor:i+"-terms"},a),O.a.createElement(gt,{name:"changeLoanTerm",className:"toggleControl",onChangeFunction:function(e){return r(e.target.value)},value:n},0!==t.length?t.map(function(e){var t;return O.a.createElement($.RadioTile,{key:e.id,label:(t=e,t.displayValue.split(".")[0]+"s"),subLabel:function(e){return e.displayValue.split("at")[1]}(e),value:e.id})}):O.a.createElement("div",{className:"not-available loan-term-ui-alert"},o?"Retrieving terms...":l))));var c=t.map(function(e){return O.a.createElement("option",{id:e.id,key:e.id,value:e.id},e.displayValue)});return O.a.createElement(ne.Select,{selectId:i+"-terms",name:i+"-terms",defaultValue:n,label:a,onChangeFunction:function(e){return r(e.target.value)}},c)},Et=Object(r.connect)(function(e,t){var n=a.selectors.getCurrentOfferType(e),r=a.selectors.getOfferDetails(e,"finance").term,i=a.selectors.getOfferDetails(e,"lease").term,o=Object(m.a)(e),l=a.selectors.getAvailableFinanceTermsOptions(e),c=a.selectors.getAvailableLeaseTermsOptions(e),s=l.map(function(e){return{displayValue:e.name,id:e.id}}),u=c.map(function(e){return{displayValue:e.name,id:e.id}});return{offerType:n,id:t.id,analyticsId:t.analyticsId,label:t.label,paymentIsNotAvailable:o,notAvailableText:"Terms not available",termOptions:"finance"===n?s:u,currentTerm:"finance"===n?r:i,isMobile:Object(g.g)(e)}},function(e){return{onTermChange:function(t){s.d("LOAN_TERM_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.selectedTerm(t)),e({type:Ee.K})}}})(yt),Ot=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),It=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myOfferPriceRef=null,t.creditOptions=t.props.creditTierRanges.map(function(e){return O.a.createElement("option",{id:e.id,key:e.id,value:e.id},e.displayValue)}),t.renderCreditTier=function(){return t.props.isMobile?O.a.createElement("div",{className:"creditSlider-wrapper"},O.a.createElement(it,{creditTierToggleInfo:t.props.creditTierToggleInfo,selectedCreditTier:t.props.selectedCreditTier,creditTierToggleClick:t.props.onCreditTierChange,selectedIndex:t.props.selectedCreditIndex})):O.a.createElement(ne.Select,{selectId:"finance-credit-tier",name:"finance-credit-tier",defaultValue:t.props.selectedCreditTier.id,label:"Credit Rating",onChangeFunction:t.props.onCreditTierSelectChange},t.creditOptions)},t.tooltip=O.a.createElement("span",null,O.a.createElement("strong",null,"Hint:")," 10% is typical for most car buyers. Lenders will see you as more dependable."),t.handleFormatDollars=function(e){return Object(L.c)(e,"$")},t.onDebouncedInputChange=function(e){t.props.onOfferPriceChange(Object(L.l)(e.target.value))},t.onInputChange=function(e){t.props.onOfferPriceImmediateChange(Object(L.l)(e.target.value))},t.setRef=function(e){t.myOfferPriceRef=e},t}return Ot(t,e),t.prototype.componentDidUpdate=function(e){this.props.isNegotiationTextBoxShown&&!e.isNegotiationTextBoxShown&&this.myOfferPriceRef.focus()},t.prototype.render=function(){return O.a.createElement("div",{className:"dr-finance-editor-container"},this.props.isNegotiationTextBoxShown&&O.a.createElement(le,{inputId:"finance-input-offer",label:"My Offer Price",name:"finance-input-offer",onBlurFunction:this.props.onOfferPriceBlur,formatValueFunction:this.handleFormatDollars,value:this.props.offerPrice.toString(),onChange:this.onInputChange,onDebounceChange:this.onDebouncedInputChange,ref:this.setRef,inputMode:"numeric"}),this.renderCreditTier(),O.a.createElement(Et,{id:"finance-terms",label:"Length of Loan"}),O.a.createElement(be,{tooltip:this.tooltip}))},t}(E.Component),Tt={Container:bt,UI:dt},Ct={Container:Object(r.connect)(function(e){var t=a.selectors.getCreditTiers(e).map(function(e){return{displayValue:e.name,id:e.id}}),n=Object(p.x)(e,"finance"),r=n.creditTierToggleInfo,i=n.selectedCreditIndex,o=n.selectedCreditTier,l=a.selectors.getOfferDetails(e,"finance").offerPrice,c=Object(v.h)(e);return{creditTierRanges:t,creditTierToggleInfo:r,isMobile:Object(g.g)(e),selectedCreditIndex:i,selectedCreditTier:o,isNegotiationTextBoxShown:c,offerPrice:l}},function(e){return{onOfferPriceBlur:function(){e(Object(M.onOfferPriceBlur)())},onOfferPriceChange:function(t){e(a.actionCreators.updateOfferPriceDebounced(t)),e({type:Ee.K})},onOfferPriceImmediateChange:function(t){e(a.actionCreators.updateOfferPriceImmediate(t))},onCreditTierChange:function(t){e(a.actionCreators.selectedCreditTier(t)),e({type:Ee.K})},onCreditTierSelectChange:function(t){var n=t.target.value;e(a.actionCreators.selectedCreditTier(n)),e({type:Ee.K})}}})(It),UI:It},_t=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Nt=function(e){var t=e.onSelectionChange,n=e.options,r=e.selectedOptionId,a="lease-miles",i=Object(ee.default)($.RadioGroup)(ut||(ut=_t(["\n    height: ",';\n    input[type="radio"]:checked + label {\n        background-color: ',";\n        color: ",";\n        padding: 0.75rem 0.125rem;\n        :after{\n           background-color: transparent;\n        }\n    };\n    justify-content: center;\n    padding-top: ",";\n    "],["\n    height: ",';\n    input[type="radio"]:checked + label {\n        background-color: ',";\n        color: ",";\n        padding: 0.75rem 0.125rem;\n        :after{\n           background-color: transparent;\n        }\n    };\n    justify-content: center;\n    padding-top: ",";\n    "])),Object(te.a)(60),function(e){return e.theme.activeTabIndicatorColor},function(e){return e.theme.leaseMileageUiCustomRadioGroupSelectedColor},Object(te.a)(8));return O.a.createElement("div",{className:"toggles"},O.a.createElement("label",{className:"toggleLabel",htmlFor:a},"Miles Per Year"),O.a.createElement(i,{id:a,className:"lease-miles-segment","data-analytics":"select-lease-miles",name:"leaseMileageToggle",onChangeFunction:function(e){t(parseInt(e.target.value,10))},defaultValue:r,value:r},function(e){return e.map(function(e){return O.a.createElement($.RadioTile,{key:e.id,id:"miles"+e.id,label:Q()(e.id).format("0,0"),value:e.id})})}(n)))},St=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myOfferPriceRef=null,t.creditOptions=t.props.creditTierRanges.map(function(e){return O.a.createElement("option",{id:e.id,key:e.id,value:e.id},e.displayValue)}),t.mileageOptions=t.props.milesRanges.map(function(e){return O.a.createElement("option",{id:e.id.toString(),key:e.id,value:e.id},e.displayValue)}),t.renderMiles=function(){var e=t.props,n=e.milesRanges,r=e.selectedMilesId,a=e.onMilesChange,i=e.onMilesSelectChange;return n.length<=4?O.a.createElement(Nt,{options:n,selectedOptionId:r,onSelectionChange:a}):O.a.createElement(ne.Select,{selectId:"lease-miles",name:"lease-miles",defaultValue:r.toString(),label:"Lease Mileage",onChangeFunction:i},t.mileageOptions)},t.renderCreditTier=function(){return t.props.isMobile?O.a.createElement(it,{creditTierToggleInfo:t.props.creditTierToggleInfo,selectedCreditTier:t.props.selectedCreditTier,creditTierToggleClick:t.props.onCreditTierChange,selectedIndex:t.props.selectedCreditIndex}):O.a.createElement(ne.Select,{selectId:"lease-credit-tier",name:"lease-credit-tier",defaultValue:t.props.selectedCreditTierId,label:"Credit Rating",onChangeFunction:t.props.onCreditTierSelectChange},t.creditOptions)},t.tooltip=O.a.createElement("span",null,O.a.createElement("strong",null,"Hint:")," 10% is typical for most car buyers. Lenders will see you as more dependable."),t.handleFormatDollars=function(e){return Object(L.c)(e,"$")},t.onDebouncedInputChange=function(e){t.props.onOfferPriceChange(Object(L.l)(e.target.value))},t.onInputChange=function(e){t.props.onOfferPriceImmediateChange(Object(L.l)(e.target.value))},t.setRef=function(e){t.myOfferPriceRef=e},t}return St(t,e),t.prototype.componentDidUpdate=function(e){this.props.isNegotiationTextBoxShown&&!e.isNegotiationTextBoxShown&&this.myOfferPriceRef.focus()},t.prototype.render=function(){return O.a.createElement("div",{className:"dr-lease-editor-container"},this.props.isNegotiationTextBoxShown&&O.a.createElement(le,{inputId:"lease-input-offer",label:"My Offer Price",name:"lease-input-offer",onBlurFunction:this.props.onOfferPriceBlur,formatValueFunction:this.handleFormatDollars,value:this.props.offerPrice.toString(),onChange:this.onInputChange,onDebounceChange:this.onDebouncedInputChange,ref:this.setRef,inputMode:"numeric"}),this.renderCreditTier(),O.a.createElement(Et,{id:"lease-terms",analyticsId:"select-financing",label:"Lease Term"}),this.renderMiles(),O.a.createElement(be,{tooltip:this.tooltip}))},t}(E.Component),At=Object(r.connect)(function(e){var t=a.selectors.getOfferDetails(e,"lease"),n=t.annualMiles,r=t.creditTier,i=t.offerPrice,o=a.selectors.getCreditTiers(e).map(function(e){return{displayValue:e.name,id:e.id}}),l=a.selectors.getAnnualMilesOptions(e).map(function(e){return{displayValue:e.name,id:e.id}}),c=Object(p.x)(e,"lease"),s=c.creditTierToggleInfo,u=c.selectedCreditIndex,d=c.selectedCreditTier,m=Object(v.h)(e);return{creditTierRanges:o,creditTierToggleInfo:s,isMobile:Object(g.g)(e),milesRanges:l,selectedCreditIndex:u,selectedCreditTier:d,selectedCreditTierId:r,selectedMilesId:n,onCurrencyInputBlurValidation:k,offerPrice:parseInt(i,10),isNegotiationTextBoxShown:m}},function(e){return{onOfferPriceBlur:function(){e(M.onOfferPriceBlur())},onOfferPriceChange:function(t){e(a.actionCreators.updateOfferPriceDebounced(t)),e({type:Ee.K})},onOfferPriceImmediateChange:function(t){e(a.actionCreators.updateOfferPriceImmediate(t))},onCreditTierChange:function(t){e(a.actionCreators.selectedCreditTier(t)),e({type:Ee.K})},onCreditTierSelectChange:function(t){var n=t.target.value;e(a.actionCreators.selectedCreditTier(n)),e({type:Ee.K})},onMilesChange:function(t){e(a.actionCreators.selectedAnnualMiles(t)),e({type:Ee.K})},onMilesSelectChange:function(t){var n=t.target.value;e(a.actionCreators.selectedAnnualMiles(n)),e({type:Ee.K})},onDueAtSigningInfoClick:function(){e(M.goToDueAtSigningBreakdown())}}})(Dt),Pt=_.a.CurrencyInputUI,wt={cashIncentivesLabel:x.a.string,conditionalIncentiveLabel:x.a.string,creditTierRanges:x.a.arrayOf(x.a.shape({displayValue:x.a.string,id:x.a.string})),downPayment:x.a.number.isRequired,hasAdditionalIncentives:x.a.bool,isVehicleSinglePrice:x.a.bool,inputCashDownLabel:x.a.string,instantCashOfferEnabled:x.a.bool,leaseTermRanges:x.a.arrayOf(x.a.shape({displayValue:x.a.string,id:x.a.string})),milesRanges:x.a.arrayOf(x.a.shape({displayValue:x.a.string,id:x.a.number})),minimumCashDown:x.a.number,offerPrice:x.a.number,offerPriceLabel:x.a.string,onAdditionalIncentivesClick:x.a.func,onCreditTierChange:x.a.func,onCurrencyInputBlurValidation:x.a.func,onDownPaymentChange:x.a.func,onDownPaymentImmediateChange:x.a.func,onDueAtSigningInfoClick:x.a.func,onInstantCashOfferTradeInClick:x.a.func,onOfferPriceBlur:x.a.func,onDownPaymentBlur:x.a.func,onOfferPriceChange:x.a.func,onOfferPriceImmediateChange:x.a.func,onMilesChange:x.a.func,onTermChange:x.a.func,onTradeInClick:x.a.func,onTradeInChangeClick:x.a.func,onTradeInRemoveClick:x.a.func,selectedCreditTierId:x.a.string,selectedMilesId:x.a.number,selectedTermId:x.a.string,shopperZip:x.a.string,showSpecials:x.a.bool,specialsNotAvailable:x.a.bool,tradeInDisplay:x.a.string,hasManufacturerCashIncentives:x.a.bool,selectedIncentiveTotal:x.a.number,manufacturerIncentiveTotal:x.a.number,vehicleMake:x.a.string,showSoftPullButton:x.a.bool},Lt=function(e){var t="form-row form-group";t=e.cashIncentivesLabel?t+" specials-row":t;var n=e.specialsNotAvailable?null:O.a.createElement(Z,{hasAdditionalIncentives:e.hasAdditionalIncentives,specialsNotAvailable:e.specialsNotAvailable,onAdditionalIncentivesClick:e.onAdditionalIncentivesClick,offerPrice:e.offerPrice,manufacturerIncentiveTotal:e.manufacturerIncentiveTotal,selectedIncentiveTotal:e.selectedIncentiveTotal,showSpecials:e.showSpecials,hasManufacturerCashIncentives:e.hasManufacturerCashIncentives,vehicleMake:e.vehicleMake,conditionalIncentiveLabel:e.conditionalIncentiveLabel,isLeaseOption:!0}),r=O.a.createElement("div",{className:"form-row form-group"},O.a.createElement("div",null,O.a.createElement(U,{id:"lease-credit-tier",options:e.creditTierRanges,selectedOptionId:e.selectedCreditTierId,analyticsId:"select-credit-tier",onSelectionChange:e.onCreditTierChange,label:"Credit Score"}))),a=e.showNewVdpControls?O.a.createElement(Nt,{options:e.milesRanges,selectedOptionId:e.selectedMilesId,onSelectionChange:e.onMilesChange}):O.a.createElement(U,{options:e.milesRanges,selectedOptionId:e.selectedMilesId,id:"lease-miles",analyticsId:"select-lease-miles",onSelectionChange:e.onMilesChange,label:"Miles per year"}),i=O.a.createElement(S.a,{query:"(min-width: 594px)"},function(t){return t?O.a.createElement("div",{className:"lease-editor__side-by-side"},O.a.createElement(Te,{id:"lease-terms",analyticsId:"select-financing",label:"Lease Term"}),O.a.createElement("div",{className:"form-row form-group"},a)):[O.a.createElement("div",{key:"lease-terms-select"},O.a.createElement(Te,{id:"lease-terms",analyticsId:"select-financing",label:"Lease Term"})),O.a.createElement("div",{key:"miles-select",className:(e.showNewVdpControls?"":"form-group form-row")+" miles-select"},a)]});return O.a.createElement("div",{className:"lease-editor-container"},O.a.createElement("div",{className:"flex-editor"},O.a.createElement("div",{className:"form-row form-group"},O.a.createElement("div",null,O.a.createElement(Pt,{analyticsId:"input-offer",id:"lease-input-offer",isReadOnly:e.isVehicleSinglePrice,onBlur:e.onOfferPriceBlur,onBlurValidation:e.onCurrencyInputBlurValidation,currencyValue:e.offerPrice,onUpdateValue:e.onOfferPriceChange,onImmediateUpdateValue:e.onOfferPriceImmediateChange,label:e.offerPriceLabel}))),n,function(){if(e.showNewVdpControls)return O.a.createElement(be,null);var t=e.inputCashDownLabel,n=e.minimumCashDown>0&&e.downPayment<e.minimumCashDown,r=n?" show-alert":"";return O.a.createElement("div",{className:"form-row form-group cash-down "+r},O.a.createElement("div",{className:"cash-down-input"},O.a.createElement(Pt,{analyticsId:"input-cash-down",id:"lease-cash-down",onBlur:e.onDownPaymentBlur,currencyValue:e.downPayment,onUpdateValue:e.onDownPaymentChange,onImmediateUpdateValue:e.onDownPaymentImmediateChange,label:t,showAlert:n,onAlertClick:e.onDueAtSigningInfoClick,forceCursorToEnd:!0})))}(),e.showNewVdpControls?O.a.createElement(O.a.Fragment,null,O.a.createElement("hr",null),O.a.createElement(it,{creditTierToggleInfo:e.creditTierToggleInfo,selectedCreditTier:e.creditTierToggleInfo.find(function(t){var n=t.id;return e.selectedCreditTierId===n}),creditTierToggleClick:e.onCreditTierChange}),O.a.createElement("hr",null)):r,i))};Lt.propTypes=wt;var Rt=Lt,jt=n(204),kt=h.b,Mt=h.a.vdpControlsTest,Ft=function(e){return a.selectors.getConditionalTotalByOfferType(e,"lease")>0},xt=function(e){var t=Object(P.l)(e.tradeIn);return t&&t.tradeInValue?t.tradeInDisplay:null},Ut={Container:At,UI:Dt},Bt={Container:Object(r.connect)(function(e){var t=a.selectors.getOfferDetails(e,"lease"),n=t.annualMiles,r=t.downPayment,o=t.creditTier,l=t.offerPrice,c=t.term,d=a.selectors.getMinimumCashDown(e,"lease"),m=a.selectors.getCreditTiers(e).map(function(e){return{displayValue:e.name,id:e.id}}),f=a.selectors.getAvailableLeaseTermsOptions(e).map(function(e){return{displayValue:e.name,id:e.id}}),h=a.selectors.getAnnualMilesOptions(e).map(function(e){return{displayValue:e.name,id:e.id}}),b=a.selectors.getLeaseOfferPriceLabel(e),v=a.selectors.isVehicleSinglePrice(e),g=Object(jt.b)(e),y=function(e){var t={total:a.selectors.getNonConditionalTotalByOfferType(e,"lease"),name:"Manufacturer Offer"};return t}(e),E=y.total,O=y.name,I="";Object(L.i)(E)&&E>0&&(I=Object(L.c)(E)+" "+O);var T=Ft(e),C=function(e){return a.selectors.getNonConditionalTotalByOfferType(e,"lease")>0}(e),_=Object(w.b)(e),N=a.selectors.getSelectedConditionalTotalByOfferType(e,"lease"),S=T?"Search For Specials":"";Object(L.i)(N)&&N>0&&(S="Search For Specials");var D=a.selectors.getNonConditionalTotalByOfferType(e,"lease"),P=Object(mt.b)(e),R=!Ft(e),j=a.selectors.getShopperZip(e),M=Object(p.l)(e)?i.labels.getLabel(i.labels.DUE_AT_SIGNING_LABEL_DS):i.labels.getLabel(i.labels.CASH_DOWN_LABEL_DS),F=u.OPTIMIZELY_TEST_NAMES.LEAD_FORM_VDP,x="leadForm"===s.b(F),U=a.selectors.getLeaseCreditTiers(e).map(function(e){return{id:e.id,name:e.name,label:e.score.low+"-"+e.score.high,range:[e.score.low,e.score.high]}});return{cashIncentivesLabel:I,conditionalIncentiveLabel:S,creditTierRanges:m,creditTierToggleInfo:A()(U,["label"],["asc"]),downPayment:r,hasAdditionalIncentives:T,isVehicleSinglePrice:v,inputCashDownLabel:M,instantCashOfferEnabled:g,leaseTermRanges:f,milesRanges:h,minimumCashDown:d,offerPrice:parseInt(l,10),offerPriceLabel:b,onCurrencyInputBlurValidation:k,selectedCreditTierId:o,selectedMilesId:n,selectedTermId:c,shopperZip:j,showSpecials:P,specialsNotAvailable:R,tradeInDisplay:xt(e),hasManufacturerCashIncentives:C,manufacturerIncentiveTotal:D,vehicleMake:_,selectedIncentiveTotal:N,showLeadForm:x,showNewVdpControls:kt(Mt,Mt.newControls)}},function(e){return{onOfferPriceBlur:function(t){e(M.onOfferPriceBlur())},onDownPaymentBlur:function(t){s.d("CASH_DOWN_UPDATED"),s.d("vdpFormControlInteraction"),e(M.onDownPaymentBlur())},onInstantCashOfferTradeInClick:function(){e(d.d())},onOfferPriceChange:function(t){e(a.actionCreators.updateOfferPriceDebounced(t)),e({type:Ee.K})},onOfferPriceImmediateChange:function(t){e(a.actionCreators.updateOfferPriceImmediate(t))},onDownPaymentChange:function(t,n){s.d("CASH_DOWN_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.updateDownPaymentDebounced(t,n)),e({type:Ee.K})},onDownPaymentImmediateChange:function(t){s.d("CASH_DOWN_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.updateDownPaymentImmediate(t))},onCreditTierChange:function(t){s.d("CREDIT_SCORE_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.selectedCreditTier(t)),e({type:Ee.K})},onTermChange:function(t){s.d("LOAN_TERM_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.selectedTerm(t)),e({type:Ee.K})},onMilesChange:function(t){s.d("LEASE_MILEAGE_UPDATED"),s.d("vdpFormControlInteraction"),e(a.actionCreators.selectedAnnualMiles(t)),e({type:Ee.K})},onAdditionalIncentivesClick:function(){e(d.a())},onDueAtSigningInfoClick:function(){e(M.goToDueAtSigningBreakdown())}}})(Rt),UI:Rt},Vt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gt=_.a.CurrencyInputUI,Yt={isVehicleSinglePrice:x.a.bool,offerPrice:x.a.number,offerPriceLabel:x.a.string,onCurrencyInputBlurValidation:x.a.func,onOfferPriceBlur:x.a.func,onOfferPriceChange:x.a.func,onOfferPriceImmediateChange:x.a.func,shouldAskingPriceDisplay:x.a.bool},Ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleFormatDollars=function(e){return Object(L.c)(e,"$")},t.onDebouncedInputChange=function(e){t.props.onOfferPriceChange(Object(L.l)(e.target.value))},t.onInputChange=function(e){t.props.onOfferPriceImmediateChange(Object(L.l)(e.target.value))},t}return Vt(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.canNegotiateVehicle,r=t.hasAdditionalIncentives,a=t.hasManufacturerCashIncentives,i=t.includeIncentives,o=t.isVehicleSinglePrice,l=t.manufacturerIncentiveTotal,c=t.offerPrice,s=t.offerPriceLabel,u=t.onAdditionalIncentivesClick,d=t.onCurrencyInputBlurValidation,m=t.onOfferPriceBlur,f=t.onOfferPriceChange,h=t.onOfferPriceImmediateChange,b=t.selectedIncentiveTotal,v=t.showSpecials,g=t.shouldAskingPriceDisplay,y=t.specialsNotAvailable,E=t.vehicleMake,I=Object(p.G)(),T=I?"cash-editor-header":"cash-editor--container__heading",C=I?"cash-editor-header-container":"";return O.a.createElement("div",{className:"cash-editor--container"},O.a.createElement("div",{className:C},O.a.createElement("p",{className:T},"You plan to pay by cash/check or get your own financing.")),O.a.createElement("div",{className:"flex-editor"},O.a.createElement(S.a,{query:"(min-width: 594px)"},function(t){if(!t&&g){if(I)return O.a.createElement("div",{className:"cash-editor form-row form-group"},O.a.createElement(le,{inputId:"cash-input-offer",label:s,name:"cash-input-offer",onBlurFunction:m,formatValueFunction:e.handleFormatDollars,value:c,disabled:!n,onChange:e.onInputChange,onDebounceChange:e.onDebouncedInputChange,inputMode:"numeric"}));if(!I)return O.a.createElement("div",{className:"cash-editor form-row form-group"},O.a.createElement("div",null,O.a.createElement(Gt,{analyticsId:"input-offer",id:"cash-input-offer",isReadOnly:o,onBlur:m,onBlurValidation:d,currencyValue:c,onUpdateValue:f,onImmediateUpdateValue:h,label:s})))}return null}),i&&!I?O.a.createElement(Z,{hasAdditionalIncentives:r,specialsNotAvailable:y,togglePriceExplanation:!0,onAdditionalIncentivesClick:u,offerPrice:c,manufacturerIncentiveTotal:l,selectedIncentiveTotal:b,showSpecials:v,hasManufacturerCashIncentives:a,vehicleMake:E,isCashOption:!0}):null))},t}(E.Component);Ht.propTypes=Yt;var Kt,zt=Ht,Wt=n(41),qt={Container:Object(r.connect)(function(e){var t=a.selectors.getOfferDetails(e,"cash").offerPrice,n=a.selectors.getFinanceOfferPriceLabel(e,Object(p.G)()),r=a.selectors.isVehicleSinglePrice(e),i="new"===a.selectors.getVehicleDetails(e).type,o=Object(Wt.e)(e),l=Object(mt.b)(e),c=R(e,"cash"),s=a.selectors.getSelectedConditionalTotalByOfferType(e,"cash"),u=!R(e,"cash"),d=a.selectors.getNonConditionalTotalByOfferType(e,"cash"),m=j(e,"cash"),f=Object(w.b)(e),h=Object(p.s)(e,"Cash"),b=Object(p.c)(e),v=!h&&o,g=a.selectors.shouldCashAskingPriceLabelAndInputDisplay(e,Object(p.G)());return{isVehicleSinglePrice:r,isNewVehicle:i,showSpecials:l,hasAdditionalIncentives:c,manufacturerIncentiveTotal:d,selectedIncentiveTotal:s,specialsNotAvailable:u,vehicleMake:f,includeIncentives:v,hasManufacturerCashIncentives:m,offerPrice:parseInt(t,10),offerPriceLabel:n,onCurrencyInputBlurValidation:k,canNegotiateVehicle:b,shouldAskingPriceDisplay:g}},function(e){return{onOfferPriceBlur:function(){e(M.onOfferPriceBlur())},onOfferPriceChange:function(t){e(a.actionCreators.updateOfferPriceDebounced(t))},onOfferPriceImmediateChange:function(t){e(a.actionCreators.updateOfferPriceImmediate(t))},onAdditionalIncentivesClick:function(){e(d.a())}}})(zt),UI:zt},Xt=n(154),Zt=n(71),$t=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=_.a.LoadingButtonUI,Qt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleFirstNameUpdate=function(e){t.props.updateShopperFirstName(e.target.value)},t.handleLastNameUpdate=function(e){t.props.updateShopperLastName(e.target.value)},t.handleEmailUpdate=function(e){t.props.updateShopperEmail(e.target.value)},t.handlePhoneNumberUpdate=function(e){var n=Object(Zt.a)(e.target.value);t.props.updateShopperPhoneNumber(n)},t.handleFirstNameBlur=function(e){return""!==e.target.value.trim()&&t.props.onFieldBlur("firstName")},t.handleLastNameBlur=function(e){return""!==e.target.value.trim()&&t.props.onFieldBlur("lastName")},t.handleEmailBlur=function(e){return""!==e.target.value.trim()&&t.props.onFieldBlur("email")},t.handlePhoneBlur=function(e){return""!==e.target.value&&t.props.onFieldBlur("phone")},t}return $t(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.shopperInfo,i=r.paymentNotAvailable,o=r.offerSubmitSuccessful,l=r.submitButtonDisabled,c=r.headerText,s=r.subheaderText,u=r.submitButtonText;return O.a.createElement("div",{className:"lead-form-container"},O.a.createElement("p",{className:"header"},c),O.a.createElement("p",{className:"subheader"},s),O.a.createElement("div",{className:"flex-editor"},O.a.createElement("div",{className:"vdp-lead-form"},O.a.createElement("div",{className:"form-row form-group"},O.a.createElement($.Input,{inputId:"lead-form-field-firstname",name:"first_name",value:a.firstName,onChangeFunction:this.handleFirstNameUpdate,label:"First Name",validationFunction:Zt.c,onBlurFunction:this.handleFirstNameBlur,errorMessage:"Please enter your first name."})),O.a.createElement("div",{className:"form-row form-group"},O.a.createElement($.Input,{inputId:"lead-form-field-lastname",name:"last_name",value:a.lastName,onChangeFunction:this.handleLastNameUpdate,label:"Last Name",validationFunction:Zt.d,onBlurFunction:this.handleLastNameBlur,errorMessage:"Please enter your last name."})),O.a.createElement("div",{className:"form-row form-group"},O.a.createElement($.Input,{inputId:"lead-form-field-email",name:"email",value:a.email,onChangeFunction:this.handleEmailUpdate,label:"Email",validationFunction:Zt.b,onBlurFunction:this.handleEmailBlur,errorMessage:"Please enter your email address."})),O.a.createElement("div",{className:"form-row form-group"},O.a.createElement($.Input,{type:"tel",inputId:"lead-form-field-phone",name:"phone-number",value:a.phone,onChangeFunction:this.handlePhoneNumberUpdate,onBlurFunction:this.handlePhoneBlur,label:"Phone (Optional)"})))),O.a.createElement("div",{className:"btn-group"},O.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},O.a.createElement(Jt,{buttonText:u,disabled:i||(e=Object(Zt.c)(a.firstName),t=Object(Zt.d)(a.lastName),n=Object(Zt.b)(a.email),!(e&&t&&n))||l,isPending:this.props.offerCallInProgress,id:"send-my-offer",onClick:this.props.submitAndOpenShopperPlatform,additionalClassParams:"btn btn-block btn-primary"})),O.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},O.a.createElement("button",{id:"continue",className:"btn btn-block btn-secondary",type:"button",onClick:this.props.noThanksContinueClicked,disabled:i||this.props.offerCallInProgress,tabIndex:0},"No Thanks, Continue"))),function(){if(!1===o)return O.a.createElement("div",{className:"vdp-error"},O.a.createElement("p",{className:"vdp-error-message"},"Looks like we're having some trouble. Please enter all the required fields or Continue."));return O.a.createElement("div",{className:"vdp-disclaimer"},O.a.createElement("p",{className:"vdp-disclaimer-message"},"You may receive correspondence from the dealership about this vehicle."))}())},t}(O.a.Component),en=n(43),tn=h.b,nn=h.a,rn=nn.sdpLandingInterstitialTest,an=nn.sdpLandingRecommendedStepTest,on=nn.sdpLandingInterstitialTextTest,ln=Object(l.a)(Object(r.connect)(function(e,t){var n,r=a.selectors.getShopperInfo(e),o=Object(v.f)(e);p.i(e)&&(n=a.selectors.getOfferDetails(e,"cash").offerPrice);var l=a.selectors.getCurrentOfferType(e),c=a.selectors.getMonthlyPaymentRoundedByOfferType(e,l);return{shopperInfo:r,paymentNotAvailable:Object(i.isPaymentInvalid)(c,l,n),offerSubmitSuccessful:o,offerCallInProgress:Object(v.e)(e),submitButtonDisabled:Object(v.e)(e),headerText:"Submit Your Offer",subheaderText:"You'll be able to calculate taxes, schedule a test drive, and more on the next page.",submitButtonText:"Submit Your Offer"}},function(e,t){return{submitAndOpenShopperPlatform:function(){e(function(e,t){t(),s.d("VDP_MODAL_SUBMIT_OFFER_CLICKED");var n=p.G()?"dashboard":"landingPage",r=tn(rn,rn.landingInterstitial)||tn(an,an.landingInterstitial)||tn(an,an.landingInterstitialRecommendedStep)||tn(on,on.variation1)||tn(on,on.variation2)?n:"paymentOptions";e(d.f(p.G()?n:r)),e(Object(en.f)())})},updateShopperFirstName:function(t){e(a.actionCreators.updatedShopper({message:"",shopper:{firstName:t}}))},updateShopperLastName:function(t){e(a.actionCreators.updatedShopper({message:"",shopper:{lastName:t}}))},updateShopperEmail:function(t){e(a.actionCreators.updatedShopper({message:"",shopper:{email:t}}))},updateShopperPhoneNumber:function(t){e(a.actionCreators.updatedShopper({message:"",shopper:{phone:t}}))},onFieldBlur:function(t){"firstName"===t?e(Object(y.b)("DR_LEAD_FORM_FIRSTNAME_CHANGED","VDP Lead Form First Name Changed")):"lastName"===t?e(Object(y.b)("DR_LEAD_FORM_LASTNAME_CHANGED","VDP Lead Form Last Name Changed")):"email"===t?e(Object(y.b)("DR_LEAD_FORM_EMAIL_CHANGED","VDP Lead Form Email Address Changed")):"phone"===t&&e(Object(y.b)("DR_LEAD_FORM_PHONE_CHANGED","VDP Lead Form Phone Number Changed"))},noThanksContinueClicked:function(){e(function(e,t){t();var n=p.G()?"dashboard":"landingPage";s.d("VDP_MODAL_CONTINUE_CLICKED"),e({type:b.I}),e(d.f(n)),e(d.e())})}}})(Qt)),cn=n(199),sn=function(e){return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:"form-row form-group"},O.a.createElement("div",{className:"dr-softpull-label"},"See what rates you qualify for with no hard hit to your credit.")),O.a.createElement("div",{className:"form-row form-group"},O.a.createElement("button",{className:"dr-softpull-info",onClick:e.onClick},O.a.createElement("div",{className:"dr-softpull__icon"}),O.a.createElement("div",{className:"dr-softpull__text"},"Check my auto loan rates"))))},un={Container:Object(r.connect)(function(e){return{}},function(e){return{onClick:function(){e(d.f("softPull")),e(d.e())}}})(sn),UI:sn},dn=n(152),mn=n(14),fn=n(65),pn=n(266),hn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bn=function(e){function t(t){var n=e.call(this,t)||this;return n.handleTradeInCheckboxChange=function(){var e=n.props,t=e.onCalculatorTradeInDeselected,r=e.onCalculatorTradeInSelected,a=e.rememberedTradeIn;e.isRememberedTradeInApplied?t():r(a),n.setState({shouldCollapse:!0});var i=setTimeout(function(){n.setState({shouldCollapse:!1})},1600);n.setState({timeoutId:i})},n.handleTradeInEditClick=function(){var e=n.props,t=e.onCalculatorTradeInEditClick;e.paymentNotAvailable||(t(),n.processTradeInClick())},n.processTradeInClick=function(){var e=n.props,t=e.isIcoTradeEnabledOnSdp,r=e.instantCashOfferEnabled,a=e.onSpIcoTradeInClick,i=e.onInstantCashOfferTradeInClick,o=e.onTradeInClick;(0,e.onTradeInKbbButtonClicked)(),r?t?a():i():o()},n.renderTradeIn=function(){var e,t,r=n.props,a=r.shouldDisplayRememberMe,i=r.isTradeInBranded,o=r.paymentNotAvailable,l=r.tradeInDisplay,c=r.isAtcOrKbbSite,s=r.isOfferCallInProgress,u=r.isLoading,d=l||a,m=Ze()({"trade-in-info":!a,"has-tradein":d,"tradeInBtn--disabled":o||s}),f=Ze()({"dr-tradein__text":!a,"dr-tradein__text--disabled":!a&&o||s}),p=O.a.createElement("img",{className:"priceAdvisorTradeinBtn__brand priceadvisor_logo",src:n.props.priceAdvisorUrl});return e=l?n.renderTradeInComplete():n.renderAddTradeIn(),t=O.a.createElement("button",{disabled:o||s,className:m,id:"trade-in-button",onClick:n.handleTradeInClicked},a?null:i?n.renderIcon():null,O.a.createElement("div",{className:f},e)),i&&!c||(t=O.a.createElement("button",{className:"priceAdvisorTradeinBtn",onClick:n.handleTradeInClicked,disabled:o||u||s},O.a.createElement("p",{className:"priceAdvisorTradeinBtn__text priceadvisor"},O.a.createElement("span",{className:"priceAdvisorTradeinBtn__text--cta"},"+ Add Trade-In")),p)),t},n.renderTradeInComplete=function(){var e=n.props,t=e.instantCashOfferEnabled,r=e.tivIcoStatus,a=e.tradeInDisplay,i=t&&r!==Ee.p,o=O.a.createElement("a",{className:"btn-link link link-trade-in",id:"trade-in-change","data-analytics":"change-trade-in",onClick:n.props.onTradeInClick},"Change");return O.a.createElement("div",null,O.a.createElement("div",{className:"dr-tradein__success-row-1",id:"dr_tradein_results"},i?O.a.createElement("span",{className:"dr-tradein__no-value-text"},"(No Value)  "):null,n.props.tradeInDisplay),O.a.createElement("div",{className:"actions"},!t&&a?o:null,!t&&a?O.a.createElement("small",null,"  |  "):null,O.a.createElement("a",{className:"btn-link link link-trade-in",id:"trade-in-remove","data-analytics":"remove-trade-in",onClick:n.props.onTradeInRemoveClick},"Remove")))},n.renderAddTradeIn=function(){return O.a.createElement("div",{id:"dr_tradein_experience_type"},n.props.addTradeInExperienceText)},n.renderRememberMeTradeIn=function(){var e=n.props,t=e.tradeInDisplay,r=e.paymentNotAvailable,a=e.tradeInRememberMeDisplay,i=e.rememberMeLabel,o=e.rememberMeIconUrl,l=e.shouldDisplayRememberMe,c=e.isTradeInBranded,s=e.isRememberedTradeInApplied,u=a.year+" "+a.make+" "+a.model,d=a.formattedValue,m=r?"dr-tradein__edit-action dr-tradein__disabled_edit_link":"dr-tradein__edit-action",f=r?"disabled_edit_link":"",p=t||l,h=Ze()({"dr-tradein__apply-container":!0,expandable:!0}),b=Ze()({"trade-in-info":!l,"has-tradein":p,"tradeInBtn--disabled":r}),v=Ze()({applied:s});return O.a.createElement("div",{id:"trade-in-container",className:b},l?null:c?n.renderIcon():null,O.a.createElement("div",{className:n.state.shouldCollapse?"contract":"expand"},O.a.createElement("div",{id:"dr_tradein_remember_me",className:h,onClick:n.handleTradeInCheckboxChange},O.a.createElement("span",null,O.a.createElement(pn.a,{src:o,className:"dr-tradein__remember-me-icon"})),O.a.createElement("div",{id:"dr_tradein_remember_me_content_container",className:"dr-tradein__remember-me-content"},O.a.createElement("div",{id:"dr_tradein_remember_me_apply_label",className:"dr-tradein__apply-label item"},i),O.a.createElement("div",{id:"dr_tradein_remember_me_trade_info",className:"dr-tradein__vehicle-model item"},O.a.createElement("span",{className:v},d," - ",u)))),O.a.createElement("div",{className:m,id:"dr_start_new_tradein_link"},O.a.createElement("a",{className:"btn-link link link-trade-in",id:"dr_tradein_remember_me_edit_link",onClick:n.handleTradeInEditClick},O.a.createElement("span",{className:f},"Start New Trade-In")))))},n.handleTradeInClicked=function(){var e=n.props,t=e.shouldDisplayRememberMe,r=e.tradeInDisplay,a=e.paymentNotAvailable;return r||t||a?null:n.processTradeInClick()},n.state={shouldCollapse:!1,timeoutId:null},n}return hn(t,e),t.prototype.componentWillUnmount=function(){this.state.timeoutId&&clearTimeout(this.state.timeoutId)},t.prototype.renderIcon=function(){var e=this.props,t=e.tradeInDisplay,n=e.kbbIconUrl;return t?null:O.a.createElement("img",{className:"dr-tradein__icon",src:n})},t.prototype.render=function(){return this.props.shouldDisplayRememberMe?this.renderRememberMeTradeIn():this.renderTradeIn()},t}(O.a.Component),vn=mn.a.staticAssets,gn=function(e,t){var n;return(n=Object(P.a)(e,t))&&n.tradeInValue?n.tradeInDisplay:null},yn=Object(r.connect)(function(e){var t,n,r=function(e){var t;p.i(e)&&(t=a.selectors.getOfferDetails(e,"cash").offerPrice);var n=a.selectors.getCurrentOfferType(e),r=a.selectors.getMonthlyPaymentRoundedByOfferType(e,n);return Object(i.isPaymentInvalid)(r,n,t)}(e),l=Object(P.e)(e),c=Object(P.r)(l),s=a.selectors.getCurrentOfferType(e),u=Object(jt.b)(e),d=Object(Wt.h)(e),f=Object(g.k)(e),h=Object(v.e)(e),b=Object(m.a)(e);if(c)switch(n=function(e){var t;return e&&e.tivIcoStatus?null===(t=Object(dn.a)(e.tivSource)[e.tivIcoStatus])||void 0===t?void 0:t.tradeInAction:null}(l)){case Ee.p:t=gn(l,c);break;case Ee.n:case Ee.o:t=Object(P.v)(l);break;default:t=null}else t=gn(l,c);var y,E=Object(P.c)(e),O=Object(P.K)(E),I=Object(P.I)(E),T=Object(P.d)(E),C=o.urlBuilder.buildFromConfig(vn,"img/kbb-icon.png"),_=o.urlBuilder.buildFromConfig(vn,"img/kbb-meter.png"),N=o.urlBuilder.buildFromConfig(vn,"img/plus.svg"),S=o.urlBuilder.buildFromConfig(vn,"img/checkmark-black.svg");O&&(t=null,y=Object(P.b)(E));var D=I?"Trade-In Applied":"Apply Trade-In Value",A=I?S:N;return{isIcoTradeEnabledOnSdp:d,isRememberedTradeInApplied:I,paymentNotAvailable:r,rememberedTradeIn:E,rememberedTradeInSource:T,shouldDisplayRememberMe:O,tradeInRememberMeDisplay:y,tradeInDisplay:t,instantCashOfferEnabled:u,tivIcoStatus:n,offerType:s,addTradeInExperienceText:Object(p.b)(e),isTradeInBranded:Object(p.F)(e)&&!Object(g.k)(e),rememberMeLabel:D,rememberMeIconUrl:A,kbbIconUrl:C,priceAdvisorUrl:_,isAtcOrKbbSite:f,isOfferCallInProgress:h,isLoading:b}},function(e){return{onTradeInClick:function(){s.d("VDP_TRADE_IN_CTA_CLICKED"),function(e){e(function(e,t){e(d.f("vehicleInfo")),e(d.e()),e(Object(fn.c)())})}(e),e({type:b.W})},onTradeInKbbButtonClicked:function(){s.d("VDP_TRADE_IN_CTA_CLICKED"),e(function(e,t){var n=t(),r=Object(v.f)(n);s.d("KBB_TRADE_BUTTON_CLICKED"),e(Object(y.b)(b.m,"Trade in KBB Button clicked")),r&&e(Object(M.goToSuccessLanding)())})},onInstantCashOfferTradeInClick:function(){s.d("VDP_TRADE_IN_CTA_CLICKED"),e(d.d()),e({type:b.W})},onSpIcoTradeInClick:function(){s.d("VDP_TRADE_IN_CTA_CLICKED"),e(d.f("vehicleInfo")),e(d.e()),e(Object(fn.c)()),e({type:b.W})},onTradeInRemoveClick:function(){e(M.removeTradeIn()),e(a.actionCreators.updatedTradeIn({amountOwed:0,value:0,isAmountAppliedToFinancing:!1}))},onCalculatorTradeInSelected:function(t){e({type:b.V}),function(e,t){t(M.prefillTradeIn(e));var n={amountOwed:e.amountOwed,value:e.value,isAmountAppliedToFinancing:e.isAmountAppliedToFinancing};t(a.actionCreators.updatedTradeIn(n))}(t,e),e(M.updateRememberMeTradeInStatus(!0))},onCalculatorTradeInDeselected:function(){e({type:b.X}),e(M.removeTradeIn()),e(a.actionCreators.updatedTradeIn({amountOwed:0,value:0,isAmountAppliedToFinancing:!1})),e(M.updateRememberMeTradeInStatus(!1))},onCalculatorTradeInEditClick:function(){e({type:b.vb}),e({type:b.W})}}})(bn),En=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=un.Container,In=_.a.TooltipUI,Tn=Tt.Container,Cn=Ct.Container,_n=Ut.Container,Nn=Bt.Container,Sn=qt.Container,Dn=function(e){function t(t){var n=e.call(this,t)||this;n.components={},n.shouldShowSecondDisclaimer=function(){return n.props.customSecondDisclaimer&&"cash"!==n.props.offerType},n.state={modalIsOpen:!1,showToolTip:!1,skippedLeadForm:!1};var r=Object(p.G)();return n.closeModal=n.closeModal.bind(n),n.components={finance:r?Cn:Tn,lease:r?_n:Nn,cash:Sn},n}return En(t,e),t.prototype.componentDidMount=function(){T.a.setAppElement("body")},t.prototype.renderHeaderText=function(){var e=this.props,t=e.isAtcOrKbbSite,n=e.offerType,r=e.headerText,a=t?"dr-header-smaller__title_text":"dr-header-pencil__title_text",i=t&&("finance"===n||"lease"===n)?O.a.createElement("div",{className:"dr-header-margin-top-container"},O.a.createElement("div",{className:a},r)):null;return Object(p.G)()?O.a.createElement(S.a,{query:"(min-width: 594px)"},function(e){return e?null:i}):i},t.prototype.getCallToActionPrimaryButtonText=function(){var e,t=this.props,n=t.isAtcSite,r=t.isAtcOrKbbSite,a=t.isVDPLeadFormEnabled,i=t.isOfferCallInProgress,o=t.offerSubmitSuccessful,l=t.secondaryButtonText;return i?a||(e="Loading..."):e=r?o?n?"Submit Your Offer":"Next: Calculate Taxes":!a||o?"Next: Calculate Taxes":"Submit Your Offer":o?a?"Submit Your Offer":l:!a||o?l:"Submit Your Offer",e},t.prototype.getCallToActionSecondaryButtonText=function(){var e=this.props,t=e.isAtcOrKbbSite,n=e.isVDPLeadFormEnabled,r=e.secondaryButtonText;return t&&n&&(r="Next: Calculate Taxes"),r},t.prototype.closeModal=function(){this.setState({modalIsOpen:!1,skippedLeadForm:!1}),this.props.closeModalAndRemoveErrors()},t.prototype.renderTestDriveButton=function(){var e=this,t=this.props,n=t.paymentNotAvailable;if("TestDriveBtnShown"===t.testDriveDeepLinkTestValue)return O.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},O.a.createElement("button",{id:"test-drive-btn",className:"btn btn-block send-offer btn-primary",type:"button",onClick:function(){e.props.openTestDriveInSP()},disabled:n},"Schedule Test Drive"))},t.prototype.renderPrimaryCTA=function(){var e=this.props,t=e.paymentNotAvailable,n=e.isOfferCallInProgress,r=e.isLoading,a=O.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},O.a.createElement("button",{id:"send-my-offer",className:"btn btn-block send-offer btn-primary",type:"button",onClick:this.props.handlePrimaryCtaClick,disabled:t||r||n},this.getCallToActionPrimaryButtonText()));return Object(p.G)()?O.a.createElement(S.a,{query:"(min-width: 594px)"},function(e){return e?null:a}):a},t.prototype.renderSaveAndContinueCTA=function(){var e=this.props,t=e.isVDPLeadFormEnabled,n=e.isLoading,r=e.isOfferCallInProgress,a=e.handleSecondaryCtaClick,i=e.paymentNotAvailable,o=null;return t&&(o=O.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},O.a.createElement("button",{id:"save-my-offer",className:"btn btn-block save-offer btn-secondary",type:"button",onClick:a,disabled:i||n||r},this.getCallToActionSecondaryButtonText()))),Object(p.G)()?O.a.createElement(S.a,{query:"(min-width: 594px)"},function(e){return e?null:o}):o},t.prototype.displayDisclaimer=function(){var e=this.props,t=e.onSeeMoreDetailsClick,n=e.paymentNotAvailable,r=e.offerType,a=e.disclaimerText;if(e.isLoading)return null;var i=O.a.createElement(Xt.a,{offerType:r,disclaimerText:a,notAvailable:n,onNextRoute:t});return Object(p.G)()?O.a.createElement(S.a,{query:"(min-width: 594px)"},function(e){return e?null:i}):i},t.prototype.render=function(){var e=this,t=this.props,n=t.offerType,r=t.paymentNotAvailable,a=t.customSecondDisclaimer,i=t.offerSubmitSuccessful,o=t.showSoftPullButton,l=this.components[n||"finance"],c=O.a.createElement("div",{className:"pencil-editor__disclaimer-link"},O.a.createElement("a",{className:"disclaimer-summary-link"},"View Disclaimer")),s=O.a.createElement("div",null,a),u=function(t){var n=t.children;return O.a.createElement(T.a,{isOpen:!0,onRequestClose:e.closeModal,className:"lead-form-modal-content",overlayClassName:"lead-form-modal-overlay"},O.a.createElement(cn.a,{onClick:e.closeModal}),n)};return O.a.createElement("div",{className:"pencil-editor"},this.renderHeaderText(),O.a.createElement(N.a,{path:"/editor/leadForm/:origin",component:function(){return O.a.createElement(u,null,O.a.createElement(ln,null))}}),O.a.createElement("div",{className:"editor"},O.a.createElement(l,null)),O.a.createElement("div",{className:"btn-group"},o&&!r&&O.a.createElement("div",{className:"btn-actions form-row form-group btn-row dr-softpull-component"},O.a.createElement(On,null)),O.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},O.a.createElement(yn,null),Object(p.G)()&&O.a.createElement(S.a,{query:"(min-width: 594px)"},function(e){return e?O.a.createElement("div",null,"Use Kelley Blue Book to get an industry-leading estimate on your trade-in."):null})),this.renderPrimaryCTA(),this.renderSaveAndContinueCTA(),this.renderTestDriveButton()),function(){if(!1===i){var t="Looks like we're having some trouble. You can try clicking Send again. ";return t+="If you are still unable to proceed, please call the dealership directly at "+e.props.dealerPhoneNumber,O.a.createElement("div",{className:"vdp-error"},O.a.createElement("p",{className:"vdp-error-message"},t))}return null}(),this.shouldShowSecondDisclaimer()?O.a.createElement(In,{placement:"top",baseElement:c,tooltipContent:s}):null,this.displayDisclaimer())},t}(E.Component),An=function(){return(An=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Pn=o.urlBuilder.buildFromConfig(mn.a.staticAssets,"/img/ATC-Landing-Blured.jpg"),wn=function(e){return e.onSuccessLandingModal&&!e.isBlurSupported?O.a.createElement("div",{className:"pencil-editor"},O.a.createElement("img",{className:"atc-blurred-image",style:{maxHeight:"100%",maxWidth:"100%"},src:Pn})):O.a.createElement(Dn,An({},e))},Ln=n(13),Rn=function(){return(Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},jn=h.b,kn=h.a.vdpLeadFormTest,Mn=Object(c.a)()||{},Fn=((Kt={})[p.a.INCLUDE_ONLY_TAXES]="Next: Calculate Taxes",Kt[p.a.INCLUDE_TAXES_AND_FEES]="Next: Calculate Taxes",Kt[p.a.EXCLUDE_TAXES_AND_FEES]="Continue",Kt),xn=function(e){var t=Object(g.h)(e),n=["atc","kbb"].indexOf(t)>-1,r=!1;return"atc"===t?r=!0:n||(r=Object(f.b)(e)),jn(kn,kn.noLeadFormSingleCta)?r=!1:jn(kn,kn.leadFormWithTwoCtas)&&(r=!0),r},Un=Object(l.a)(Object(r.connect)(function(e){var t;Object(p.i)(e)&&(t=a.selectors.getOfferDetails(e,"cash").offerPrice);var n=Mn.enableDsBuyItNow||Mn.showReservationsButtonForDealStarter,r=a.selectors.getCurrentOfferType(e),l=a.selectors.getShortDisclaimerData(e),c=Object(p.G)()?o.formatUtils.formatShortDisclaimerRedesign(l):o.formatUtils.formatShortDisclaimer(l),d=a.selectors.getMonthlyPaymentRoundedByOfferType(e,r),f=Object(i.isPaymentInvalid)(d,r,t),h=i.labels.getLabel(i.labels.DISCLAIMER),b=Object(p.B)(e),y=Object(v.f)(e),E=u.OPTIMIZELY_TEST_NAMES.TEST_DRIVE_DEEP_LINK_TEST,O=Object(s.b)(E),I=["atc","kbb"].indexOf(Object(g.h)(e).toLowerCase())>-1,T=I?"Calculate Monthly Payment Below":"Calculate Monthly Payment",C=Object(v.e)(e),_=!n&&xn(e);return{isAtcSite:["atc"].indexOf(Object(g.h)(e).toLowerCase())>-1,isKbbSite:["kbb"].indexOf(Object(g.h)(e).toLowerCase())>-1,isAtcOrKbbSite:I,dealerPhoneNumber:b,disclaimerText:c,offerType:r,offerPrice:t,paymentNotAvailable:f,customSecondDisclaimer:h,offerSubmitSuccessful:y,isVDPLeadFormEnabled:_,testDriveDeepLinkTestValue:O,headerText:T,isOfferCallInProgress:C,isLoading:Object(m.a)(e),showSoftPullButton:Object(Wt.c)(e)&&Object(p.y)(e)&&Object(g.g)(e)&&"cash"!==r,secondaryButtonText:Object(p.G)()?function(e){var t,n=Object(p.d)(e);return null!=(t=Fn[n])?t:"Next: Calculate Taxes"}(e):function(e){var t,n=Object(p.d)(e),r=null!=(t=Fn[n])?t:"Continue";return Object(Wt.b)(e)?r:"Continue"}(e)}},function(e,t){return{onSeeMoreDetailsClick:function(t){e({type:b.Cb}),e(Object(d.b)(t))},handlePrimaryCtaClick:function(){s.d("VDP_PRIMARY_CTA_CLICKED"),e(function(e,n){var r=n(),a=!(Mn.enableDsBuyItNow||Mn.showReservationsButtonForDealStarter)&&xn(r),i=Object(v.f)(r);if(a&&!i)t.history.push("/editor/leadForm/primaryPencilCta"),e(Object(y.b)(b.w));else{var o=Object(p.G)()?"dashboard":"landingPage";e(Object(d.f)(o)),e(Object(d.e)()),e(Object(y.b)(b.m,"VDP Primary CTA Clicked")),i&&e(Object(M.goToSuccessLanding)())}})},handleSecondaryCtaClick:function(){e(function(t,n){n();var r=Object(p.G)()?"dashboard":"landingPage";s.d("VDP_CONTINUE_WITH_PMT_CLICKED"),e(Object(d.f)(r)),e(Object(d.e)()),e(Object(y.b)(b.m,"VDP Secondary CTA Clicked"))})},closeModalAndRemoveErrors:function(){t.history.push("/editor"),e({type:b.H})},openTestDriveInSP:function(){e({type:b.Db}),e(Object(d.f)("testDrive")),e(Object(d.e)())}}},function(e,t,n){var r,a,i;return Rn(Rn(Rn(Rn({},e),t),n),{onSuccessLandingModal:"/editor/modal/returningUser"===(null===(i=null===(a=null===(r=n)||void 0===r?void 0:r.history)||void 0===a?void 0:a.location)||void 0===i?void 0:i.pathname),isBlurSupported:Object(Ln.e)()})})(wn));t.a=Un},37:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o});var r=n(4);function a(e){return{type:r.X,payload:{openInNewTab:!0,deepLinkRoute:e},meta:{middleware:{analytics:{eventName:{protectionList:"DR_VEHICLE_PROTECTION",leadForm:"DR_"}[e]||r.X}}}}}function i(e){return void 0===e&&(e="Main"),{type:r.T,from:e}}function o(){return function(e,t){var n;e(a(null===(n=t().nextRoute)||void 0===n?void 0:n.route))}}},38:function(e,t,n){"use strict";var r=n(252),a=n.n(r),i=n(132);function o(){this.whitelist=["http://localhost:3000"],this.frames={},this.routes={};var e=window!==window.parent;this.messageTarget=e?window.parent:window,this.referrer=e?document.referrer:document.location.href,this.instanceId=i.parse(window.location.search.substring(1)).instanceId,window.addEventListener("message",a()(this.dispatcher,this),!1)}o.prototype.dispatcher=function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}var n=t.type,r=this.routes[n];r&&r(t)},o.prototype.trigger=function(e,t){var n={instanceId:this.instanceId,type:e,payload:t};this.messageTarget.postMessage(JSON.stringify(n),this.referrer)},o.prototype.route=function(e,t){this.routes[e]=t};var l=new o;t.a=l},4:function(e,t,n){"use strict";n.d(t,"W",function(){return r}),n.d(t,"V",function(){return a}),n.d(t,"T",function(){return i}),n.d(t,"U",function(){return o}),n.d(t,"S",function(){return l}),n.d(t,"P",function(){return c}),n.d(t,"p",function(){return s}),n.d(t,"o",function(){return u}),n.d(t,"n",function(){return d}),n.d(t,"m",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"jb",function(){return p}),n.d(t,"r",function(){return h}),n.d(t,"s",function(){return b}),n.d(t,"q",function(){return v}),n.d(t,"X",function(){return g}),n.d(t,"Z",function(){return y}),n.d(t,"Q",function(){return E}),n.d(t,"N",function(){return O}),n.d(t,"z",function(){return I}),n.d(t,"C",function(){return T}),n.d(t,"B",function(){return C}),n.d(t,"A",function(){return _}),n.d(t,"F",function(){return N}),n.d(t,"H",function(){return S}),n.d(t,"I",function(){return D}),n.d(t,"G",function(){return A}),n.d(t,"K",function(){return P}),n.d(t,"Y",function(){return w}),n.d(t,"hb",function(){return L}),n.d(t,"R",function(){return R}),n.d(t,"M",function(){return j}),n.d(t,"j",function(){return k}),n.d(t,"L",function(){return M}),n.d(t,"O",function(){return F}),n.d(t,"bb",function(){return x}),n.d(t,"db",function(){return U}),n.d(t,"cb",function(){return B}),n.d(t,"J",function(){return V}),n.d(t,"ib",function(){return G}),n.d(t,"x",function(){return Y}),n.d(t,"v",function(){return H}),n.d(t,"w",function(){return K}),n.d(t,"u",function(){return z}),n.d(t,"y",function(){return W}),n.d(t,"D",function(){return q}),n.d(t,"E",function(){return X}),n.d(t,"eb",function(){return Z}),n.d(t,"t",function(){return $}),n.d(t,"e",function(){return J}),n.d(t,"d",function(){return Q}),n.d(t,"a",function(){return ee}),n.d(t,"c",function(){return te}),n.d(t,"b",function(){return ne}),n.d(t,"f",function(){return re}),n.d(t,"g",function(){return ae}),n.d(t,"i",function(){return ie}),n.d(t,"h",function(){return oe}),n.d(t,"gb",function(){return le}),n.d(t,"k",function(){return ce}),n.d(t,"ab",function(){return se}),n.d(t,"fb",function(){return ue});var r="ROUTE_TRADE_IN_VALUATION",a="ROUTE_TRADE_IN_ICO_VALUATION",i="ROUTE_EXIT_SHELL",o="ROUTE_SHOPPER_INFO_SUCCESS",l="ROUTE_DISPLAY_SUCCESS_LANDING",c="PAYMENT_RECEIVED",s="ICO_TRADE_IN_SUCCESS",u="ICO_TRADE_IN_PENDING",d="ICO_TRADE_IN_NO_VALUE",m="ICO_TRADE_IN_COMPLETED",f="ICO_PASS_BACK_FAILURE",p="UPDATE_ICO_TRADE_COMPLETED",h="INIT_PENCIL_REQUEST",b="INIT_PENCIL_SUCCESS",v="INIT_PENCIL_FAILURE",g="SDP_REDIRECT",y="SET_SP_ROUTE",E="QUESTIONS_RECEIVED",O="OPEN_SDP_AND_SUBMIT_OFFER",I="OFFER_SAVE",T="OFFER_SAVE_SUCCESS",C="OFFER_SAVE_PENDING",_="OFFER_SAVE_FAILURE",N="OFFER_SUBMIT",S="OFFER_SUBMIT_PENDING",D="OFFER_SUBMIT_SUCCESS",A="OFFER_SUBMIT_FAILURE",P="OFFER_UPDATE",w="SET_NEXT_ROUTE_ON_PENDING_SAVE_OFFER",L="SYNC_MESSAGE",R="REFRESH_SESSION_ID",j="OPEN_EMAIL_LANDING_MODAL",k="CLOSE_EMAIL_LANDING_MODAL",M="ONBOARDING_CTA_CLICKED",F="PAYMENT_FAILURE",x="SKIPPED_PAYMENT_FAILURE",U="SKIPPED_QUESTIONS_RECEIVED",B="SKIPPED_PAYMENT_RECEIVED",V="OFFER_SUBMIT_VALIDATION_FAILURE",G="SYNC_OFFER_ON_LOCAL_STORAGE",Y="LEAD_FORM_MODAL_CONTINUE_CLICKED",H="LEAD_FORM_FIRSTNAME_BLUR",K="LEAD_FORM_LASTNAME_BLUR",z="LEAD_FORM_EMAIL_BLUR",W="LEAD_FORM_SUBMIT_SUCCESS",q="OFFER_SUBMISSION_FAILURE",X="OFFER_SUBMISSION_SUCCESS",Z="SP_OFFER_STATUS",$="LAUNCH_OFFER_IN_SP",J="AIO_SAVE_REQUEST_SUCCESS",Q="AIO_SAVE_REQUEST_FAILURE",ee="AIO_PROCESSED",te="AIO_SAVE_REQUEST",ne="AIO_SAVE",re="AIO_SUBMIT_PENDING",ae="AIO_UPDATE_REQUEST",ie="AIO_UPDATE_REQUEST_SUCCESS",oe="AIO_UPDATE_REQUEST_FAILURE",le="SP_SHELL_MESSAGE",ce="HIDE_MAIN_SHELL_CLOSE_BUTTON",se="SHOW_MAIN_SHELL_CLOSE_BUTTON",ue="SP_REMEMBERED_TRADE"},40:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return l});var r=function(e){return e.vehicle},a=function(e){return r(e).vin},i=function(e){return r(e).make},o=function(e){return r(e).type},l=function(e){return r(e).uuid}},400:function(e,t){},41:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"h",function(){return o}),n.d(t,"e",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return m});var r=n(5),a=function(e){var t=e.toggles;return t&&t.enableLeaseDealSummaryNewLabels||!1},i=function(e){return e.toggles&&e.toggles.showAdminSoftPull||!1},o=function(e){return!Object(r.C)(e)||e.toggles&&e.toggles.isAmsiTradeInEnabledOnSP},l=function(e){var t,n;return null!=(n=null===(t=e.toggles)||void 0===t?void 0:t.enableCashIncentives)&&n},c=function(e){var t,n;return null!=(n=null===(t=e.toggles)||void 0===t?void 0:t.usePaymentSourceForFinanceAndLease)&&n},s=function(e){var t,n;return null!=(n=null===(t=e.toggles)||void 0===t?void 0:t.enableTaxBaseSecondaryCtaButtonOnVDP)&&n},u=function(e){var t,n;return null!=(n=null===(t=e.toggles)||void 0===t?void 0:t.includeAcceleratePaymentFields)&&n},d=function(e){var t;return(null===(t=e.toggles)||void 0===t?void 0:t.enableDealLookup)||!1},m=function(e){var t;return(null===(t=e.toggles)||void 0===t?void 0:t.enableDrProfile)||!1}},42:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return l});var r=n(21),a=n(2),i=n(4);function o(e,t,n){return{type:e,meta:{middleware:{analytics:{eventName:e,eventCauseDescription:t,options:n}}}}}var l=function(e){return function(t){return function(n){switch(t(n),n.type===a.S&&top.postMessage(n.message,document.referrer),n.type){case a.Fb:e.dispatch(o("DR_ZIP_EDIT_TERMS_BTN_CLICKED"));break;case a.Eb:e.dispatch(o(a.C));break;case a.V:e.dispatch(o("DR_RM_ADD_TRADE"));break;case a.X:e.dispatch(o("DR_RM_REMOVE_TRADE"));break;case a.W:e.dispatch(o("DR_RM_NEW_TRADE"));break;case a.N:e.dispatch(o("DR_NEXT_STEPS_TEST_DRIVE_CLICKED")),e.dispatch(o(a.m,"Next steps: Start Test Drive"));break;case a.O:e.dispatch(o("DR_NEXT_STEPS_TRADE_IN_CLICKED")),e.dispatch(o(a.m,"Next steps: Start Tradein"));break;case a.M:e.dispatch(o("DR_NEXT_STEPS_CREDIT_APP_CLICKED")),e.dispatch(o(a.m,"Next steps: Start Credit App"));break;case a.tb:e.dispatch(o("DR_SKIP_NEXT_STEPS_CLICKED")),e.dispatch(o(a.m,"Next steps skipped"));break;case a.Cb:e.dispatch(o(a.z));break;case a.j:e.dispatch(o(a.o,"Deal Starter"));break;case a.Bb:e.dispatch(o(a.y));break;case a.pb:e.dispatch(o(a.t));break;case a.ob:e.dispatch(o(a.v));break;case a.mb:e.dispatch(o(a.u));break;case a.nb:e.dispatch(o(a.s));break;case a.kb:e.dispatch(o(a.B));break;case r.actions.ZIP_CODE_PAYMENT_FAILED:e.dispatch(o(a.D));break;case r.actions.TRADE_IN_PAYMENT_FAILED:e.dispatch(o(a.x));break;case r.actions.INCENTIVES_PAYMENT_FAILED:e.dispatch(o(a.p));break;case r.actions.CREDIT_TIER_PAYMENT_FAILED:e.dispatch(o(a.n));break;case r.actions.OFFER_PRICE_PAYMENT_FAILED:e.dispatch(o(a.q));break;case a.Db:e.dispatch(o(a.A));break;case a.i:e.dispatch(o(a.m));break;case a.I:e.dispatch(o(a.m,"VDP Lead Form Skipped"));break;case a.J:!0===n.payload.resultsInOpeningShopperPlatform&&e.dispatch(o(a.m,"VDP Lead Form Submitted"));break;case a.Q:e.dispatch(o(a.r));break;case i.v:e.dispatch(o("DR_LEAD_FORM_FIRSTNAME_CHANGED","Leave popup lead form first name changed"));break;case i.w:e.dispatch(o("DR_LEAD_FORM_LASTNAME_CHANGED","Leave popup lead form last name changed"));break;case i.u:e.dispatch(o("DR_LEAD_FORM_EMAIL_CHANGED","Leave popup lead form email changed"));break;case i.y:e.dispatch(o("DR_OFFER_SUBMISSION_CLICKED","Leave popup lead form submitted"));break;case a.g:e.dispatch(o("DR_ADD_TAXES_CLICKED"));break;case a.wb:e.dispatch(o("DR_CONTINUE_MY_PURCHASE"));break;case a.xb:e.dispatch(o("DR_VDP_RETURN_START_NEW"))}}}}},43:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"f",function(){return h});var r=n(109),a=n(4),i=n(9),o=n(2),l=function(){return{type:"SAVE_OFFER_BUTTON"}},c=function(){return{type:"CONTINUE_BUTTON",meta:{middleware:{analytics:{eventName:"DR_OFFER_SUBMISSION_CLICKED",eventCauseDescription:"Offer submitted on VDP"}}}}},s=function(){return{type:a.z}},u=function(e){return void 0===e&&(e=!1),function(t,n){t(Object(i.g)(n())&&e?{type:a.N}:{type:a.F,payload:{shouldOpenSdpOnSuccess:e}})}},d=function(){return function(e){return new r.Promise(function(t,n){e({type:a.R,fetch:{resolve:t,reject:n}})})}},m=function(){return{type:a.S,payload:{},meta:{sendMessage:{payload:{message:'{"routeType":"ROUTE_DISPLAY_SUCCESS_LANDING"}',messageContext:"ROUTE"}}}}},f=function(){return{type:o.db,payload:{},meta:{sendMessage:{payload:{message:'{"routeType":"ROUTE_DISPLAY_RETURNING_USER_MODAL"}',messageContext:"ROUTE"}}}}},p=function(){return{type:a.ib,payload:{}}},h=function(){return{type:a.b}}},44:function(e,t,n){"use strict";var r=n(63),a=Object(r.b)();t.a=a},49:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return l});var r="SYNC",a="ROUTE",i="PIXALL_ANALYTICS",o="EXTERNAL_TRACK",l="REMEMBERED_TRADE"},5:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"r",function(){return p}),n.d(t,"q",function(){return h}),n.d(t,"o",function(){return b}),n.d(t,"s",function(){return v}),n.d(t,"v",function(){return g}),n.d(t,"w",function(){return y}),n.d(t,"h",function(){return E}),n.d(t,"j",function(){return O}),n.d(t,"m",function(){return T}),n.d(t,"i",function(){return _}),n.d(t,"k",function(){return N}),n.d(t,"g",function(){return S}),n.d(t,"f",function(){return D}),n.d(t,"n",function(){return A}),n.d(t,"t",function(){return P}),n.d(t,"B",function(){return w}),n.d(t,"u",function(){return L}),n.d(t,"z",function(){return R}),n.d(t,"A",function(){return j}),n.d(t,"l",function(){return k}),n.d(t,"F",function(){return M}),n.d(t,"b",function(){return F}),n.d(t,"y",function(){return x}),n.d(t,"p",function(){return U}),n.d(t,"E",function(){return B}),n.d(t,"a",function(){return V}),n.d(t,"d",function(){return G}),n.d(t,"G",function(){return Y}),n.d(t,"H",function(){return H}),n.d(t,"C",function(){return K}),n.d(t,"x",function(){return z}),n.d(t,"D",function(){return W});var r=n(135),a=n.n(r),i=n(1),o=n(22),l=n(9),c=n(40),s=n(14),u=function(e){var t=Object(c.c)(e);return"new"===t?m(e):"used"===t||"certified"===t?d(e):null},d=function(e){return!!E(e).canNegotiateUsed},m=function(e){return!!E(e).canNegotiateNew},f=function(e){return(e&&e.brandingExperience||"").toLowerCase()},p=function(e){return e&&e.dnaAccountId||""},h=function(e){return e&&e.address.zip||""},b=function(e){return e&&e.theme||""},v=function(e,t){if(!e)return!1;switch(t){case"Loan":return e.excludeStdCashIncsLoan||!1;case"Lease":return e.excludeStdCashIncsLease||!1;case"Cash":return e.excludeStdCashIncsCash||!1;default:return!1}},g=function(e,t){return!t||"atc"!==t.toLowerCase()&&"kbb"!==t.toLowerCase()?e&&e.listingCode||"":String(y(e))},y=function(e){return e&&e.ownerId||""},E=function(e){return e.dealer},O=function(e){return E(e).id},I=function(e){return E(e).leaseSettings},T=function(e){return I(e).isLeasePaymentOnMSRP},C=function(e){return E(e).cashOfferSettings||{}},_=function(e){return C(e).hasCashOffer},N=function(e){return C(e).isCashPaymentOnMSRP},S=function(e){return E(e).shortCustomDisclaimer},D=function(e){return E(e).longCustomDisclaimer},A=function(e){var t=E(e);return t?t.name:void 0},P=function(e){return e&&e.isWidgetHeightDynamic||!1},w=function(e){return E(e).vdpTrackingPhoneNumber},L=function(e){return E(e).labelSetName},R=function(e){return b(E(e))},j=function(e){return(t=E(e))&&t.themeRedesign||"";var t},k=function(e){return I(e).isDueAtSigninAmountDeduct},M=function(e){return!!E(e).isTradeInBranded},F=function(e){var t=Object(l.k)(e),n=function(e){return o.g===(E(e).tradeInValuationProvider||"").toLowerCase()}(e),r="Get a Kelley Blue Book"+String.fromCharCode(174)+" ",a=M(e);if(t&&(a=!1),a)r+=n?"Instant Cash Offer":"Estimated Trade Value";else{var i=n?"Get An Offer For Your Car":"Add Trade-In Value";r=String.fromCharCode(65291)+" "+i}return r},x=function(e){var t=E(e);return t&&t.creditApp&&t.creditApp.isSoftPullEnabled||!1},U=function(e){return e.dealer.tradeInValuationProvider},B=function(e){return E(e).enableLeadFormOnLeavePopup},V={INCLUDE_TAXES_AND_FEES:"includeTaxesAndStateFees",INCLUDE_ONLY_TAXES:"includeOnlyTaxes",EXCLUDE_TAXES_AND_FEES:"excludeTaxesAndFees"},G=function(e){return E(e).applyTaxesAndFeesNewOptions||V.INCLUDE_TAXES_AND_FEES},Y=function(){var e;return(null===(e=s.a)||void 0===e?void 0:e.dealExperience)===o.d},H=function(e){return E(e).microSiteEnabled||Y()||!1},K=function(e){var t=e.dealer.tradeInValuationICOProviderUrl.match(/.*kbb-ico-cox./gi);return t&&t.length>0||!1},z=function(e,t){var n=i.selectors.getOfferDetails(e,t).creditTier,r=("finance"===t?i.selectors.getFinanceCreditTiers(e):i.selectors.getLeaseCreditTiers(e)).map(function(e){return{id:e.id,name:e.name,label:e.score.low+"-"+e.score.high,range:[e.score.low,e.score.high]}}),o=a()(r,["label"],["asc"]),l=0;return{selectedCreditTier:o.find(function(e,t){if(n===e.id)return l=t,e})||{},selectedCreditIndex:l,creditTierToggleInfo:o}},W=function(e){var t,n;return null===(n=null===(t=E(e))||void 0===t?void 0:t.contactOptions)||void 0===n?void 0:n.isChatUpgradeEnabled}},504:function(e,t){},558:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var r=n(0),a=n.n(r),i=n(106),o=n.n(i),l=n(12),c=n(570),s=n(14),u=n(2),d=s.a.services,m="dr_devhelper_persist",f="dev_helper",p=[],h=0,b=function(e,t){return void 0===e&&(e="bff"),void 0===t&&(t="init"),l.urlBuilder.buildFromConfig(d[e],""+t)};function v(){var t=document.location.href.indexOf("devHelper")>-1;t&&e(b("bff","getSponsorData")).then(function(e){return e.json()}).then(function(e){var n;p=e,function(){try{var e=document.querySelector('link[rel="stylesheet"][href*=theme-]'),t=e.getAttribute("href"),n=t.match(/theme-(.*?)-(sidebar|main).css/g)[0],r=n.replace("theme-","").replace("-main.css","").replace("-sidebar.css","");h=p.indexOf(r)}catch(e){console.info("Unable to ID and set current theme"+e)}}(),(n=document.createElement("div")).setAttribute("id",f),document.body.appendChild(n),t&&E()}),window.showDevHelper=g,window.devHelperUtils.open=g,setTimeout(function(){"true"!==localStorage.getItem(m)||t||g()},1e3),function(){if(window.addEventListener){var e=[];window.addEventListener("keydown",function(t){-1!==["38","40","37","39"].indexOf(String(t.keyCode))&&e.push(t.keyCode),"38,38,40,40,37,39,37,39"===e.toString()&&(g(),e=[])},!0)}}()}function g(){localStorage.setItem(m,"true"),document.location.href=document.location.href+"&devHelper="}function y(){localStorage.setItem(m,"false"),document.location.href=document.location.href.replace("&devHelper=","")}function E(){var e=a.a.createElement(c.a,{themeList:p,currentTheme:p[h],onPrevThemeClick:T,onThemeChange:O,onNextThemeClick:I,onCloseClick:y});o.a.render(e,document.getElementById(f))}function O(e){console.log("Enabling theme "+e);for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++){var r=t[n];""!==r.title&&(r.disabled=!0),r.title===e&&(r.disabled=!1)}p.forEach(function(t,n){t===e&&(h=n)}),window.devHelperUtils.reduxDispatch({type:u.k,payload:{theme:e}}),E()}function I(){var e,t;O(p[(e=p,t=h,e.length-1===t?0:t+1)])}function T(){var e,t;O(p[(e=p,t=h,0===t?e.length-1:t-1)])}}).call(this,n(189))},565:function(e,t,n){"use strict";(function(e,r){var a,i=n(0),o=n.n(i),l=n(54),c=n(34),s=n(20),u=n(7),d=n(111),m=n(1263),f=n(95),p=n(262),h=n(571),b=n(261),v=n(76),g=n(5),y=n(23),E=n(572),O=n(355),I=n(566),T=n(568),C=n(38),_=n(578),N=n(569),S=n(579),D=n(154),A=n(567),P=n(14),w=n(577),L=n(574),R=n(573),j=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},M=p.a.Container,F=(0,o.a.lazy)(function(){return n.e(7).then(n.bind(null,1265))}),x=5e3,U=5e3,B=100,V=function(t){function n(n){var a=t.call(this,n)||this;return a.componentDidMount=function(){C.a.route("WidgetInViewAnalytic",a.onWidgetInViewCallback),C.a.route("LaunchRoute",a.launchRoute),u.validator.isValidUserSessionRecordingSponsor(a.props.sponsor)&&window.addEventListener("focus",b.a);Object(y.a)();Object(g.G)()&&(document.body.classList.add("dr-p202-body"),document.body.classList.add(a.props.sponsor||"unknown-sponsor"))},a.getThemeModule=function(){return e(P.a.jsonThemeUrl).then(function(e){return e.ok?e.json():r.reject("A non-200 response was received when pulling json theme file")})},a.onWidgetInViewCallback=function(){(0,a.props.onWidgetInView)()},a.launchRoute=function(e){(0,a.props.launchRoute)((e.payload||{}).route)},a.setAppContentElement=function(e){return a.appContentElement=e},a.increaseWatchSpeed=function(){a.lastEventTrigger=Date.now(),a.watchSize()},a.startDynamicHeight=function(){var e=Object(y.a)()||{},t=a.getSidebar();t&&t.classList.add("dynamic-height-widget"),a.lastEventTrigger=Date.now(),a.appContentElement.addEventListener("click",a.increaseWatchSpeed),a.watchSize(),e.enableDsBuyItNow||e.showReservationsButtonForDealStarter||Object(v.d)()},a.watchSize=function(){a.clearWatchTimer();var e=a.appContentElement.offsetHeight;if(a.appContentElement){a.watchElementSize<e&&(a.watchElementSize=e,Object(v.e)(a.watchElementSize+"px"));var t=Date.now()-a.lastEventTrigger>x?U:B;a.waitForResize(t)}},a.launchElementRoute=function(e){var t=e.target.getAttribute("data-route");if(a.props.launchRoute(t),self!==top){var n={type:"CUSTOM_CONTENT",data:{route:t,uid:f.v1()}};top.postMessage(n,"*")}},a.watchElementSize=-1,a.state={theme:{}},a}return j(n,t),n.prototype.componentDidUpdate=function(e){var t=this;if(this.props.isCompleted!==e.isCompleted&&this.setupWatch(),this.props.themeName!==e.themeName){""!==this.props.themeName&&this.props.themeName;this.props.isAccelerateBranding&&this.props.sponsor,this.getThemeModule().then(function(e){t.setState({theme:e})}).catch(function(e){console.error("Error loading json css theme file: "+e)})}},n.prototype.componentWillUnmount=function(){this.appContentElement.removeEventListener("click",this.increaseWatchSpeed),this.clearWatchTimer(),this.watchTimer=void 0,this.appContentElement=null},n.prototype.clearWatchTimer=function(){this.watchTimer&&clearTimeout(this.watchTimer)},n.prototype.waitForResize=function(e){this.watchTimer=setTimeout(this.watchSize,e)},n.prototype.getSidebar=function(){return document.getElementById("dr-sidebar")},n.prototype.setupWatch=function(){var e=this.props,t=e.isDynamicHeightForDealerEnabled,n=e.isAccelerateBranding,r=Object(y.a)();r.delayLoadSpShell&&Object(v.a)();var a=!1;(r.showReservationsButtonForDealStarter||r.enableDsBuyItNow)&&(a=!0,document.body.classList.add("custom-audi")),(a||r.useDynamicWidgetHeight&&(n||t))&&this.startDynamicHeight()},n.prototype.getState=function(){var e=this.props,t=e.isCompleted;return e.failed?"failed":t?"complete":"loading"},n.prototype.getRouteComponents=function(){return o.a.createElement("div",null,o.a.createElement(o.a.Suspense,{fallback:o.a.createElement("div",null,"Loading...")},o.a.createElement(d.a,{path:"/disclaimer",render:function(){return o.a.createElement(F,null)}})),o.a.createElement(d.a,{exact:!0,path:"/",component:O.a}),o.a.createElement(d.a,{path:"/editor/modal/returningUser",component:_.a}),o.a.createElement(d.a,{path:"/editor/modal/onboarding",component:S.a}),o.a.createElement(d.a,{path:"/editor",component:O.a}),o.a.createElement(d.a,{path:"/summary",component:I.a}),o.a.createElement(d.a,{path:"/cashDownBreakdown",component:T.a}),o.a.createElement(d.a,{path:"/adjustedCashDownBreakdown",component:E.a}),o.a.createElement(m.a,null,o.a.createElement(d.a,{path:"/showroom/myDeals",component:R.a}),o.a.createElement(d.a,{path:"/showroom/pinCode",component:L.a}),o.a.createElement(d.a,{path:"/showroom",component:w.a})))},n.prototype.getCtaText=function(){var e=s.browserHelper.gup("ctaText",window.location.href);return e&&!0!==e&&0!==e.toString().length||(e="Buy"),e=(e=e.replace(/%20/g," ")).replace(/%27/g,"'")},n.prototype.getComponentToRender=function(){var e=this;if((Object(y.a)()||{}).showReservationsButtonForDealStarter){var t=this.getSidebar();return t&&t.classList.add("custom-content"),document.querySelector(".loading-indicator").classList.remove("loading"),o.a.createElement("button",{className:"btn btn-primary custom-cta","data-route":"reservation",onClick:this.launchElementRoute},this.getCtaText())}var n=[o.a.createElement(l.a,{key:"shopper-education",query:"(min-width: 594px)"},function(e){return e?o.a.createElement(h.a,null):null}),o.a.createElement(l.a,{key:"two-column-divider",query:"(min-width: 594px)"},function(e){return e?o.a.createElement("div",{className:"dr-app-content-column-divider"}):null}),o.a.createElement(M,k({key:"pencil-component"},this.props),this.getRouteComponents())],r=[o.a.createElement(M,k({key:"pencil-component"},this.props),this.getRouteComponents()),o.a.createElement(l.a,{key:"pencil-summary",query:"(min-width: 594px)"},function(t){return t?o.a.createElement(A.a,{history:e.props.history}):null})],a={failed:null,complete:Object(g.G)()?r:n,loading:null},i=this.getState();return"complete"===i&&document.querySelector(".loading-indicator").classList.remove("loading"),a[i]},n.prototype.render=function(){var e=this;if((Object(y.a)()||{}).enableDsBuyItNow){var t=["/successLanding","/editor/modal/returningUser"].find(function(t){return t===e.props.history.location.pathname});return o.a.createElement("div",null,o.a.createElement("div",{className:"app-content",ref:this.setAppContentElement},o.a.createElement(c.ThemeProvider,{theme:this.state.theme},o.a.createElement(o.a.Fragment,null,"complete"!==this.getState()||t?null:o.a.createElement("div",{className:"reservation-btn-container"},o.a.createElement("button",{className:"btn btn-primary custom-cta","data-route":"reservation",onClick:this.launchElementRoute},this.getCtaText())),this.getComponentToRender()))))}if(Object(g.G)()){var n="cash"===this.props.offerType?"*Final transaction may include additional fees/charges and taxes. Terms may vary.":this.props.disclaimerText;return o.a.createElement("div",{className:"app-container",ref:this.setAppContentElement},o.a.createElement("div",{className:"app-content"},o.a.createElement(c.ThemeProvider,{theme:this.state.theme},o.a.createElement(o.a.Fragment,null,this.getComponentToRender()))),o.a.createElement(l.a,{query:"(min-width: 594px)"},function(t){return t?o.a.createElement("div",{className:"app-footer"},o.a.createElement(D.a,{offerType:e.props.offerType,disclaimerText:n,notAvailable:e.props.paymentNotAvailable,onNextRoute:e.props.onSeeMoreDetailsClick})):null}))}return o.a.createElement("div",{className:"app-content",ref:this.setAppContentElement},o.a.createElement(c.ThemeProvider,{theme:this.state.theme},o.a.createElement(o.a.Fragment,null,this.props.isMicroSiteVdpEnabled&&this.props.isCompleted?o.a.createElement(N.a,null):this.getComponentToRender())))},n}(i.Component);t.a=V}).call(this,n(189),n(72))},566:function(e,t,n){"use strict";var r,a,i,o=n(11),l=n(1),c=n(12),s=n(7),u=n(41),d=n(6),m=n(0),f=n.n(m),p=n(1267),h=n(48),b=n.n(h),v=n(154),g=n(21),y=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=b.a.LineItemUI,O=b.a.GroupLineItemUI,I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.renderMSRP=function(){var e=this.props.dealSummaryData.msrpInput;return e.display?m.createElement("div",null,m.createElement(E,{label:e.label,value:e.value,id:e.id}),m.createElement("hr",null)):null},t.prototype.renderOfferPrice=function(){var e=this.props.dealSummaryData.offerPriceInput;return m.createElement(E,{label:e.label,value:e.value,id:e.id})},t.prototype.renderIncentivesAmount=function(){var e=this.props.dealSummaryData.incentivesAmountInput;return e.display?m.createElement(E,{label:e.label,value:e.value,id:e.id}):null},t.prototype.renderDownPaymentNegative=function(){var e=this.props.dealSummaryData.downPaymentNegativeInput;return m.createElement(E,{label:e.label,value:e.value,id:e.id})},t.prototype.renderTradeAllowanceDue=function(){var e=this.props.dealSummaryData.tradeAllowanceDueInput;return e.display?m.createElement(E,{label:e.label,value:e.value,id:e.id}):null},t.prototype.renderTradeAllowance=function(){var e=this.props.dealSummaryData.tradeAllowanceInput;return e.display?m.createElement(E,{label:e.label,value:e.value,id:e.id}):null},t.prototype.renderTaxes=function(){var e=this.props.dealSummaryData.taxesInput;return e.display?m.createElement(E,{label:e.label,value:e.value,id:e.id}):null},t.prototype.renderDMVFees=function(){var e=this.props.dealSummaryData.dmvFeesInput;return e.display?m.createElement(E,{label:e.label,value:e.value,id:e.id}):null},t.prototype.renderCappedDealerFees=function(){var e=this.props.dealSummaryData.cappedDealerFeesInputs;return m.createElement("div",{id:"cappedDealerFees"},e.map(function(e){return m.createElement(E,{key:e.id,label:e.label,value:e.value,id:e.id})}))},t.prototype.renderNonCappedDealerFees=function(){var e=this.props.dealSummaryData.nonCappedDealerFeesInputss;return m.createElement("div",{id:"noncCppedDealerFees"},e.map(function(e){return m.createElement(E,{key:e.id,label:e.label,value:e.value,id:e.id})}))},t.prototype.renderAmountFinanced=function(){var e=this.props.dealSummaryData.amountFinancedInput;return m.createElement(O,{label:e.label,value:e.value,id:e.id,notAvailableText:e.notAvailableText})},t.prototype.renderDownPaymentPositive=function(){var e=this.props.dealSummaryData.downPaymentPositiveInput;return m.createElement(E,{label:e.label,value:e.value,id:e.id})},t.prototype.renderfirstMonthPayment=function(){var e=this.props.dealSummaryData.firstMonthPaymentInput;return e.display?m.createElement(E,{label:e.label,value:e.value,id:e.id}):null},t.prototype.renderDueAtSigning=function(){var e=this.props.dealSummaryData.dueAtSigningInput;return m.createElement(O,{label:e.label,value:e.value,id:e.id,notAvailableText:e.notAvailableText})},t.prototype.renderTerm=function(){var e=this.props.dealSummaryData.termInput;return m.createElement(O,{label:e.label,value:e.value,id:e.id,notAvailableText:e.notAvailableText})},t.prototype.renderApr=function(){var e=this.props.dealSummaryData.aprInput;return m.createElement(O,{label:e.label,value:e.value,id:e.id,notAvailableText:e.notAvailableText})},t.prototype.renderAnnualMiles=function(){var e=this.props.dealSummaryData.annualMilesInput;return m.createElement(E,{label:e.label,value:e.value,id:e.id})},t.prototype.renderLeaseSummary=function(){return m.createElement("div",{className:"dr-ui-summary-container"},m.createElement("div",{className:"first-column"},this.renderMSRP(),this.renderOfferPrice(),this.renderIncentivesAmount(),this.renderDownPaymentNegative(),this.renderTradeAllowance(),this.renderTaxes(),this.renderDMVFees(),this.renderCappedDealerFees(),m.createElement("hr",null),this.renderAmountFinanced(),m.createElement("hr",null),this.renderDownPaymentPositive(),this.renderTradeAllowanceDue(),this.renderNonCappedDealerFees(),this.renderfirstMonthPayment(),m.createElement("hr",null),this.renderDueAtSigning(),m.createElement("hr",null),this.renderTerm(),this.renderAnnualMiles()))},t.prototype.renderFinanceSummary=function(){return m.createElement("div",{className:"dr-ui-summary-container"},m.createElement("div",{className:"first-column"},this.renderMSRP(),this.renderOfferPrice(),this.renderIncentivesAmount(),this.renderDownPaymentNegative(),this.renderTradeAllowance(),this.renderTaxes(),this.renderDMVFees(),this.renderCappedDealerFees(),m.createElement("hr",null),this.renderAmountFinanced(),m.createElement("hr",null),this.renderDownPaymentPositive(),this.renderTradeAllowanceDue(),this.renderNonCappedDealerFees(),m.createElement("hr",null),this.renderDueAtSigning(),m.createElement("hr",null),this.renderTerm(),this.renderApr()))},t.prototype.render=function(){var e=this.props.offerType===s.FINANCE?this.renderFinanceSummary():this.renderLeaseSummary();return m.createElement("div",{id:"deal-summary"},e)},t}(m.Component),T=n(123);!function(e){e.SEPARATOR="separator",e.TERM="term",e.MSRP="msrp",e.AMT_FINANCED="amountFinanced",e.ANNUAL_MILES="annualMiles",e.APR="apr",e.DMV_FEES="dmvFees",e.INCENTIVES="incentivesAmount",e.TAXES="taxes",e.PRICE="offerPrice",e.DUE_AT_SIGNING="dueAtSigning",e.TRADE_ALLOWANCE="tradeAllowance",e.FIRST_MONTH_PAYMENT="firstMonthPayment",e.DOWN_PAYMENT="downPayment",e.DOWN_PAYMENT_NEGATIVE="downPaymentNegative"}(a||(a={})),function(e){e.NOT_AVAILABLE="Not Available",e.APR_NOT_AVAILABLE="APR Not Available",e.TERM_NOT_AVAILABLE="Term Not Available"}(i||(i={}));var C="Not Included";function _(e){return{msrpInput:N(e),offerPriceInput:S(e),incentivesAmountInput:D(e),downPaymentNegativeInput:A(e,!0),downPaymentPositiveInput:A(e,!1),tradeAllowanceDueInput:P(e,!0),tradeAllowanceInput:P(e,!1),taxesInput:w(e),dmvFeesInput:L(e),cappedDealerFeesInputs:k(e),nonCappedDealerFeesInputss:M(e),amountFinancedInput:F(e),firstMonthPaymentInput:x(e),dueAtSigningInput:U(e),termInput:B(e),aprInput:V(e),annualMilesInput:G(e)}}function N(e){var t=d.c(e.listedPrice);return"New"===e.vehicleCondition&&e.retailPrice&&(t=d.c(e.retailPrice)),{label:e.isSinglePrice||"New"===e.vehicleCondition?s.DealSummaryLabels.MSRP:s.DealSummaryLabels.ADVERTISED_PRICE,value:t,id:a.MSRP,display:!(e.isSinglePrice&&"New"!==e.vehicleCondition)}}function S(e){return{label:e.isSinglePrice?s.DealSummaryLabels.PRICE_SINGLE:s.DealSummaryLabels.PRICE_MULTI,value:d.c(e.offerPrice),id:a.PRICE}}function D(e){var t=-1*e.appliedIncentiveAmount;return{label:s.DealSummaryLabels.INCENTIVES,value:d.c(t),id:a.INCENTIVES,display:e.appliedIncentiveAmount>0}}function A(e,t){var n,r=e.netCashDown,i=e.offerType,o=e.useNewLeaseVerbiage,l=e.deductDueAtSigningDealerPref;switch(i){case s.LEASE:n=s.DealSummaryLabels.DOWN_PAYMENT_LEASE,o&&(n=t?s.DealSummaryLabels.CAP_COST_REDUCTION:l?s.DealSummaryLabels.CAP_COST_REDUCTION:s.DealSummaryLabels.DOWN_PAYMENT_FINANCE);break;case s.FINANCE:n=s.DealSummaryLabels.DOWN_PAYMENT_FINANCE}var c=a.DOWN_PAYMENT;return t&&(r*=-1,c=a.DOWN_PAYMENT_NEGATIVE),{label:n,value:d.c(r),id:c}}function P(e,t){var n=-1*e.netTradeIn,r=!1;return(e.netTradeIn>0||e.isAmountAppliedToFinancing)&&!t&&(r=!0),e.netTradeIn<0&&!e.isAmountAppliedToFinancing&&t&&(r=!0),{label:s.DealSummaryLabels.TRADE_ALLOWANCE,value:d.c(n),id:a.TRADE_ALLOWANCE,display:r}}function w(e){return{label:s.DealSummaryLabels.TAXES,value:C,id:a.TAXES,display:e.includeTaxes}}function L(e){return{label:s.DealSummaryLabels.DMV_FEES,value:C,id:a.DMV_FEES,display:e.includeGovFees}}function R(e){var t=e.isAcqLoanFeeCapped,n=e.acqLoanFee,r=t?"capped":"noncapped";return{label:"Acquisition Fee",value:d.c(n),id:r+"-dealerFee-acquisitionFee"}}function j(e){return e.hasOwnProperty("acqLoanFee")&&e.acqLoanFee>0}function k(e){var t=(e.dealerFees||[]).filter(function(e){return e.dealerFeeCapped}).map(function(e){return{label:e.dealerFeeDesc,value:d.c(e.dealerFeeAmount),id:"capped-dealerFee-"+e.dealerFeeTypeCode}});if(j(e)&&e.isAcqLoanFeeCapped){var n=R(e);t.push(n)}return t}function M(e){var t=(e.dealerFees||[]).filter(function(e){return!e.dealerFeeCapped}).map(function(e){return{label:e.dealerFeeDesc,value:d.c(e.dealerFeeAmount),id:"noncapped-dealerFee-"+e.dealerFeeTypeCode}});if(j(e)&&!e.isAcqLoanFeeCapped){var n=R(e);t.push(n)}if(e.securityDeposit>0){var r={label:s.DealSummaryLabels.SECURITY_DEPOSIT,value:d.c(e.securityDeposit),id:"noncapped-dealerFee-securityDeposit"};t.push(r)}return t}function F(e){var t=s.DealSummaryLabels.AMT_FINANCED_FINANCE;e.offerType===s.LEASE&&(t=s.DealSummaryLabels.AMT_FINANCED_LEASE);var n={label:t,value:d.c(e.amountFinanced),id:a.AMT_FINANCED};return e.amountFinanced||(n.notAvailableText=i.NOT_AVAILABLE,n.value=null),n}function x(e){var t=e.firstMonthPayment||0;return{label:s.DealSummaryLabels.FIRST_MONTH_PAYMENT,value:d.c(t),id:a.FIRST_MONTH_PAYMENT,display:t>0}}function U(e){var t={label:s.DealSummaryLabels.DUE_AT_SIGNING,value:d.c(e.dueAtSigning),id:a.DUE_AT_SIGNING};return Object(T.isFinite)(e.dueAtSigning)||(t.notAvailableText=i.NOT_AVAILABLE,t.value=null),t}function B(e){var t={label:s.DealSummaryLabels.TERM,value:d.g(e.term),id:a.TERM};return e.term||(t.notAvailableText=i.TERM_NOT_AVAILABLE,t.value=null),t}function V(e){var t={label:s.DealSummaryLabels.APR,value:d.a(e.apr),id:a.APR};return Object(T.isFinite)(e.apr)||(t.notAvailableText=i.APR_NOT_AVAILABLE,t.value=null),t}function G(e){var t=e.annualMiles?d.e(e.annualMiles):"0";return{label:s.DealSummaryLabels.ANNUAL_MILES,value:t,id:a.ANNUAL_MILES}}var Y,H=n(10),K=n(5),z=Object(o.connect)(function(e,t){var n=l.selectors.getSelectedTerm(e)||{},r=Object(H.e)(e),a=l.selectors.getCurrentOfferType(e),i=n.amountFinanced,o=l.selectors.getAnnualMiles(e),c=l.selectors.findAllIncentiveTotalFromOffer(e.offer,a),s=n.apr,u=n.dealerFees,d=Object(K.l)(e),m=l.selectors.getDueAtSigning(e),f=n.fees,p=Object(H.J)(e.tradeIn),h=l.selectors.isVehicleSinglePrice(e),b=g.selectors.isTaxesIncluded(Object(K.h)(e),e.toggles),v=g.selectors.getIncludeGovernmentFees(Object(K.h)(e),e.toggles),y=l.selectors.getVehicleDetails(e).listedPrice,E=n.securityDeposit,O=n.monthlyPaymentRounded,I=Object(H.n)(r)-Object(H.f)(r),T=l.selectors.getOfferPrice(e),C=l.selectors.getVehicleDetails(e).retailPrice,N=n.months,S=l.selectors.getTotalTax(e,a),D=t.useNewLeaseVerbiage,A=l.selectors.getVehicleDetails(e).condition,P={amountFinanced:i,annualMiles:o,appliedIncentiveAmount:c,apr:s,dealerFees:u,deductDueAtSigningDealerPref:d,dueAtSigning:m,fees:f,isAmountAppliedToFinancing:p,isSinglePrice:h,includeTaxes:b,includeGovFees:v,listedPrice:y,firstMonthPayment:O,netCashDown:l.selectors.getNetCashDown(e),netTradeIn:I,offerPrice:T,offerType:a,retailPrice:C,securityDeposit:E,term:N,totalTax:S,useNewLeaseVerbiage:D,vehicleCondition:A};return n.hasOwnProperty("acqLoanFee")&&(P.acqLoanFee=n.acqLoanFee,P.isAcqLoanFeeCapped=n.isAcqLoanFeeCapped),{dealSummaryData:_(P),offerType:a}})(I),W=n(67),q=n.n(W),X=n(14),Z=n(69),$=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=X.a.staticAssets,Q=c.urlBuilder.buildFromConfig(J,"/img/money-tag.svg"),ee=c.urlBuilder.buildFromConfig(J,"/img/p202/pencil.svg"),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype.renderHeading=function(){return f.a.createElement("div",{className:"heading"},"Payment Breakdown")},t.prototype.renderMyPrice=function(e){return f.a.createElement("div",{className:"line-item my-price"},f.a.createElement("div",null,"My Price"),f.a.createElement("div",null,Object(d.c)(e)))},t.prototype.renderIncentives=function(e){return e>0&&f.a.createElement("div",{className:"line-item incentives highlighted"},f.a.createElement("div",null,f.a.createElement(Z.a,{className:"dr-money-tag-icon",iconUrl:Q}),"Manufacturer Incentive"),f.a.createElement("div",null,Object(d.c)(e)))},t.prototype.renderNetTradeInValue=function(e){var t=e>0?"favorable":"";return Boolean(e)&&f.a.createElement("div",{className:"line-item trade-allowance "+t},f.a.createElement("div",null,"Net Trade-In Value"),f.a.createElement("div",null,Object(d.c)(-1*e)))},t.prototype.renderTotalFees=function(e,t){var n=this.props.taxesAndFeesLabel,r=e>0;return f.a.createElement("div",{className:q()("line-item","taxes-and-fees",{fees:r})},f.a.createElement("div",null,n),f.a.createElement("div",null,r?f.a.createElement(f.a.Fragment,null,Object(d.c)(e)," ",f.a.createElement("a",{className:"calculate-taxes-and-fees",onClick:t},f.a.createElement(Z.a,{className:"pencil",iconUrl:ee}))):f.a.createElement("a",{className:"calculate-taxes-and-fees",onClick:t},"Calculate")))},t.prototype.renderFinanceSummary=function(){var e=this.props,t=e.offerPrice,n=e.term,r=e.apr,a=e.downPayment,i=e.appliedIncentiveAmount,o=e.totalFees,l=e.amountFinanced,c=e.handleCalculateClick,s=e.netTradeInValue;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"payment-breakdown payment-breakdown-finance"},this.renderHeading(),f.a.createElement("div",{className:"stats"},f.a.createElement("div",{className:"term"},f.a.createElement("div",null,"Term"),f.a.createElement("div",null,f.a.createElement("strong",null,n)," mos")),f.a.createElement("div",{className:"apr"},f.a.createElement("div",null,"APR"),f.a.createElement("div",null,f.a.createElement("strong",null,r,"%"))),f.a.createElement("div",{className:"cash-down"},f.a.createElement("div",null,"Cash Down"),f.a.createElement("div",null,f.a.createElement("strong",null,Object(d.c)(a))))),f.a.createElement("hr",null),this.renderMyPrice(t),f.a.createElement("div",{className:"line-item cash-down favorable"},f.a.createElement("div",null,"Cash Down"),f.a.createElement("div",null,"-",Object(d.c)(a))),this.renderIncentives(i),this.renderNetTradeInValue(s),this.renderTotalFees(o,c),f.a.createElement("hr",null),f.a.createElement("div",{className:"line-item bottom-line total-financed"},f.a.createElement("div",null,"Est. Total Financed"),f.a.createElement("div",null,Object(d.c)(l))),f.a.createElement("hr",null)))},t.prototype.renderLeaseSummary=function(){var e=this.props,t=e.offerPrice,n=e.term,r=e.apr,a=e.dueAtSigning,i=e.firstMonthPayment,o=e.appliedIncentiveAmount,l=e.totalFees,c=e.amountFinanced,s=e.handleCalculateClick,u=e.netTradeInValue;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"payment-breakdown payment-breakdown-lease"},this.renderHeading(),f.a.createElement("div",{className:"stats"},f.a.createElement("div",{className:"term"},f.a.createElement("div",null,"Lease Term"),f.a.createElement("div",null,f.a.createElement("strong",null,n)," mos")),f.a.createElement("div",{className:"apr"},f.a.createElement("div",null,"APR"),f.a.createElement("div",null,f.a.createElement("strong",null,r,"%"))),f.a.createElement("div",{className:"due-at-signing"},f.a.createElement("div",null,"Due at Signing"),f.a.createElement("div",null,f.a.createElement("strong",null,Object(d.c)(a))))),f.a.createElement("hr",null),this.renderMyPrice(t),f.a.createElement("div",{className:"line-item due-at-signing favorable"},f.a.createElement("div",null,"Due at Signing"),f.a.createElement("div",null,Object(d.c)(a))),this.renderIncentives(o),this.renderNetTradeInValue(u),this.renderTotalFees(l,s),f.a.createElement("div",{className:"line-item first-month-payment"},f.a.createElement("div",null,"First Month's Payment"),f.a.createElement("div",null,Object(d.c)(i))),f.a.createElement("hr",null),f.a.createElement("div",{className:"line-item bottom-line adjusted-cap-cost"},f.a.createElement("div",null,"Est. Adjusted Cap Cost"),f.a.createElement("div",null,Object(d.c)(c))),f.a.createElement("hr",null)))},t.prototype.renderCashSummary=function(){var e=this.props,t=e.offerPrice,n=e.cashOffer,r=e.totalFees,a=e.appliedIncentiveAmount,i=e.handleCalculateClick,o=e.netTradeInValue;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"payment-breakdown payment-breakdown-cash"},this.renderHeading(),f.a.createElement("hr",null),this.renderMyPrice(t),this.renderIncentives(a),this.renderNetTradeInValue(o),this.renderTotalFees(r,i),f.a.createElement("hr",null),f.a.createElement("div",{className:"line-item bottom-line cash-payment"},f.a.createElement("div",null,"Est. Cash Payment"),f.a.createElement("div",null,Object(d.c)(n))),f.a.createElement("hr",null)))},t.prototype.render=function(){var e;return this.props.offerType===s.FINANCE&&(e=this.renderFinanceSummary()),this.props.offerType===s.LEASE&&(e=this.renderLeaseSummary()),this.props.offerType===s.CASH&&(e=this.renderCashSummary()),f.a.createElement("div",{id:"deal-summary"},e)},t}(f.a.Component),ne=n(15),re=((Y={})[K.a.INCLUDE_ONLY_TAXES]="Taxes & Fees",Y[K.a.INCLUDE_TAXES_AND_FEES]="Taxes & Fees",Y[K.a.EXCLUDE_TAXES_AND_FEES]="Fees",Y),ae=Object(o.connect)(function(e,t){var n=l.selectors.getSelectedTerm(e)||{},r=l.selectors.getCurrentOfferType(e),a=n.amountFinanced,i=l.selectors.findAllIncentiveTotalFromOffer(e.offer,r),o=n.apr,c=l.selectors.getNetCashDown(e),s=l.selectors.getDueAtSigning(e),u=n.monthlyPaymentRounded,d=l.selectors.getOfferPrice(e),m=n.months,f=l.selectors.getCashOfferRoundedUp(e),p=l.selectors.getTotalUnifiFees(e),h=Number(l.selectors.getTradeInValue(e))-Number(l.selectors.getTradeInAmountOwed(e)),b=isNaN(h)?null:h,v=Object(K.d)(e);return{offerType:r,offerPrice:d,term:m,apr:o,downPayment:c,dueAtSigning:s,firstMonthPayment:u,appliedIncentiveAmount:i,amountFinanced:a,cashOffer:f,totalFees:p,netTradeInValue:b,taxesAndFeesLabel:re[v]}},function(e){return{handleCalculateClick:function(){e(Object(ne.f)("landingPage")),e(Object(ne.e)())}}})(te),ie=n(64),oe=b.a.CashDealSummary.Container,le=function(e){var t,n,r,a,i,o,l,c,u;return Object(K.G)()?(t=e.goToEditor,n=e.onNextRoute,r=e.paymentNotAvailable,a=e.disclaimerText,i=e.customSecondDisclaimer,o=e.useNewLeaseVerbiage,l=ae,c=s.labels.getLabel(s.labels.ADVERTISED_PRICE),u=s.labels.getLabel(s.labels.SUMMARY_SPECIALS_TITLE),f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"pencil-summary"},f.a.createElement("div",{className:"dr-ui-summary-container-sidebar"},f.a.createElement(l,{advertisedPriceLabel:c,specialsLabel:u,useNewLeaseVerbiage:o,history:ie.a})),f.a.createElement("div",{className:"button-container"},f.a.createElement(p.a,{to:"/editor"},f.a.createElement("button",{className:"btn btn-secondary btn-block btn-close",type:"button",onClick:t},"Close")))),f.a.createElement(v.a,{disclaimerText:a,notAvailable:r,onNextRoute:n,customSecondDisclaimer:i}))):function(){var t,n=e.goToEditor,r=e.offerType,a=e.onNextRoute,i=e.paymentNotAvailable,o=e.disclaimerText,l=e.customSecondDisclaimer,c=e.useNewLeaseVerbiage;t=r===s.CASH?oe:z;var u=s.labels.getLabel(s.labels.ADVERTISED_PRICE),d=s.labels.getLabel(s.labels.SUMMARY_SPECIALS_TITLE);return f.a.createElement("div",{className:"pencil-summary"},f.a.createElement("div",{className:"summary-header"},f.a.createElement("span",null,"My ",r," Summary")),f.a.createElement(p.a,{to:"/disclaimer"},f.a.createElement("a",{id:"disclaimer-link",className:"disclaimer-link"},"View Disclaimers")),f.a.createElement("div",{className:"dr-ui-summary-container-sidebar"},f.a.createElement(t,{advertisedPriceLabel:u,specialsLabel:d,useNewLeaseVerbiage:c})),f.a.createElement(p.a,{to:"/editor"},f.a.createElement("button",{className:"btn btn-secondary btn-block btn-close",type:"button",onClick:n},"Close")),f.a.createElement(v.a,{disclaimerText:o,notAvailable:i,onNextRoute:a,customSecondDisclaimer:l}))}()},ce=Object(o.connect)(function(e,t){var n,r=l.selectors.getCurrentOfferType(e),a=l.selectors.getOfferDetails(e,r),i=l.selectors.getOfferSummaryByUserSelectedOfferType(e),o=0,m=0,f=l.selectors.getMonthlyPaymentRoundedByOfferType(e,r),p=Object(s.isPaymentInvalid)(f,r);"finance"===r?o=l.selectors.getFinanceTermAPR(e):"cash"===r?p=!1:m=Object(d.f)(a.annualMiles);var h=Object(d.c)(a.downPayment),b=(null===(n=l.selectors.getAllTermsFromOffer(e.offer)[a.term])||void 0===n?void 0:n.months)+" months",v=l.selectors.getShortDisclaimerData(e);return{annualMiles:m,apr:o,downPayment:h,offerSummary:i,offerType:r,paymentNotAvailable:p,termMonthsLabel:b,disclaimerText:c.formatUtils.formatShortDisclaimer(v),customSecondDisclaimer:s.labels.getLabel(s.labels.DISCLAIMER),useNewLeaseVerbiage:Object(u.a)(e)}})(le);t.a=ce},567:function(e,t,n){"use strict";var r,a,i,o=n(11),l=n(1),c=n(12),s=n(7),u=n(21),d=n(41),m=n(6),f=n(28),p=n(60),h=n(0),b=n.n(h),v=n(5),g=n(67),y=n.n(g),E=n(14),O=n(69),I=n(96),T=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=E.a.staticAssets,_=c.urlBuilder.buildFromConfig(C,"/img/money-tag.svg"),N=c.urlBuilder.buildFromConfig(C,"/img/p202/pencil.svg"),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.renderFinanceSummary=function(){var e=this.props,t=e.offerPrice,n=e.term,r=e.apr,a=e.downPayment,i=e.appliedIncentiveAmount,o=e.amountFinanced,l=e.payment,c=e.isLoading,s=e.paymentNotAvailable,u=e.errorText,d=e.netTradeInValue,f=h.createElement("div",{className:"payment-per-month-wrapper"},h.createElement("div",{className:"payment-per-month"},Object(m.c)(l),"/mo*"),h.createElement("div",{className:"payment-loader "+(c?"loading":"")},h.createElement(I.a,null)));s&&(f=h.createElement("div",null,"Price not available")),u&&(f=h.createElement("div",{className:"payment-per-month"},"$--/mo*"));var p=d>0?"favorable":"";return h.createElement(h.Fragment,null,h.createElement("div",{className:"payment-breakdown-wide payment-breakdown-finance"},h.createElement("div",{className:"stats-container"},h.createElement("div",{className:"est-payment"},"Your Estimated Payment"),f,h.createElement("hr",null),h.createElement("div",{className:"stats"},h.createElement("div",{className:"term"},h.createElement("div",null,"Term"),h.createElement("div",null,h.createElement("strong",null,n||"--")," mos")),h.createElement("div",{className:"apr"},h.createElement("div",null,"APR"),h.createElement("div",null,h.createElement("strong",null,r||"--","%"))),h.createElement("div",{className:"cash-down"},h.createElement("div",null,"Cash Down"),h.createElement("div",null,h.createElement("strong",null,Object(m.c)(a,"$0")))))),h.createElement("div",{className:"heading"},"Payment Breakdown"),h.createElement("hr",null),h.createElement("div",{className:"line-item my-price"},h.createElement("div",null,"Vehicle Price"),h.createElement("div",null,Object(m.c)(t))),h.createElement("div",{className:"line-item cash-down favorable"},h.createElement("div",null,"Cash Down"),h.createElement("div",null,"-",Object(m.c)(a,"$0"))),i>0&&h.createElement("div",{className:"line-item incentives highlighted"},h.createElement("div",null,h.createElement(O.a,{className:"dr-money-tag-icon",iconUrl:_}),"Manufacturer Incentive"),h.createElement("div",null,Object(m.c)(i))),Boolean(d)&&h.createElement("div",{className:"line-item trade-allowance "+p},h.createElement("div",null,"Net Trade-In Value"),h.createElement("div",null,Object(m.c)(-1*d))),this.renderTaxesAndFees(),h.createElement("hr",null),h.createElement("div",{className:"line-item bottom-line total-financed"},h.createElement("div",null,"Est. Total Financed"),h.createElement("div",null,Object(m.c)(o))),h.createElement("hr",null)))},t.prototype.renderLeaseSummary=function(){var e=this.props,t=e.offerPrice,n=e.term,r=e.apr,a=e.dueAtSigning,i=e.firstMonthPayment,o=e.appliedIncentiveAmount,l=e.payment,c=e.isLoading,s=e.amountFinanced,u=e.paymentNotAvailable,d=e.errorText,f=e.netTradeInValue,p=h.createElement("div",{className:"payment-per-month-wrapper"},h.createElement("div",{className:"payment-per-month"},Object(m.c)(l),"/mo*"),h.createElement("div",{className:"payment-loader "+(c?"loading":"")},h.createElement(I.a,null)));u&&(p=h.createElement("div",null,"Price not available")),d&&(p=h.createElement("div",{className:"payment-per-month"},"$--/mo*"));var b=f>0?"favorable":"";return h.createElement(h.Fragment,null,h.createElement("div",{className:"payment-breakdown-wide payment-breakdown-lease"},h.createElement("div",{className:"stats-container"},h.createElement("div",{className:"est-payment"},"Your Estimated Payment"),p,h.createElement("hr",null),h.createElement("div",{className:"stats"},h.createElement("div",{className:"term"},h.createElement("div",null,"Lease Term"),h.createElement("div",null,h.createElement("strong",null,n||"--")," mos")),h.createElement("div",{className:"apr"},h.createElement("div",null,"APR"),h.createElement("div",null,h.createElement("strong",null,r||"--","%"))),h.createElement("div",{className:"due-at-signing"},h.createElement("div",null,"Due at Signing"),h.createElement("div",null,h.createElement("strong",null,Object(m.c)(a)))))),h.createElement("div",{className:"heading"},"Payment Breakdown"),h.createElement("hr",null),h.createElement("div",{className:"line-item my-price"},h.createElement("div",null,"Vehicle Price"),h.createElement("div",null,Object(m.c)(t))),h.createElement("div",{className:"line-item due-at-signing favorable"},h.createElement("div",null,"Due at Signing"),h.createElement("div",null,"-",Object(m.c)(a))),o>0&&h.createElement("div",{className:"line-item incentives highlighted"},h.createElement("div",null,h.createElement(O.a,{className:"dr-money-tag-icon",iconUrl:_}),"Manufacturer Incentive"),h.createElement("div",null,Object(m.c)(o))),Boolean(f)&&h.createElement("div",{className:"line-item trade-allowance "+b},h.createElement("div",null,"Net Trade-In Value"),h.createElement("div",null,Object(m.c)(-1*f))),this.renderTaxesAndFees(),h.createElement("div",{className:"line-item first-month-payment"},h.createElement("div",null,"First Month's Payment"),h.createElement("div",null,Object(m.c)(i))),h.createElement("hr",null),h.createElement("div",{className:"line-item bottom-line adjusted-cap-cost"},h.createElement("div",null,"Est. Adjusted Cap Cost"),h.createElement("div",null,Object(m.c)(s))),h.createElement("hr",null)))},t.prototype.renderTaxesAndFees=function(){var e=this.props,t=e.totalFees,n=e.handleCalculateClick,r=e.taxesAndFeesLabel,a=t>0;return h.createElement("div",{className:y()("line-item","taxes-and-fees",{fees:a})},h.createElement("div",null,r),h.createElement("div",null,a?h.createElement(h.Fragment,null,Object(m.c)(t)," ",h.createElement("a",{className:"calculate-taxes-and-fees",onClick:n},h.createElement(O.a,{className:"pencil",iconUrl:N}))):h.createElement("a",{className:"calculate-taxes-and-fees",onClick:n},"Calculate")))},t.prototype.renderCashSummary=function(){var e=this.props,t=e.offerPrice,n=e.cashOffer,r=e.appliedIncentiveAmount,a=e.netTradeInValue,i=a>0?"favorable":"";return h.createElement(h.Fragment,null,h.createElement("div",{className:"payment-breakdown-wide payment-breakdown-cash"},h.createElement("div",{className:"stats-container"},h.createElement("div",{className:"est-payment"},"Cash Purchase Price"),h.createElement("div",{className:"payment-per-month"},Object(m.c)(n),"*")),h.createElement("div",{className:"heading"},"Payment Breakdown"),h.createElement("hr",null),h.createElement("div",{className:"line-item my-price"},h.createElement("div",null,"Vehicle Price"),h.createElement("div",null,Object(m.c)(t))),r>0&&h.createElement("div",{className:"line-item incentives highlighted"},h.createElement("div",null,h.createElement(O.a,{className:"dr-money-tag-icon",iconUrl:_}),"Manufacturer Incentive"),h.createElement("div",null,Object(m.c)(r))),Boolean(a)&&h.createElement("div",{className:"line-item trade-allowance "+i},h.createElement("div",null,"Net Trade-In Value"),h.createElement("div",null,Object(m.c)(-1*a))),this.renderTaxesAndFees(),h.createElement("hr",null),h.createElement("div",{className:"line-item bottom-line cash-payment"},h.createElement("div",null,"Est. Cash Payment"),h.createElement("div",null,Object(m.c)(n))),h.createElement("hr",null)))},t.prototype.render=function(){var e;return this.props.offerType===s.FINANCE&&(e=this.renderFinanceSummary()),this.props.offerType===s.LEASE&&(e=this.renderLeaseSummary()),this.props.offerType===s.CASH&&(e=this.renderCashSummary()),h.createElement("div",{className:"deal-summary-wide"},e)},t}(h.Component),D=n(15),A=((a={})[v.a.INCLUDE_ONLY_TAXES]="Taxes & Fees",a[v.a.INCLUDE_TAXES_AND_FEES]="Taxes & Fees",a[v.a.EXCLUDE_TAXES_AND_FEES]="Fees",a),P=Object(o.connect)(function(e,t){var n=l.selectors.getSelectedTerm(e)||{},r=l.selectors.getCurrentOfferType(e),a=n.amountFinanced,i=l.selectors.findAllIncentiveTotalFromOffer(e.offer,r),o=n.apr,c=l.selectors.getDownPayment(e),u=n.dueAtSigning,d=n.monthlyPaymentRounded,m=l.selectors.getOfferPrice(e),f=n.months,h=l.selectors.getCashOfferRoundedUp(e),b=l.selectors.getTotalUnifiFees(e),g=l.selectors.getMonthlyPaymentRoundedByOfferType(e,r),y=Object(p.a)(e),E=Object(s.isPaymentInvalid)(g,r,m),O=E?l.constants.PAYMENT_NOT_AVAILABLE_TEXT:null,I=Number(l.selectors.getTradeInValue(e))-Number(l.selectors.getTradeInAmountOwed(e)),T=isNaN(I)?null:I,C=Object(v.d)(e);return{offerType:r,offerPrice:m,term:f,apr:o,downPayment:c,dueAtSigning:u,firstMonthPayment:d,appliedIncentiveAmount:i,amountFinanced:a,cashOffer:h,totalFees:b,payment:g,isLoading:y,paymentNotAvailable:E,errorText:O,netTradeInValue:T,taxesAndFeesLabel:A[C]}},function(e){return{handleCalculateClick:function(){e(Object(D.f)("landingPage")),e(Object(D.e)())}}})(S),w=n(64),L=function(e){var t,n,r,a=e.paymentNotAvailable,i=e.useNewLeaseVerbiage,o=e.isLoading,l=e.isOfferCallInProgress,c=e.handlePrimaryCtaClick,u=e.handleSecondaryCtaClick,d=e.showBlur,m=s.labels.getLabel(s.labels.ADVERTISED_PRICE),f=s.labels.getLabel(s.labels.SUMMARY_SPECIALS_TITLE);return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"pencil-summary-container"},b.a.createElement("div",{className:"pencil-summary "+(d?"blurred":"")},b.a.createElement("div",{className:"dr-ui-summary-container-sidebar"},b.a.createElement(P,{advertisedPriceLabel:m,specialsLabel:f,useNewLeaseVerbiage:i,history:w.a})),b.a.createElement("div",{className:"button-container"},b.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},b.a.createElement("button",{id:"send-my-offer",className:"btn btn-block send-offer btn-primary",type:"button",onClick:c,disabled:a||o||l},function(){var t,n=e.isAtcSite,r=e.isAtcOrKbbSite,a=e.isVDPLeadFormEnabled,i=e.isOfferCallInProgress,o=e.offerSubmitSuccessful,l=e.secondaryButtonText;return i?a||(t="Loading..."):t=r?o?n?"Submit Your Offer":"Next: Calculate Taxes":!a||o?"Next: Calculate Taxes":"Submit Your Offer":o?a?"Submit Your Offer":l:!a||o?l:"Submit Your Offer",t}())),b.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},b.a.createElement("button",{id:"save-my-offer",className:"btn btn-block save-offer btn-secondary",type:"button",onClick:u,disabled:a||o||l},(t=e.isAtcOrKbbSite,n=e.isVDPLeadFormEnabled,r=e.secondaryButtonText,t&&n&&(r="Next: Calculate Taxes"),r)))))))},R=n(16),j=n(42),k=n(2),M=n(27),F=n(9),x=n(174),U=n(25),B=n(23),V=Object(B.a)()||{},G=U.b,Y=U.a.vdpLeadFormTest,H=((i={})[v.a.INCLUDE_ONLY_TAXES]="Next: Calculate Taxes",i[v.a.INCLUDE_TAXES_AND_FEES]="Next: Calculate Taxes",i[v.a.EXCLUDE_TAXES_AND_FEES]="Continue",i),K=function(e){var t=Object(F.h)(e),n=!!(["atc","kbb"].indexOf(t)>-1)||Object(x.b)(e);return G(Y,Y.noLeadFormSingleCta)?n=!1:G(Y,Y.leadFormWithTwoCtas)&&(n=!0),n},z=Object(o.connect)(function(e,t){var n,r,a=l.selectors.getCurrentOfferType(e),i=l.selectors.getOfferDetails(e,a),o=l.selectors.getOfferSummaryByUserSelectedOfferType(e),h=l.selectors.getMonthlyPaymentRoundedByOfferType(e,a),b="finance"===a?l.selectors.getFinanceTermAPR(e):0,g="finance"!==a&&"cash"!==a?Object(m.f)(i.annualMiles):0,y="cash"!==a&&Object(s.isPaymentInvalid)(h,a),E=(null===(n=t.history)||void 0===n?void 0:n.location).pathname,O="/editor/modal/returningUser"===E||"/editor/modal/onboarding"===E,I=Object(d.d)(e),T=Object(m.c)(i.downPayment),C=(null===(r=l.selectors.getAllTermsFromOffer(e.offer)[i.term])||void 0===r?void 0:r.months)+" months",_=l.selectors.getShortDisclaimerData(e),N=c.formatUtils.formatShortDisclaimer(_),S=s.labels.getLabel(s.labels.DISCLAIMER),D=Object(d.a)(e),A=Object(d.i)(e)&&!u.selectors.getIsPaymentDriverPreferred(e.dealer),P=(Object(v.G)(),Object(p.a)(e)),w=Object(f.e)(e),L=V.enableDsBuyItNow||V.showReservationsButtonForDealStarter,R=Object(f.f)(e),j=["atc","kbb"].indexOf(Object(F.h)(e).toLowerCase())>-1,k=!L&&K(e);return{annualMiles:g,apr:b,downPayment:T,offerSummary:o,offerType:a,paymentNotAvailable:y,termMonthsLabel:C,disclaimerText:N,customSecondDisclaimer:S,useNewLeaseVerbiage:D,useOfferBasedDealSummary:A,useV2DealSummary:I,isLoading:P,isOfferCallInProgress:w,showBlur:O,isAtcSite:["atc"].indexOf(Object(F.h)(e).toLowerCase())>-1,isAtcOrKbbSite:j,isVDPLeadFormEnabled:k,offerSubmitSuccessful:R,secondaryButtonText:Object(v.G)()?function(e){var t,n=Object(v.d)(e);return null!=(t=H[n])?t:"Next: Calculate Taxes"}(e):function(e){var t,n=Object(v.d)(e),r=null!=(t=H[n])?t:"Continue";return Object(d.b)(e)?r:"Continue"}(e)}},function(e,t){return{handlePrimaryCtaClick:function(){R.d("VDP_PRIMARY_CTA_CLICKED"),e(function(e,n){var r=n(),a=K(r),i=Object(f.f)(r);if(a&&!i)t.history.push("/editor/leadForm/primaryPencilCta"),e(Object(j.b)(k.w));else{var o=Object(v.G)()?"dashboard":"landingPage";e(Object(D.f)(o)),e(Object(D.e)()),e(Object(j.b)(k.m,"VDP Primary CTA Clicked")),i&&e(Object(M.goToSuccessLanding)())}})},handleSecondaryCtaClick:function(){e(function(t,n){n();var r=Object(v.G)()?"dashboard":"landingPage";R.d("VDP_CONTINUE_WITH_PMT_CLICKED"),e(Object(D.f)(r)),e(Object(D.e)()),e(Object(j.b)(k.m,"VDP Secondary CTA Clicked"))})}}})(L);t.a=z},568:function(e,t,n){"use strict";var r,a=n(11),i=n(27),o=n(0),l=n.n(o),c=n(3),s=n.n(c),u=n(1),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.formatFees=function(){return(this.props.minimumCashDownSummaryArray||[]).map(function(e){return l.a.createElement("div",{key:e.name},l.a.createElement("span",{className:"cash-down-item"},l.a.createElement("div",{className:"cash-down-item-name"},e.name),l.a.createElement("div",{className:"cash-down-item-value"},"$",e.value)),l.a.createElement("hr",null))})},t.prototype.render=function(){var e=this.props.minimumCashDown,t=this.formatFees();return l.a.createElement("div",{className:"cash-down-items-container"},l.a.createElement("div",{className:"formatted-items"},t),l.a.createElement("div",{className:"cash-down-total"},l.a.createElement("div",{className:"cash-down-total-name"},"Minimum Due At Signing"),l.a.createElement("div",{className:"cash-down-total-value"},"$",e)))},t}(l.a.Component),f=Object(a.connect)(function(e,t){var n=u.selectors.getCurrentOfferType(e);return{minimumCashDown:u.selectors.getMinimumCashDown(e,n),minimumCashDownSummaryArray:u.selectors.getMinimumCashDownSummary(e,n)}})(m),p={onCancelClick:s.a.func.isRequired},h=function(e){var t=e.onCancelClick;return l.a.createElement("div",{className:"due-at-signing-breakdown-container"},l.a.createElement("div",{className:"due-at-signing-breakdown-header"},l.a.createElement("span",{className:"breakdown-header"},"Minimum Cash Down"),l.a.createElement("br",null),l.a.createElement("p",null,"Certain fees or payments are required to be paid at signing per state laws, the lender, or our dealership.")),l.a.createElement("div",{className:"due-at-signing-breakdown-body"},l.a.createElement(f,{analyticsId:"display-due-at-signing-breakdown"}),l.a.createElement("div",{className:"form-group actions"},l.a.createElement("button",{className:"btn btn-secondary btn-block btn-close",type:"button",id:"cash-down-breakdown-close","data-analytics":"button-zip-cancel",onClick:t},"Close"))))};h.propTypes=p;var b=h,v=Object(a.connect)(null,function(e){return{onCancelClick:function(){e(i.closeDueAtSigningBreakdown())}}})(b);t.a=v},569:function(e,t,n){"use strict";var r,a,i,o,l,c,s,u,d,m,f,p,h=n(11),b=n(1),v=n(7),g=n(15),y=n(6),E=n(60),O=n(0),I=n.n(O),T=n(31),C=n(34),_=n(24),N=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=C.default.div(r||(r=N(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n"]))),D=C.default.div(a||(a=N(["\n    font-size: ",";\n    font-weight: bold;\n    color: ",";\n"],["\n    font-size: ",";\n    font-weight: bold;\n    color: ",";\n"])),Object(_.a)(30),function(e){return e.theme.primaryFontColor}),A=Object(C.default)(T.Button)(i||(i=N(["\n    margin-bottom: ",";\n    width: ",";\n"],["\n    margin-bottom: ",";\n    width: ",";\n"])),Object(_.a)(15),Object(_.a)(170)),P=C.default.div(o||(o=N(["\n    font-size: ",";\n    margin-bottom: ",";\n"],["\n    font-size: ",";\n    margin-bottom: ",";\n"])),Object(_.a)(15),Object(_.a)(10)),w=C.default.div(l||(l=N(["\n    font-size: ",";\n"],["\n    font-size: ",";\n"])),Object(_.a)(16)),L=C.default.div(c||(c=N(["\n    height: ",";\n    display: flex;\n    align-items: center;\n"],["\n    height: ",";\n    display: flex;\n    align-items: center;\n"])),Object(_.a)(50)),R=C.default.div(s||(s=N(["\n    display: flex;\n    margin: "," 0;\n"],["\n    display: flex;\n    margin: "," 0;\n"])),Object(_.a)(5)),j=C.default.div(u||(u=N(["\n    display: flex;\n    font-size: ",";\n    justify-content: center;\n    align-items: center;\n    border: "," solid ",";\n    height: ",";\n    border-radius: 50%;\n    -moz-border-radius: 50%;\n    -webkit-border-radius: 50%;\n    width: ",";\n    margin-right: ",";\n"],["\n    display: flex;\n    font-size: ",";\n    justify-content: center;\n    align-items: center;\n    border: "," solid ",";\n    height: ",";\n    border-radius: 50%;\n    -moz-border-radius: 50%;\n    -webkit-border-radius: 50%;\n    width: ",";\n    margin-right: ",";\n"])),Object(_.a)(12),Object(_.a)(1),function(e){return e.theme.primaryButtonColor},Object(_.a)(20),Object(_.a)(20),Object(_.a)(10)),k=Object(C.default)(T.RadioGroup)(d||(d=N(["\n    width: 100%;\n"],["\n    width: 100%;\n"]))),M=Object(C.default)(T.RadioTile)(m||(m=N(["\n    border: "," solid red;\n"],["\n    border: "," solid red;\n"])),Object(_.a)(1)),F=C.default.hr(f||(f=N(["\n    height: ",";\n    width: 90%;\n    margin: "," 0 !important;\n"],["\n    height: ",";\n    width: 90%;\n    margin: "," 0 !important;\n"])),Object(_.a)(1),Object(_.a)(10)),x=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOfferTypeUpdate=function(e){var n=e.target.value;t.props.offerType!==n&&t.props.onOfferTypeSelected(n)},t.renderPriceText=function(){return t.props.isLoading?I.a.createElement(T.Spinner,{id:"price-loading-spinner"}):t.props.paymentNotAvailable?I.a.createElement(w,null,t.props.errorText):I.a.createElement(D,null,t.props.payment," / mo*")},t}return x(t,e),t.prototype.componentDidMount=function(){document.querySelector(".loading-indicator").classList.remove("loading")},t.prototype.render=function(){var e=this.props.paymentNotAvailable;return this.props.children?I.a.createElement(S,null,this.props.children):I.a.createElement(S,null,I.a.createElement(k,{name:"offer-type-tabs",value:this.props.offerType,onChangeFunction:this.handleOfferTypeUpdate},I.a.createElement(M,{id:"finance-offer-tab",value:"finance",label:"Finance"}),this.props.shouldDisplayLeaseTab&&I.a.createElement(M,{id:"lease-offer-tab",value:"lease",label:"Lease"})),I.a.createElement(L,null,this.renderPriceText()),I.a.createElement("div",null,!e&&I.a.createElement(T.A,{id:"payment-details-link",onClick:this.props.onPaymentDetailsLinkClicked},"Payment Details")),I.a.createElement(F,null),I.a.createElement(P,null,I.a.createElement(R,null,I.a.createElement(j,null,"1"),"Find Your Payment"),I.a.createElement(R,null,I.a.createElement(j,null,"2"),"Add Your Trade-in"),I.a.createElement(R,null,I.a.createElement(j,null,"3"),"Protect Your Vehicle"),I.a.createElement(R,null,I.a.createElement(j,null,"4"),"Get Financing")),I.a.createElement("div",{className:"ctas"},I.a.createElement(A,{id:"buy-now-btn",onClick:this.props.onBuyNowClicked,disabled:e},"Start Your Offer"),I.a.createElement(T.A,{id:"apply-for-credit-link",style:{display:"block",textAlign:"center",cursor:"pointer"},onClick:this.props.onApplyForCreditLinkClicked},"Apply for Credit")))},t}(I.a.Component),B=n(5),V=Object(h.connect)(function(e){var t=b.selectors.getCurrentOfferType(e),n=b.selectors.getMonthlyPaymentRoundedByOfferType(e,t),r="cash"!==t&&Object(E.a)(e),a=Object(v.isPaymentInvalid)(n,t),i=a?b.constants.PAYMENT_NOT_AVAILABLE_TEXT:null,o=b.selectors.shouldDisplayLease(e);return{payment:Object(y.c)(n),offerType:t,isLoading:r,paymentNotAvailable:a,errorText:i,shouldDisplayLeaseTab:o}},function(e){return{onBuyNowClicked:function(){e(function(e,t){t();var n=Object(B.G)()?"dashboard":"landingPage";e(g.f(n)),e(g.e())})},onPaymentDetailsLinkClicked:function(){e(g.f("paymentOptions")),e(g.e())},onApplyForCreditLinkClicked:function(){e(g.f("credit")),e(g.e())},onOfferTypeSelected:function(t){e(b.actionCreators.updatedOfferType(t))}}})(U);t.a=V},570:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(559),o=n.n(i),l={position:"absolute",top:"50px",left:"50px",width:"225px",background:"white",border:"1px solid black",padding:"5px",boxShadow:"5px 5px 5px grey"},c={width:"100%",height:"25px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"move"},s={display:"flex",justifyContent:"space-between",marginBottom:"5px"},u={position:"absolute",right:"5px",top:"5px",fontSize:"15px",cursor:"pointer"};t.a=function(e){return a.a.createElement(o.a,{handle:"#dev_helper_header"},a.a.createElement("div",{style:l,id:"dev_helper_root"},a.a.createElement("div",{style:c,id:"dev_helper_header"},"Click to drag",a.a.createElement("i",{onClick:e.onCloseClick,style:u,className:"fa fa-times"})),a.a.createElement("div",{style:s},a.a.createElement("button",{onClick:e.onPrevThemeClick},"Prev"),a.a.createElement("select",{onChange:function(t){return e.onThemeChange(t.target.value)},value:e.currentTheme},e.themeList.map(function(e){return a.a.createElement("option",{key:e},e)})),a.a.createElement("button",{onClick:e.onNextThemeClick},"Next"))))}},571:function(e,t,n){"use strict";var r=n(11),a=n(15),i=n(0),o=n.n(i),l=n(54),c=n(12),s=n(263),u=n(14),d=n(69),m=u.a.staticAssets,f=c.urlBuilder.buildFromConfig(m,"/img/deposit-icon.svg"),p=c.urlBuilder.buildFromConfig(m,"/img/clock.svg"),h=c.urlBuilder.buildFromConfig(m,"/img/how-it-works-video-image-no-thumbs.svg"),b=function(e){var t=o.a.createElement("div",{className:"dr-shopper-education-column__video-thumb-container"},o.a.createElement("a",{onClick:e.onHowItWorksClick,className:"dr-shopper-education-column__video-link"},o.a.createElement("img",{className:"dr-shopper-education-column__video-thumb",src:h})));return o.a.createElement("div",{className:"dr-shopper-education-column"},o.a.createElement(s.a,null),o.a.createElement(l.a,{query:"(min-width: 722px)"},function(e){return e?t:null}),o.a.createElement("div",{className:"dr-shopper-education-column__info-items"},o.a.createElement("div",{className:"dr-shopper-education-column__info-item"},o.a.createElement(d.a,{className:"dr-shopper-education-column__real-payments-icon",iconUrl:f}),o.a.createElement("div",{className:"dr-shopper-education-column__info-item-title"},"Get Real Payments"),o.a.createElement("div",null,"Be in control of your purchase - enter your                                 ZIP code to get updated taxes & specials for real monthly payments.")),o.a.createElement("div",{className:"dr-shopper-education-column__info-items-divider"}," "),o.a.createElement("div",{className:"dr-shopper-education-column__info-item"},o.a.createElement(d.a,{className:"dr-shopper-education-column__clock-icon",iconUrl:p}),o.a.createElement("div",{className:"dr-shopper-education-column__info-item-title"},"Quick Dealership Visit"),o.a.createElement("div",null,"Accelerate your deal! Save time at the dealership when you start the deal online."))))},v=Object(r.connect)(null,function(e){return{onHowItWorksClick:function(){e(a.c())}}})(b);t.a=v},572:function(e,t,n){"use strict";var r=n(11),a=n(1),i=n(27),o=n(0),l=n.n(o),c=n(3),s=n.n(c),u={minimumCashDown:s.a.number.isRequired,onCancelClick:s.a.func.isRequired,minimumCashDownSummaryArray:s.a.arrayOf(s.a.object).isRequired,downPayment:s.a.number.isRequired,adjustedDownPayment:s.a.number.isRequired},d=function(e){var t=e.onCancelClick,n=e.minimumCashDown,r=e.minimumCashDownSummaryArray,a=e.downPayment,i=e.adjustedDownPayment,o=r||[];return l.a.createElement("div",{className:"due-at-signing-breakdown-container"},l.a.createElement("div",{className:"due-at-signing-breakdown-header"},l.a.createElement("span",{className:"breakdown-header"},"Adjusted Cash Down"),l.a.createElement("br",null),l.a.createElement("p",null,"Certain fees or payments are required to be paid at signing per state laws, the lender, or our dealership."),l.a.createElement("p",null,"Your cash down has been reduced by the total fees due at signing.")),l.a.createElement("div",{className:"due-at-signing-breakdown-body"},l.a.createElement("div",{className:"adjusted-cash-down-items-container"},l.a.createElement("div",{className:"adjusted-cash-down-total"},l.a.createElement("div",{className:"adjusted-cash-down-total-name"},"Cash Down"),l.a.createElement("div",{className:"adjusted-cash-down-total-value"},"$",a)),l.a.createElement("div",{className:"adjusted-cash-down-total"},l.a.createElement("div",{className:"adjusted-cash-down-total-name"},"Fees Due at Signing"),l.a.createElement("div",{className:"adjusted-cash-down-total-value"},"-$",n)),l.a.createElement("div",{className:"formatted-items"},o.map(function(e){return l.a.createElement("div",{key:e.name},l.a.createElement("span",{className:"adjusted-cash-down-item"},l.a.createElement("div",{className:"adjusted-cash-down-item-name"},e.name),l.a.createElement("div",{className:"adjusted-cash-down-item-value"},"$",e.value)))})),l.a.createElement("hr",null),l.a.createElement("div",{className:"adjusted-cash-down-total"},l.a.createElement("div",{className:"adjusted-cash-down-total-name"},"Adjusted Cash Down"),l.a.createElement("div",{className:"adjusted-cash-down-total-value"},"$",i))),l.a.createElement("div",{className:"form-group actions"},l.a.createElement("button",{className:"btn btn-secondary btn-block btn-close",type:"button","data-analytics":"button-zip-cancel",onClick:t},"Close"))))};d.propTypes=u;var m=d,f=Object(r.connect)(function(e){var t=a.selectors.getCurrentOfferType(e);return{minimumCashDown:a.selectors.getMinimumCashDown(e,t),minimumCashDownSummaryArray:a.selectors.getMinimumCashDownSummary(e,t),downPayment:a.selectors.getDownPayment(e),adjustedDownPayment:a.selectors.getAdjustedDownPayment(e)}},function(e){return{onCancelClick:function(){e(i.closeAdjustedCashDownBreakdown())}}})(m);t.a=f},573:function(e,t,n){"use strict";var r,a=n(11),i=n(39),o=n(0),l=n.n(o),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.render=function(){return l.a.createElement("div",{className:"my-deals-container"},l.a.createElement("p",{className:"my-deals-text"},"My Deals"),l.a.createElement("p",{className:"my-deals-subtext"},"Below are the deals you submitted online"),l.a.createElement("div",{className:"my-deals-buttons"},l.a.createElement("button",{className:"btn btn-secondary btn-block btn-close",onClick:this.props.onCloseClick},"Close")))},t}(l.a.Component),u=n(110),d=Object(a.connect)(function(e){return{email:u.a(e),pinCode:u.d(e)}},function(e,t){return{onCloseClick:function(){e(Object(i.goBack)()),e(Object(i.goBack)()),e(Object(i.goBack)())}}})(s);t.a=d},574:function(e,t,n){"use strict";var r,a=n(11),i=n(39),o=n(0),l=n.n(o),c=n(31),s=n(12),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(t){var n=e.call(this,t)||this;return n.getObscuredEmailAddress=n.getObscuredEmailAddress.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.onNextClick=n.onNextClick.bind(n),n}return u(t,e),t.prototype.getObscuredEmailAddress=function(){var e=this.props.email;try{return Object(s.maskEmail)(e)}catch(e){this.props.reset()}},t.prototype.handleInputChange=function(e){var t=e.target.value;this.props.handleInputChange(t)},t.prototype.onNextClick=function(){var e=this.props,t=e.email,n=e.pinCode;this.props.onNextClick(t,n)},t.prototype.render=function(){return l.a.createElement("div",{className:"pin-code-container"},l.a.createElement("p",{className:"pin-code-text"},"Enter PIN Code"),l.a.createElement("p",{className:"pin-code-subtext"},"We sent your code to ",this.getObscuredEmailAddress(),". If this address matches our records, you should see an email from us shortly. Your PIN expires in 24 hours. Be sure to check your spam folder."),l.a.createElement("div",{className:"pin-code-field"},l.a.createElement("label",{className:"pin-code-field-label",htmlFor:"pin-code-field-input"},"Code"),l.a.createElement(c.Input,{inputId:"pin-code-field-input",type:"text",name:"pinCodeField",placeholder:"e.g. A34T009F",value:this.props.pinCode,disabled:this.props.apiCallInProgress,onChangeFunction:this.handleInputChange}),!this.props.apiCallInProgress&&this.props.hasPinCodeError?l.a.createElement("p",{className:"pin-code-field-error"},"The PIN code you entered is expired or not found. Please go back and enter your email again to receive a new code."):null),l.a.createElement("div",{className:"pin-code-buttons"},l.a.createElement("button",{className:"btn btn-primary btn-block btn-next",disabled:this.props.apiCallInProgress,onClick:this.onNextClick},"Next"),l.a.createElement("button",{className:"btn btn-secondary btn-block btn-back",disabled:this.props.apiCallInProgress,onClick:this.props.onBackClick},"Back"),l.a.createElement("button",{className:"btn btn-secondary btn-block btn-close",disabled:this.props.apiCallInProgress,onClick:this.props.onCloseClick},"Close")))},t}(l.a.Component),m=n(110),f=n(80),p=Object(a.connect)(function(e){return{apiCallInProgress:Object(m.c)(e),email:Object(m.a)(e),hasPinCodeError:Object(m.b)(e),pinCode:Object(m.d)(e)}},function(e,t){return{handleInputChange:function(t){var n;e(Object(f.g)(null===(n=t)||void 0===n?void 0:n.trim()))},onBackClick:function(){e(Object(i.goBack)()),e(Object(f.d)())},onCloseClick:function(){e(Object(i.goBack)()),e(Object(i.goBack)()),e(Object(f.d)())},onNextClick:function(t,n){e(Object(f.h)(t,n))},reset:function(){e(Object(i.goBack)()),e(Object(f.f)(null))}}})(d);t.a=p},577:function(e,t,n){"use strict";var r,a=n(11),i=n(39),o=n(0),l=n.n(o),c=n(31),s=n(71),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(t){var n=e.call(this,t)||this;return n.handleInputChange=n.handleInputChange.bind(n),n.isEmailValid=n.isEmailValid.bind(n),n.onNextClick=n.onNextClick.bind(n),n}return u(t,e),t.prototype.handleInputChange=function(e){var t=e.target.value;this.props.handleInputChange(t)},t.prototype.isEmailValid=function(e){return Object(s.b)(e)},t.prototype.onNextClick=function(){this.isEmailValid(this.props.email)&&this.props.onNextClick(this.props.dealerId,this.props.email)},t.prototype.render=function(){return l.a.createElement("div",{className:"email-login-container"},l.a.createElement("p",{className:"email-login-text"},"Lookup My Deal"),l.a.createElement("p",{className:"email-login-subtext"},"To verify your identity, please enter the email you used to submit your deal to receive a one-time PIN code."),l.a.createElement("div",{className:"email-login-field"},l.a.createElement("label",{className:"email-login-field-label",htmlFor:"email-login-field-input"},"Email"),l.a.createElement(c.Input,{inputId:"email-login-field-input",type:"email",name:"emailLoginField",placeholder:"e.g. email@address.com",errorMessage:"Please enter a valid email address.",value:this.props.email,onChangeFunction:this.handleInputChange,validationFunction:this.isEmailValid})),l.a.createElement("div",{className:"email-login-buttons"},l.a.createElement("button",{className:"btn btn-primary btn-block btn-next",disabled:this.props.apiCallInProgress,onClick:this.onNextClick},"Next"),l.a.createElement("button",{className:"btn btn-secondary btn-block btn-close",onClick:this.props.onCloseClick},"Close")))},t}(l.a.Component),m=n(110),f=n(5),p=n(80),h=Object(a.connect)(function(e){var t=m.a(e),n=Object(f.j)(e),r=m.e(e);return{dealerId:"string"==typeof n?parseInt(n,10):Number(n),email:t,apiCallInProgress:r}},function(e,t){return{handleInputChange:function(t){var n;e(Object(p.f)(null===(n=t)||void 0===n?void 0:n.trim()))},onCloseClick:function(){e(Object(i.goBack)())},onNextClick:function(t,n){e(Object(p.e)(t,n))}}})(d);t.a=h},578:function(e,t,n){"use strict";var r,a,i=n(11),o=n(260),l=n(27),c=n(43),s=n(0),u=n.n(s),d=n(155),m=n.n(d),f=n(67),p=n.n(f);!function(e){e.autoOpen="autoOpen"}(r||(r={})),function(e){e.VIN="VIN"}(a||(a={}));var h=["Build a REAL monthly payment","Get a Trade-In Value","Get pre-approved for financing"],b=["Calculate a REAL monthly payment","Value your Trade-In Value","Get pre-approved for financing"],v={paddingLeft:"0.1rem",paddingRight:"0.1rem"},g=function(e){var t=e.isMobile,n=e.createDealAction,i=e.createDealSource,o=t&&n===r.autoOpen&&i===a.VIN;return u.a.useEffect(function(){e.autoOpenSP&&e.onSeeMyOffer()},[e.autoOpenSP]),u.a.createElement(m.a,{isOpen:!0,shouldFocusAfterRender:!1,className:"success-modal-content",overlayClassName:"success-modal-overlay",ariaHideApp:!1},function(e){return e?u.a.createElement("div",{className:"msg-header"},"Start Your Deal Online &",u.a.createElement("br",null),"Save Additional Time"):u.a.createElement("div",{className:"msg-header"},"Complete Online &",u.a.createElement("br",null),"Save Additional Time")}(o),u.a.createElement("div",{className:"options"},function(e){var t=e?b:h;return u.a.createElement("div",{className:"options__info-items-container"},t.map(function(e,t){return u.a.createElement("div",{key:t.toString(),className:"options__info-items-row"},u.a.createElement("i",{className:"fa fa-check-circle"}),u.a.createElement("div",{className:"options__info-item-title"},e))}))}(o)),u.a.createElement("div",{className:p()("pencil-success-landing","pencil-success-landing-modal","dr-page")},u.a.createElement("button",{className:"btn btn-primary btn-block",id:"success-modal-primary",style:v,onClick:o?e.goToTermsPage:e.onSeeMyOffer},o?"Next: Calculate Taxes":"Resume Monthly Payment"),o?null:u.a.createElement("button",{className:"btn btn-secondary btn-block",id:"success-modal-secondary",style:v,onClick:e.goToEditor},"Start Over")))},y=n(2),E=n(9),O=n(15),I=Object(i.connect)(function(e){return{autoOpenSP:"shopper-platform"===e.widgetSettings.dsRoute,createDealAction:Object(E.b)(e),createDealSource:Object(E.e)(e),isMobile:Object(E.g)(e)}},function(e){return{onSeeMyOffer:function(){e({type:y.wb}),e(Object(o.a)())},goToTermsPage:function(){e(Object(O.f)("paymentOptions")),e(Object(O.e)())},goToEditor:function(){e({type:y.xb}),e(Object(l.goToEditor)()),e(Object(c.e)())}}})(g);t.a=I},579:function(e,t,n){"use strict";var r,a,i=n(11),o=n(1),l=n(2),c=n(0),s=n.n(c),u=n(155),d=n.n(u),m=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={onboardingModalIsOpen:n.props.showOnboardingModal},n.closeOnboardingModal=n.closeOnboardingModal.bind(n),n}return m(t,e),t.prototype.closeOnboardingModal=function(){this.setState({onboardingModalIsOpen:!1}),this.props.closeOnboardingModal()},t.prototype.render=function(){var e=s.a.createElement("div",{className:"dr-onboarding-modal__header"},s.a.createElement("div",{className:"dr-onboarding-modal__header-line-1"},"Make Your Offer Now."),s.a.createElement("div",{className:"dr-onboarding-modal__header-line-2"},"Save Time Later.")),t=s.a.createElement("div",{className:"dr-onboarding-modal__info-items-container"},String.raw(a||(a=f(["Get your actual payment with just a few clicks. It's easy, and the more you do online the more time you save at the dealership."],["Get your actual payment with just a few clicks. It's easy, and the more you do online the more time you save at the dealership."])))),n=s.a.createElement("div",{className:"btn-group"},s.a.createElement("div",{className:"btn-actions form-row form-group btn-row"},s.a.createElement("button",{id:"startYourOffer",className:"btn btn-block btn-primary",type:"button",onClick:this.closeOnboardingModal,tabIndex:0},"Start Your Offer")));return s.a.createElement(d.a,{isOpen:this.state.onboardingModalIsOpen,shouldFocusAfterRender:!1,onRequestClose:this.props.closeOnboardingModal,className:"dr-onboarding-modal",overlayClassName:"onboarding-modal-overlay"},e,t,n)},t}(c.Component),h=n(16),b=n(27),v=n(13),g=n(25),y=n(9),E=g.b,O=g.a.shopperOnBoardingTest,I=Object(i.connect)(function(e,t){var n=o.selectors.getVehicleDetails(e),r=o.selectors.getDealerSettings(e),a=Object(v.i)(n.vin,r.dealerId),i=Object(v.b)(a),l=E(O,O.shopperOnboardingModalVisibleOnVdp)&&!Object(y.k)(e),c=Object(v.d)(r.dealerId),s=!1;return i||(s=l&&!c||t.showOnboardingModal),{showOnboardingModal:s}},function(e){return{closeOnboardingModal:function(){h.d("ONBOARDING_MODAL_CTA_CLICKED"),e({type:l.Q}),e(Object(b.goToEditor)())}}})(p);t.a=I},6:function(e,t,n){"use strict";n.d(t,"k",function(){return i}),n.d(t,"l",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"j",function(){return c}),n.d(t,"i",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return b});var r=n(62),a=n.n(r);function i(e){return e.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}function o(e){var t=parseInt(e.replace("$","").replace(/,/g,""),10);return isNaN(t)?0:t}function l(e,t){return null===e||isNaN(e)||""===e?t||"$--":a()(function(e){return Math.ceil(e)}(e)).format("$0,000")}function c(e){return!(null===e||isNaN(e))}function s(e){return c(e)}function u(){return"$--"}function d(e){return a()(e).format("0,000")}function m(e,t){return void 0===t&&(t=!1),e?e+(t?"/":" ")+"mo":null}function f(e){return e+"% APR"}function p(e){return d(e)+" mi"}function h(e){return""+d(e)}function b(e){return s(e)?l(e):"$--"}},60:function(e,t,n){"use strict";var r=n(21);t.a=function(e){return r.selectors.isCalculatingPayment(e)}},64:function(e,t,n){"use strict";var r=n(63),a=Object(r.b)();t.a=a},65:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"a",function(){return d});var r=n(2);function a(e){return{type:r.S,message:e}}function i(){return{type:r.kb}}function o(){return{type:r.pb}}function l(){return{type:r.nb}}function c(){return{type:r.ob}}function s(){return{type:r.mb}}function u(){return{type:r.Eb}}function d(){return{type:r.j}}},68:function(e,t,n){"use strict";var r,a;n.d(t,"a",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return p});var i=!0,o=!0,l=!1,c=function(){return i||o},s=function(){i=!0,o=!1},u=function(){i=!1,o=!0},d=function(){i=!1,o=!1,r&&!l&&(l=!0,r())},m=function(){a&&(l=!1,a())},f=function(e){r=e},p=function(e){a=e}},69:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n.n(r),i=n(266).a,o=function(e){return e.iconUrl&&e.iconUrl.indexOf("<svg")>=0?a.a.createElement("span",{className:"isvg loaded "+e.className,dangerouslySetInnerHTML:{__html:e.iconUrl}}):a.a.createElement(i,{src:e.iconUrl,className:e.className})};o.defaultProps={className:""}},71:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o});var r=function(e){if(!e)return e;var t=e.replace(/[^\d]/g,"");return t.length<=3?t:t.length<=7?t.slice(0,3)+"-"+t.slice(3):t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6,10)},a=function(e){return/^\s*([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)\s*$/i.test(e)},i=function(e){var t=e&&e.trim();return/^\s*[a-zA-Z]+(([\s,'-.][a-zA-Z ])?[a-zA-Z]*)*\s*$/.test(t)&&t.length>1&&t.length<16},o=function(e){var t=e&&e.trim();return/^\s*[a-zA-Z]+(([\s,'-.][a-zA-Z ])?[a-zA-Z]*)*\s*$/.test(t)&&t.length>1&&t.length<26}},76:function(e,t,n){"use strict";n.d(t,"b",function(){return I}),n.d(t,"c",function(){return T}),n.d(t,"f",function(){return C}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return N}),n.d(t,"a",function(){return S});var r,a,i,o,l,c,s=n(38),u=n(68),d=function(e){r&&s.a.trigger("show")},m=function(e,t,n){var r=t;return e.style.height&&e.style.height!==n&&!r&&(r=e.style.height),e.style.height=n,r},f=function(){return document.getElementsByTagName("BODY")[0]},p=function(){return document.getElementById("dr-main-modal-background")},h=function(){return document.getElementsByClassName("dr-page")[0]},b=function(e){var t=[];if(0===e.length||e.length>=1)for(var n=0;n<e.length;n++)t.push(e[n]);else e&&t.push(e);return t},v=function(e,t){b(e).forEach(function(e){e.className.indexOf(" "+t)<0&&(e.className+=" "+t)})},g=function(e,t){b(e).forEach(function(e){var n=e.className.indexOf(" "+t);n>=0&&(e.className=e.className.substr(0,n))})},y=function(e,t){var n,r,s,u;u=document.documentElement,a=m(u,a,"100%"),r="auto",s=i,(n=u).style.overflowY&&n.style.overflowY!==r&&!s&&(s=n.style.overflowY),n.style.overflowY=r,i=s,function(){var e,t,n,r=f();l=m(r,l,"100%"),t="auto",n=o,(e=r).style.overflow&&e.style.overflow!==t&&!n&&(n=e.style.overflow),e.style.overflow=t,o=n,v(r,"open")}(),function(e,t){var n=h();c=function(e,t,n,r,a){var i=t;return e.style.maxWidth&&e.style.maxWidth!==n&&!i&&(i=e.style.maxWidth),r?(e.style.width="95%",e.style.height="95%",e.style.right="auto",e.style.maxWidth="auto"):(e.style.maxWidth=n,e.style.width="85%"),i}(n,c,"960px",e)}(e),e&&function(){var e=p();e.style.display="flex",e.style["justify-content"]="center",e.style["align-items"]="center"}(),v(p(),"open")},E=function(){var e;!function(){var e=document.documentElement;e.style.height=a,e.style.overflowY=i}(),(e=f()).style.overflowY=o,g(e,"open"),h().style.maxWidth=c,document.documentElement.style.height=a,g(p(),"open")},O=function(){return document.location.href.indexOf("instanceId")>=0},I=function(e,t,n){r=e,s.a.route("start",d),u.d(function(){O()&&y(t),s.a.trigger("open")}),u.c(function(){window.opener&&window.close(),s.a.trigger("close"),O()&&E()})},T=function(){s.a.trigger("ready")},C=function(){s.a.trigger("startAurycRecording")},_=function(e){s.a.trigger("setHeight",{height:e})},N=function(){s.a.trigger("setUseAnimatedHeight",{})},S=function(){s.a.trigger("startLoadingSpShell",{})}},80:function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return h});var r=n(61),a=n(39),i=n(12),o=n(2),l=n(14).a.services,c=function(e){return{type:o.zb,payload:{email:e}}},s=function(e){return{type:o.Ab,payload:{pinCode:e}}},u=function(e,t){return{type:o.sb,payload:{email:e,pinCode:t}}},d=function(){return{type:o.rb,payload:{}}},m=function(e,t){var n,a=encodeURIComponent(e);return(n={})[r.CALL_API]={endpoint:i.urlBuilder.buildFromConfig(l.bff,"pinValidate/user/"+a+"/pin/"+t),method:"GET",headers:{"Content-Type":"application/json"},types:[o.e,o.f,o.d]},n},f=function(e,t){return{type:o.qb,payload:{dealerId:e,email:t}}},p=function(e,t){var n;return(n={})[r.CALL_API]={endpoint:i.urlBuilder.buildFromConfig(l.bff,"pinEmail"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dealerId:e,email:t}),types:[o.b,o.c,o.a]},n},h=function(){return Object(a.push)("/showroom/pinCode")}},86:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n(1),a=function(e){return function(e){return e.vehicle}(e).vin},i=function(e){var t=r.selectors.getVehicleDetails(e);return"new"===(t.type||t.condition||null)}},87:function(e,t,n){"use strict";var r=n(12),a=n(13),i=n(22),o=function(e){return e.spModal||{}},l=n(14),c=n(23),s=n(9),u=n(5);n.d(t,"b",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"a",function(){return b});var d=l.a.services,m=function(e){var t,n=function(e){return e.offer.vehicle.vin}(e),l=function(e){return function(e){return e.dealer}(e).id}(e),m=Object(a.i)(n,l)||{},f=(e.meta,Object(s.g)(e)),p=Object(s.e)(e),h=Object(s.b)(e),b=Object(u.B)(e),v=Object(u.z)(e),g=Object(u.A)(e),y=Object(c.c)(),E=Object(s.f)(e),O=Object(s.a)(e),I=Object(s.j)(e);if(Object(u.G)()&&-1===(E||"").indexOf("enableP202Redesign")){var T=E.split(",").filter(function(e){return e});T.push("enableP202Redesign"),E=T.join()}var C=(null===(t=m)||void 0===t?void 0:t.connectionId)||Object(s.c)(e)||function(e){return o(e).connectionId||""}(e),_=r.urlBuilder.buildFromConfig(d.shopperPlatform,"/sp/shells/main.html")+"?connectionId="+C+"&vin="+n+"&isMobile="+f,N=Object(s.h)(e),S=Object(u.G)()?"/dashboard":"/landingPage";N&&(_+="&sponsor="+N);var D=e.spModal&&e.spModal.deepLinkRoute||Object(s.d)(e);return"/"===D&&(D=S),D&&(_+="&route="+D),Object(u.H)(e)&&!Object(u.G)()&&(_+="&microSiteEnabled=true"),b&&(_+="&vdpTrackingPhoneNumber="+b),E&&(_+="&enableToggles="+E),O&&(_+="&disableToggles="+O),Object(u.G)()&&(_+="&dealExperience="+i.d),I&&(_+="&zipCode="+I),v&&(_+="&theme="+v),g&&(_+="&themeRedesign="+g),-1!==window.location.search.indexOf("ddcOptimizelyOptIn=true")&&(_+="&ddcOptimizelyOptIn=true"),y&&(_+="&isMinified="+y),p&&(_+="&dsSource="+p),h&&(_+="&dsAction="+h),_},f=function(e){return"shopper-platform"===Object(s.d)(e)},p=function(e){var t=e.match(/\?theme=([^\&]*)/);if(!t)return"default";var n=t[1];return n?n.replace("?theme=","").replace(".css",""):"default"},h=function(e){var t=e.match(/\&themeRedesign=([^\&]*)/i);if(!t)return"default";var n=t[1];return n?n.replace("&themeRedesign=","").replace(".css",""):"default"},b=function(e,t){return void 0===e&&(e="bff"),void 0===t&&(t="init"),r.urlBuilder.buildFromConfig(d[e],""+t)}},9:function(e,t,n){"use strict";n.d(t,"h",function(){return l}),n.d(t,"k",function(){return c}),n.d(t,"m",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"l",function(){return y});var r=n(1),a=n(7),i=n(22),o=n(13),l=function(e){var t,n,r;return(null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.sponsor)?r:"").toLowerCase()},c=function(e){var t=l(e).toLowerCase();return["kbb","atc"].includes(t)},s=function(e){var t=r.selectors.getVehicleDetails(e),n=r.selectors.getDealerSettings(e),a=Object(o.i)(t.vin,n.dealerId);return l(e)===i.a&&Object(o.b)(a)},u=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.test_name)?r:""},d=function(e){var t,n;return"yes"===(null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.isMobile)},m=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.dsConnectionId)?r:""},f=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.enableToggles)?r:""},p=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.disableToggles)?r:""},h=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.dsRoute)?r:""},b=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.dsAction)?r:""},v=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.dsSource)?r:""},g=function(e){var t,n,r;return null!=(r=null===(n=null===(t=e)||void 0===t?void 0:t.widgetSettings)||void 0===n?void 0:n.zipCode)?r:""},y=function(e){var t=r.selectors.getShopperInfo(e);return a.validator.isTestLead(t)}},96:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=function(){return a.a.createElement("div",{className:"spinner"})};t.a=function(){return a.a.createElement("div",{className:"payment-spinner-container horizontal-flex-left-start"},a.a.createElement("span",{className:"value"},"$"),a.a.createElement(i,null))}}});