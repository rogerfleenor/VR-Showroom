!function(){if(window.ggLoader)throw new Error("toolbar already loaded");ggLoader={},ggConfig={data:{account_id:101669,account_is_test:0,parent_id:101711,generated_at:1599843674,api_url:"https://gubagoo.io/api",debug:!1,environment:"production",server_url:"https://gubagoo.io",comet_url:"https://node.gubagoo.io",show_in_iframe:!1,ai_filter_enabled:!0,toolbar_id:10,toolbar_cdn:"https://cdn.gubagoo.io",toolbar_enabled:1,hidden:"0",social_media_top_right:"0",default_state:"ui_v3",mobile_state:"chat-btn-left",language:"en",toolbar_small:"",mobile_toolbar_small:"",special_offer_id:"",special_offer_form:"",hide_special_icon:"0",disable_mobile:!1,always_load_jquery:!1,prevent_jquery_load:!1,toolbar_hide_copyright:!1,show_privacy:!1,terms_conditions_hover:!1,toolbar_use_dealer_vdp:!1,toolbar_chat_hide_tradein:!1,toolbar_chat_hide_vdp_calc:!1,scheduling_location_id:"asbury:NBD",cbo_enabled:!1,cbo_widget_append:!1,vdp_flow:!0,toolbar_dept_picker_enabled:!1,toolbar_chat_hide_testdrive:!1,toolbar_chat_disable_transcript_greeter:!1,toolbar_chat_desktop_ui_left:!0,toolbar_chat_bubble_blinker:!1,toolbar_enable_marketing_opt_in:!1,toolbar_offers_terms_conditions_link:!1,apple_biz_id:!1,ga_tracking_codes:!0,whatsapp_enabled:!1,special_btn_label:"Specials"}},ggFramework=window.ggFramework||{},function(framework,config){var debug_enabled,hooks;!function(){framework.loaded={};var loaded=framework.loaded;window.ggUrl=function(e){return-1==e.indexOf("//")&&(e=ggConfig.get("toolbar_cdn")+e),framework.ie()<11&&"http:"==window.location.protocol&&(e=e.replace("https:","http:")),e},framework.serialize=function(e,t){var o=[];for(var r in e)if(e.hasOwnProperty(r)){var i=t?t+"["+r+"]":r,n=e[r];o.push("object"==typeof n?framework.serialize(n,i):encodeURIComponent(i)+"="+encodeURIComponent(n))}return o.join("&")},framework.sendRequest=function(e,t,o,r){(t=t||{}).data_type=r||"json";var i=framework.serialize(t),n="GET";(e+i).length>=2083?(i="",n="POST"):i="?"+i,e=ggUrl(e)+i;var a=window.XDomainRequest?new XDomainRequest:new XMLHttpRequest;return a.open(n,e,!0),a.timeout=18e3,a.onerror=function(e){console.log("CORS error",e)},a.onprogress=function(){},a.onload=function(){if(a.readyState||(a.readyState=4,a.status=200),4===a.readyState){if(!(a.status>=200&&a.status<400))throw"Response returned with non-OK status";switch(r){case"text":o(a.responseText);break;default:let e=a.responseText[0],t=a.responseText[a.responseText.length-1];o("{"!=e&&"["!=e||"}"!=t&&"]"!=t?{content:a.responseText}:JSON.parse(a.responseText))}}},i?a.send():(a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("X-Emulated-Get","1"),a.send(JSON.stringify(t))),window.XDomainRequest&&framework.pendindRequests.push(a),a},framework.pendindRequests=[],framework.executeJs=function(code){eval(code)},framework.getScript=function(e,t,o,r){if(e=ggUrl(e),o)return framework.loadFromCache(e,(function(o,r){r&&framework.executeJs(r),framework.executeJs(o),loaded[e]=!0,t&&t(!1)})),!1;var i=!1,n=document.createElement("script");r&&r.id&&n.setAttribute("id",r.id),n.type="text/javascript",n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,t&&t(n),n.onload=n.onreadystatechange=null)},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},framework.getCss=function(e,t){if(loaded[e])return!1;if(e=ggUrl(e),t)return framework.loadFromCache(e,(function(t){framework.insertRawCss(t),loaded[e]=!0})),!1;var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(o),loaded[e]=!0},framework.loadFromCache=function(e,t){var o=e.split(".").pop(),r=!!config.get("debug"),i=o+"-"+framework.hash(e),n=ggStorage.getCache(i);return n?(t(n),!0):(framework.sendRequest(e,{},(function(e){var n=e;e.content&&(n=e.content),"css"==o&&(n=(n=n.split("/v2/media/fonts").join(ggConfig.get("toolbar_cdn")+"/v2/media/fonts")).split("../media/").join(ggConfig.get("toolbar_cdn")+"/v2/media/")),r||ggStorage.setCache(i,n),t(n,e.plugins)}),"css"==o?"text":"json"),!1)},framework.insertRawCss=function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},framework.require=function(e,t,o,r){if(loaded[e])return t&&t(),!1;loaded[e]=!0,framework.getScript(e,t,o,r)},framework.hash=function(e){var t,o,r=0;if(0==e.length)return r;for(t=0,o=e.length;t<o;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r}}(),window.ggHook=(debug_enabled=window.location.href.indexOf("gg_hooks_debug")>-1,hooks=[],{STOP_CODE:-1,register:function(e,t,o){void 0===hooks[e]&&(hooks[e]=[]),o?hooks[e].unshift(t):hooks[e].push(t)},fire:function(e,t){if(debug_enabled&&window.console&&console.log("EVENT FIRED: "+e,t),void 0!==hooks[e])for(var o=0;o<hooks[e].length;++o)if(-1===hooks[e][o](t))return-1;return!0}}),ggConfig=window.ggConfig||{data:{}},ggConfig.get=function(e){return void 0!==this.data[e]&&this.data[e]},ggConfig.isEmpty=function(e){var t=ggConfig.get(e);return!t||0===t.length},ggConfig.set=function(e,t){this.data[e]=t},ggConfig.extend=function(e){for(var t in e)this.data[t]=e[t]},ggDebug=function(e){return-1===window.location.href.indexOf("debug_"+e)?function(){}:function(){var t=Array.from(arguments);t.unshift("[DEBUG]["+e+"]"),window.console&&window.console.log.apply(this,t)}},ggFramework.cookie_enabled=null,ggFramework.checkCookie=function(){if(null!==ggFramework.cookie_enabled)return ggFramework.cookie_enabled;var e=!!navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||cookieEnabled||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),ggFramework.cookie_enabled=e,e},ggFramework.setCookie=function(e,t,o){(o=o||{expires:1800,path:"/",domain:window.location.hostname}).domain=o.domain.replace("www.","");var r=o.expires;if("number"==typeof r&&r){var i=new Date;i.setTime(i.getTime()+1e3*r),r=o.expires=i}r&&r.toUTCString&&(o.expires=r.toUTCString());var n=e+"="+(t=encodeURIComponent(t));for(var a in o){n+="; "+a;var s=o[a];!0!==s&&(n+="="+s)}window.self!==window.top?document.cookie=n+"; SameSite=None; Secure":document.cookie=n},ggFramework.getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},window.ggStorage=new function(){var e=!1,t=this;"undefined"!=typeof Storage&&(e=!0);try{localStorage.setItem("test",1)}catch(t){e=!1}finally{e&&localStorage.removeItem("test")}e&&!ggFramework.checkCookie()&&(e=!1);var o=function(e){return"gg_"+e};this.enabled=e,this.get=function(t){return!!e&&localStorage.getItem(o(t))},this.set=function(t,r){if(!e)return!1;localStorage.setItem(o(t),r)},this.remove=function(t){if(!e)return!1;localStorage.removeItem(o(t))},this.test=function(t){return!!e&&null!==localStorage.getItem(o(t))},this.setJSON=function(e,o,r){t.set(e,JSON.stringify(o)),t.setExpiry(e,r)},this.getJSON=function(e){if(!t.checkExpiry(e))return t.clear(e),!1;var o=t.get(e);if(o)try{o=JSON.parse(o)}catch(e){o=!1}return o},this.clear=function(e){t.remove(e),t.remove(e+":cache_expiry")},this.setExpiry=function(e,o){return t.set(e+":cache_expiry",!!o&&parseInt((new Date).getTime()/1e3)+o)},this.checkExpiry=function(e){var o=parseInt(t.get(e+":cache_expiry"));return!o||o>=parseInt((new Date).getTime()/1e3)},this.cache_fallback={},this.getCache=function(t){if(!e)return ggStorage.cache_fallback[t];var o=ggStorage.get(t+"_time");return!!(o&&ggConfig.get("generated_at")<=parseInt(o))&&ggStorage.get(t)},this.setCache=function(t,o){e||(ggStorage.cache_fallback[t]=o),ggStorage.set(t+"_time",ggConfig.get("generated_at")),ggStorage.set(t,o)}},ggFramework.ie=function(){if(ggFramework.ie_version)return ggFramework.ie_version;var e=/(msie) ([\w.]+)/i.exec(navigator.userAgent)||[],t=e.length>1&&parseInt(e[2]);return!t&&/Trident\/7\./.test(navigator.userAgent)&&(t=11),ggFramework.ie_version=t||99,ggFramework.ie_version},ggFramework.isMobile=function(){if("#m"==window.location.hash)return!0;for(var e=["iphone","ipod","series60","symbian","android","windows ce","blackberry","palm","avantgo","docomo","vodafone","j-phone","xv6850","htc","lg;","lge","mot","nintendo","nokia","samsung","sonyericsson","bb10"],t=navigator.userAgent.toLowerCase(),o=0;o<e.length;o++)if(null!=t.match(e[o]))return e[o];return!1},ggFramework.checkHeadless=function(){return"development"!=ggConfig.get("environment")&&"local-dev"!=ggConfig.get("environment")&&(window._phantom||window.callPhantom?"phantom":window.__phantomas?"phantomas":window.Buffer?"nodejs":window.emit?"couchjs":window.spawn?"rhino":window.webdriver?"selenium":!(!navigator.webdriver&&""!=navigator.languages&&navigator.onLine&&Function.prototype.bind&&!(Function.prototype.bind.toString().indexOf("native code")>0&&Function.prototype.bind.toString().replace(/bind/g,"Error")!=Error.toString()))&&"headless")};var self=window.ggLoader={isMobile:!1,disabled:!1,load:function(){var e="/toolbars/"+config.get("account_id")+"/toolbar_";self.isMobile&&(e+="m_"),e+=config.get("account_id")+"_"+config.get("toolbar_id")+".js",framework.getScript(e,!1,!config.get("debug"))},init:function(){return self.isMobile=framework.isMobile(),"ipad"==self.isMobile&&(self.isMobile=!1),!!config.get("toolbar_enabled")&&(!(!config.get("show_in_iframe")&&window!=window.top)&&(!(framework.ie()<8)&&((!self.isMobile||!config.get("disable_mobile"))&&(!framework.checkHeadless()&&("true"!=ggStorage.get("toolbar_blocked")&&(this.loadScripts(),!0))))))},loadScripts:function(){if("function"==typeof jQuery&&"object"==typeof jQuery.fn||config.get("prevent_jquery_load")||framework.getScript("/v3/jquery.js",!1,!0),(ggConfig.get("cbo_enabled")||ggConfig.get("vdp_flow"))&&!window.CBOLoader){var e="https://cdn.gubagoo.io"==ggConfig.get("toolbar_cdn")?"https://cbo-loader.gubagoo.io/loader.js":"https://cbo-loader-test.gubagoo.io/loader.js";e+="?t="+ggConfig.data.generated_at,framework.getScript(e,!1,!0)}self.load()}};window.ggTracking=new function(){var e=this;this.version="3.0",this.is_sent=!1,this.title="",this.browser="",this.platform="",this.referer="",this.lang="",this.resolution="",this.location="",this.account_id=!1,this.visitor_uid="",this.new_session=!1,this.img=!1,this.test_mode=!1,this.ip=!1,this.check_unique=!0,this.track_mode="json",this.append_params={},this.track_response=!1,this.trParams=[],this.updateTitle=!1,this.cookie_enabled=!0,this.init=function(e){this.account_id=e,this.getParams()},this.getParams=function(){document.title&&(this.page_title=this.title=this.trim(document.title)),document.referrer&&(this.referer=document.referrer),0==this.referer.toString().length&&(this.referer=this.getRequestParam("referer")),window.location&&(this.location=window.location),this.resolution=screen.width+"_"+screen.height,this.lang=(navigator.language||navigator.browserLanguage).substr(0,2),this.cookie_enabled=ggFramework.checkCookie(),this.parseUserAgent(navigator.userAgent),this.check_unique&&this.checkUnique()},this.trim=function(e){return e.replace(/^\s+|\s+$/g,"").substr(0,80)},this.getByPattern=function(e,t,o){var r=o;for(var i in t){var n=t[i];if(n.indexOf("/")>=0){if(null!=new RegExp(n,"i").exec(e)){r=i;break}}else if(e.indexOf(n)>=0){r=i;break}}return r},this.parseUserAgent=function(e){var t="";e=e.toLowerCase();var o=this.getByPattern(e,{ip:"iphone",ipad:"ipad",an5:"android 5",an4:"android 4",an:"android",bb:"blackberry",nk:"nokia",ipod:"ipod",ox:"mac os x",w2:"windows nt 5.0",w3:"windows nt 5.2",xp:"windows nt 5.1",vi:"windows nt 6.0",w7:"windows nt 6.1",w8:"windows nt 6.2",w81:"windows nt 6.3",w10:"windows nt 10.0",chrome_os:"cros",wn:"windows",ub:"ubuntu",lx:"linux",un:"/(unix|bsd)/",mo:"/(midp|mobile|j2me|symbian)/"},"un");return"bt"==(t=this.getByPattern(e,{ff:"firefox",ie11:"trident/7.0; rv:11.0",ie10:"msie 10",ie9:"msie 9",ie8:"msie 8",edge:"edge",ie:"/(msie)/",ch:"chrome",sf:"safari",op:"opera",bt:"/(bot|crawl|spider|bingbot)/",mo:"/(blackberry|nokia|midp|mobile|j2me|symbian)/"},"un"))&&"un"==o&&(o="bt"),"mo"==t&&"un"==o&&(o="mo"),this.platform=o,this.browser=t,{platform:o,browser:t}},this.refreshSession=function(){ggFramework.setCookie("__ggtrses",1,{expires:1800,path:"/",domain:window.location.hostname})},this.checkUnique=function(){var e=ggFramework.getCookie("__ggtruid");this.cookie_enabled?(!e||e.toString().length<=0||"undefined"==e)&&(e=this.guidGenerator(),ggFramework.setCookie("__ggtruid",e,{expires:63072e3,path:"/",domain:window.location.hostname})):e=!1,this.visitor_uid=e;var t=ggFramework.getCookie("__ggtrses");!t||t.toString().length<=0?this.new_session=!0:this.new_session=!1,this.refreshSession()},this.onTrackResponse=function(t){t.visitor_guid&&(e.visitor_uid=t.visitor_guid),e.track_response=t},this.sendRequest=function(){if("json"==this.track_mode){(e=this.prepareRequest(!0)).data_type="json",window.location.hash&&(e.hash=window.location.hash.split("#").join("")),ggConfig.get("toolbar_id")&&(e.toolbar_id=ggConfig.get("toolbar_id")),ggStorage&&ggStorage.enabled?e.firestamps=ggStorage.get("firestamps"):e.firestamps=ggFramework.getCookie("gg_firestamps"),window.ggStorage&&(e.tabs={po:ggStorage.get("po_tabs"),bb:ggStorage.get("bb_tab")}),window.gubagooCustomParams&&(e.custom_params=window.gubagooCustomParams),ggFramework.sendRequest(this.getRequestUrl(e),{},ggTracking.onTrackResponse)}else{this.img=new Image;var e=this.prepareRequest(!0);this.img.src=this.getRequestUrl(e)}ggTracking.is_sent=!0},this.trackAction=function(e,t,o){this.refreshSession(),this.img=new Image;var r=this.prepareRequest(!1,e,t),i=this.getRequestUrl(r);o&&(i=i+"&"+ggFramework.serialize(o)),this.img.src=i},this.prepareRequest=function(t,o,r){o=o||1;var i={ver:this.version,__ggtruid:this.visitor_uid,ref:this.referer,title:null,href:this.location.toString(),res:this.resolution,ta:o};if(this.append_params)for(var n in this.append_params)this.append_params.hasOwnProperty(n)&&(i[n]=this.append_params[n]);t&&(i.pl=this.platform,i.br=this.browser,i.lang=this.lang),void 0!==r&&r&&(i.tast=r),window.ggLoader&&window.ggLoader.isMobile&&(i.mobile="1"),this.new_session&&(i.__ggtrns="1",this.new_session=!1),this.cookie_enabled||(i.cookie_disabled=!0),this.page_title&&(i.page_title=this.page_title),this.test_mode&&this.ip&&(i.test="1",i.ip=this.ip),i.t=(new Date).getTime();var a=[];a=a.concat(this.trParams);var s=window.location.href.match(/(?:k_clickid=)([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/);s&&a.push(s[1]);var g=window.location.href.match(/_k_(?:.*)_k_/);g&&a.push(g);var c=e.listenForGoogleAnalytics();c&&a.push(c);var d=e.listenForRoiq();d&&a.push(d);var l=e.listenForMarketo();l&&a.push(l);var u=ggStorage.get("orbee_user_id");u&&a.push(u);var h=ggStorage.get("fca_adobe_id");return h&&a.push(h),a.length&&(a=a.filter((function(e,t){return a.indexOf(e)==t})),i.title=a.join("|"),this.trParams=a),this.updateTitle&&(i.update_title=!0),i},this.listenForGoogleAnalytics=function(){if(!ggConfig.get("ga_tracking_codes"))return!1;var t=ggFramework.getCookie("_ga");if(t)return t;var o={ver:this.version,__ggtruid:this.visitor_uid,ref:this.referer,href:this.location.toString(),res:this.resolution,title:this.trParams,ta:1,t:(new Date).getTime()};e.setIntervalX("ga_tracking",(function(){var t=ggFramework.getCookie("_ga");if(t){if(e.clearIntervalX("ga_tracking"),-1!==e.trParams.indexOf(t))return;e.trParams.push(t),o.title=e.trParams.join("|"),ggFramework.sendRequest(e.getRequestUrl(o),{},ggTracking.onTrackResponse)}}),null,1e3,60)},this.listenForRoiq=function(){var t=ggFramework.getCookie("_tsaccid"),o=ggFramework.getCookie("_tsid");if(t&&o)return t+"!"+o;var r={ver:this.version,__ggtruid:this.visitor_uid,ref:this.referer,href:this.location.toString(),res:this.resolution,title:this.trParams,ta:1,t:(new Date).getTime()};e.setIntervalX("roiq_tracking",(function(){var t=ggFramework.getCookie("_tsaccid"),o=ggFramework.getCookie("_tsid");if(t&&o){var i=t+"!"+o;if(e.clearIntervalX("roiq_tracking"),-1!==e.trParams.indexOf(i))return;e.trParams.push(i),r.title=e.trParams.join("|"),ggFramework.sendRequest(e.getRequestUrl(r),{},ggTracking.onTrackResponse)}}),null,1e3,60)},this.listenForMarketo=function(){var t=ggFramework.getCookie("_mkto_trk");if(t)return t;var o={ver:this.version,__ggtruid:this.visitor_uid,ref:this.referer,href:this.location.toString(),res:this.resolution,title:this.trParams,ta:1,t:(new Date).getTime()};e.setIntervalX("marketo_tracking",(function(){var t=ggFramework.getCookie("_mkto_trk");if(t){if(e.clearIntervalX("marketo_tracking"),-1!==e.trParams.indexOf(t))return;e.trParams.push(t),o.title=e.trParams.join("|"),ggFramework.sendRequest(e.getRequestUrl(o),{},ggTracking.onTrackResponse)}}),null,1e3,60)},this.setIntervalX=function(t,o,r,i,n){e.clearIntervalX(t);var a=0;e[t]&&e.clearIntervalX(t),e[t]=window.setInterval((function(){o(),++a>=n&&(window.clearInterval(e[t]),r&&r())}),i)},this.clearIntervalX=function(t){e[t]&&window.clearInterval(e[t]),e[t]=null},this.getRequestUrl=function(e){return ggConfig.get("server_url")+"/c/"+this.account_id+"/?"+ggFramework.serialize(e)},this.guidGenerator=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t=(new Date).getTime()+".";return t+=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.getVisitorGuid=function(){return this.visitor_uid},this.getRequestParam=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}},ggTracking.init(ggConfig.get("account_id")),self.init()||(ggTracking.track_mode="pixel"),ggConfig.get("track_append_params")&&(ggTracking.append_params=ggConfig.get("track_append_params")),window.ggVars&&ggVars.disable_tracking||ggTracking.sendRequest()}(ggFramework,ggConfig)}();